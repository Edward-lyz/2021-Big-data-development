webpackJsonp([3],{"/qlr":function(t,e){},"0xDb":function(t,e,a){"use strict";e.a=function(t,e){if(e=e||0,void 0!==t.completedDrivers&&void 0!==t.totalDrivers){var a=(t.completedDrivers/t.totalDrivers*100).ceil(e);return s()(a)?0:a}return 0};var r=a("MICi"),s=a.n(r)},"2xrz":function(t,e){},"3LDc":function(t,e){},"6lH/":function(t,e,a){"use strict";var r=a("7t+N"),s=a.n(r),n=a("qI5z"),i=a("0xDb"),o=a("gyMJ");e.a={methods:{buildTopUrl:function(){return location.protocol+"//"+location.host},buildUrl:function(t){return"#"+n.e.filter(function(e){return t[e[0]]}).map(function(e){return e[0]+"="+t[e[0]]}).join("&")},buildShareUrl:function(t,e,a,r,s,n){return this.buildTopUrl()+"/"+this.buildUrl({datasource:t,engine:e,tab:"result",queryid:a,chart:r,pivot:s,line:n})},buildDownloadUrl:function(t,e,a,r){return o.c(t,e,a,r)},buildDetailUrl:function(t,e,a,r,s,n){return o.b(t,e,a,r,s,n)},buildShareDownloadUrl:function(t,e,a){return o.d(t,e,a)},calcPrestoQueryProgress:i.a,showModal:function(t){s()("#"+t).modal("show")},hideModal:function(t){s()("#"+t).modal("hide")}}}},"75XZ":function(t,e){},"7NL5":function(t,e){},"8MwZ":function(t,e){},"AP/U":function(t,e){},BxCJ:function(t,e){},CJen:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("W3Iv"),s=a.n(r),n=a("BO1k"),i=a.n(n),o=a("d7EF"),c=a.n(o),l=a("7cc7"),u=a.n(l),d=(a("Rive"),a("pgpf"),a("Rk3n"),a("TNGW"),a("QX/m"),a("vQJi")),m=a.n(d),h=a("7+uW"),f=a("Dd8w"),p=a.n(f),v=a("NYxO"),b={name:"App",computed:p()({},Object(v.c)(["unload"]))},_={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:{unload:this.unload},attrs:{id:"page"}},[e("router-view")],1)},staticRenderFns:[]};var g=a("VU/8")(b,_,!1,function(t){a("zNzv")},null,null).exports,y=a("/ocq"),k=a("gRE1"),C=a.n(k),x=a("Gu7T"),w=a.n(x),S=a("7t+N"),E=a.n(S),T=a("d3iA"),I=a.n(T),L=a("bOdI"),P=a.n(L),A=a("6lH/");function Q(t){return{get:function(){return this.settings[t]},set:function(e){this.$store.commit("setSettings",P()({},t,e))}}}var R={name:"TheSettings",mixins:[A.a],data:function(){return{minlines:[2,4,8,16]}},computed:p()({},Object(v.c)(["settings","datasources","engines"]),Object(v.c)({datasource:function(t){return t.hash.datasource}}),Object(v.c)("editor",["inputQuery"]),Object(v.c)("history",{historyIds:function(t){return t.historyIds},history:function(t){return t.response&&t.response.results?t.response.results:[]}}),Object(v.c)("bookmark",["bookmarks"]),{isWide:Q("isWide"),isAutoQlist:Q("isAutoQlist"),desktopNotification:Q("desktopNotification"),rememberDatasource:Q("rememberDatasource"),rememberEngine:Q("rememberEngine"),minline:Q("minline"),theme:Q("theme"),isCsv:Q("isCsv"),includeHeader:Q("includeHeader"),isLocalStorage:Q("isLocalStorage")}),methods:{isHttps:function(){return"https:"===location.protocol},exportHistory:function(){this.$store.commit("editor/setInputQuery",{data:this.historyIds.join(",")})},importHistory:function(){if(!this.inputQuery.length)return alert("Editor is empty"),!1;confirm("Do you want to overwrite it?")&&this.$store.dispatch("history/importHistory",{data:this.inputQuery})},deleteAllHistory:function(){confirm("Do you want to remove it?")&&this.$store.dispatch("history/deleteAllLocalHistory")},exportBookmark:function(){this.$store.commit("editor/setInputQuery",{data:this.bookmarks.join(",")})},importBookmark:function(){if(!this.inputQuery.length)return alert("Editor is empty."),!1;confirm("Do you want to overwrite it?")&&this.$store.dispatch("bookmark/importBookmarks",{data:this.inputQuery})},deleteAllBookmark:function(){confirm("Do you want to remove it?")&&this.$store.dispatch("bookmark/deleteAllLocalBookmarks")},closeSetting:function(){this.$store.commit("setIsSettingOpen",!1)}}},M={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"header-setting"}},[a("div",{staticClass:"header-close"},[a("button",{staticClass:"close text-white",on:{click:function(e){return e.preventDefault(),t.closeSetting(e)}}},[a("span",[t._v("Ã—")])])]),t._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-3 mb-3 mb-lg-0"},[a("dl",{staticClass:"card card-inverse mb-0"},[a("dt",{staticClass:"card-header"},[t._v("General")]),t._v(" "),a("dd",{staticClass:"card-body mb-0"},[a("ul",{staticClass:"list-unstyled mb-0"},[a("li",{attrs:{title:"Wide Screen"}},[a("label",{class:{"text-white":t.isWide}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.isWide,expression:"isWide"}],staticClass:"align-middle mr-1",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isWide)?t._i(t.isWide,null)>-1:t.isWide},on:{change:function(e){var a=t.isWide,r=e.target,s=!!r.checked;if(Array.isArray(a)){var n=t._i(a,null);r.checked?n<0&&(t.isWide=a.concat([null])):n>-1&&(t.isWide=a.slice(0,n).concat(a.slice(n+1)))}else t.isWide=s}}}),t._v("\n                  Wide Screen\n                ")])]),t._v(" "),a("li",{attrs:{title:"Automatically Refresh Query List"}},[a("label",{class:{"text-white":t.isAutoQlist}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.isAutoQlist,expression:"isAutoQlist"}],staticClass:"align-middle mr-1",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isAutoQlist)?t._i(t.isAutoQlist,null)>-1:t.isAutoQlist},on:{change:function(e){var a=t.isAutoQlist,r=e.target,s=!!r.checked;if(Array.isArray(a)){var n=t._i(a,null);r.checked?n<0&&(t.isAutoQlist=a.concat([null])):n>-1&&(t.isAutoQlist=a.slice(0,n).concat(a.slice(n+1)))}else t.isAutoQlist=s}}}),t._v("\n                  Automatically Refresh Query List\n                ")])]),t._v(" "),t.isHttps()?a("li",{attrs:{title:"Desktop Notification (when in background)"}},[a("label",{class:{"text-white":t.desktopNotification}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.desktopNotification,expression:"desktopNotification"}],staticClass:"align-middle mr-1",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.desktopNotification)?t._i(t.desktopNotification,null)>-1:t.desktopNotification},on:{change:function(e){var a=t.desktopNotification,r=e.target,s=!!r.checked;if(Array.isArray(a)){var n=t._i(a,null);r.checked?n<0&&(t.desktopNotification=a.concat([null])):n>-1&&(t.desktopNotification=a.slice(0,n).concat(a.slice(n+1)))}else t.desktopNotification=s}}}),t._v("\n                  Desktop Notification (when in background)\n                ")])]):t._e(),t._v(" "),t.datasources.length>1?a("li",{attrs:{title:"Remember Last Datasource"}},[a("label",{class:{"text-white":t.rememberDatasource}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.rememberDatasource,expression:"rememberDatasource"}],staticClass:"align-middle mr-1",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.rememberDatasource)?t._i(t.rememberDatasource,null)>-1:t.rememberDatasource},on:{change:function(e){var a=t.rememberDatasource,r=e.target,s=!!r.checked;if(Array.isArray(a)){var n=t._i(a,null);r.checked?n<0&&(t.rememberDatasource=a.concat([null])):n>-1&&(t.rememberDatasource=a.slice(0,n).concat(a.slice(n+1)))}else t.rememberDatasource=s}}}),t._v("\n                  Remember Last Datasource\n                ")])]):t._e(),t._v(" "),t.engines[t.datasource]&&t.engines[t.datasource].length>1?a("li",{attrs:{title:"Remember Last Engine"}},[a("label",{class:{"text-white":t.rememberEngine}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.rememberEngine,expression:"rememberEngine"}],staticClass:"mr-1",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.rememberEngine)?t._i(t.rememberEngine,null)>-1:t.rememberEngine},on:{change:function(e){var a=t.rememberEngine,r=e.target,s=!!r.checked;if(Array.isArray(a)){var n=t._i(a,null);r.checked?n<0&&(t.rememberEngine=a.concat([null])):n>-1&&(t.rememberEngine=a.slice(0,n).concat(a.slice(n+1)))}else t.rememberEngine=s}}}),t._v("\n                  Remember Last Engine\n                ")])]):t._e()])])])]),t._v(" "),a("div",{staticClass:"col-lg-3 mb-3 mb-lg-0"},[a("dl",{staticClass:"card card-inverse mb-0 h-100"},[a("dt",{staticClass:"card-header"},[t._v("Editor")]),t._v(" "),a("dd",{staticClass:"card-body mb-0"},[a("ul",{staticClass:"list-unstyled mb-0"},[a("li",{staticClass:"row mb-2"},[a("div",{staticClass:"col-3 pr-0 text-truncate",attrs:{title:"Minline"}},[t._v("Minline")]),t._v(" "),a("div",{staticClass:"col-9 text-right"},[a("div",{staticClass:"btn-group"},t._l(t.minlines,function(e){return a("a",{key:e,staticClass:"btn btn-sm btn-secondary",class:{selected:e===t.minline},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.minline=e}}},[[t._v(t._s(e))]],2)}),0)])]),t._v(" "),a("li",{staticClass:"row mb-2"},[a("div",{staticClass:"col-5",attrs:{title:"Theme"}},[t._v("Theme")]),t._v(" "),a("div",{staticClass:"col-7 text-right"},[a("button",{staticClass:"btn btn-sm btn-secondary selected dropdown-toggle",on:{click:function(e){return t.showModal("theme")}}},[t._v("\n                    "+t._s(t._f("humanize")(t.theme))+"\n                  ")])])])])])])]),t._v(" "),a("div",{staticClass:"col-lg-3 mb-3 mb-lg-0"},[a("dl",{staticClass:"card card-inverse mb-0 h-100"},[a("dt",{staticClass:"card-header"},[t._v("Download")]),t._v(" "),a("dd",{staticClass:"card-body mb-0"},[a("ul",{staticClass:"list-unstyled mb-0"},[a("li",{staticClass:"row mb-2"},[a("div",{staticClass:"col-5",attrs:{title:"Format"}},[t._v("Format")]),t._v(" "),a("div",{staticClass:"col-7 text-right"},[a("div",{staticClass:"btn-group"},[a("a",{staticClass:"btn btn-sm btn-secondary",class:{selected:!t.isCsv},attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.isCsv=!1}}},[t._v("TSV")]),t._v(" "),a("a",{staticClass:"btn btn-sm btn-secondary",class:{selected:t.isCsv},attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.isCsv=!0}}},[t._v("CSV")])])])]),t._v(" "),a("li",{staticClass:"row mb-2"},[a("div",{staticClass:"col-5",attrs:{title:"Include header"}},[t._v("Include header")]),t._v(" "),a("div",{staticClass:"col-7 text-right"},[a("div",{staticClass:"btn-group"},[a("a",{staticClass:"btn btn-sm btn-secondary",class:{selected:t.includeHeader},attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.includeHeader=!0}}},[t._v("Yes")]),t._v(" "),a("a",{staticClass:"btn btn-sm btn-secondary",class:{selected:!t.includeHeader},attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.includeHeader=!1}}},[t._v("No")])])])])])])])]),t._v(" "),a("div",{staticClass:"col-lg-3"},[a("dl",{staticClass:"card card-inverse mb-0 h-100"},[a("dt",{staticClass:"card-header row mx-0"},[a("div",{staticClass:"col px-0 text-truncate"},[t._v("Storage")]),t._v(" "),a("div",{staticClass:"col px-0 text-right"},[a("div",{staticClass:"btn-group"},[a("a",{staticClass:"btn btn-sm btn-secondary",class:{selected:!t.isLocalStorage},attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.isLocalStorage=0}}},[t._v("Server")]),t._v(" "),a("a",{staticClass:"btn btn-sm btn-secondary",class:{selected:t.isLocalStorage},attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.isLocalStorage=1}}},[t._v("Browser")])])])]),t._v(" "),a("dd",{staticClass:"card-body mb-0"},[a("ul",{staticClass:"list-unstyled mb-0"},[a("li",{staticClass:"row mb-2"},[a("div",{staticClass:"col-6 text-truncate",attrs:{title:"History ("+t.datasource+")"}},[t._v("History"),t.datasources.length>1?a("span",{staticClass:"ml-1"},[t._v("("+t._s(t.datasource)+")")]):t._e()]),t._v(" "),a("div",{staticClass:"col-6 pl-0 text-right"},[a("span",{staticClass:"mr-1"},[a("strong",[t._v(t._s(t.history.length))]),t._v(" items")]),t._v(" "),a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn btn-sm btn-secondary selected dropdown-toggle",attrs:{"data-toggle":"dropdown",disabled:!t.isLocalStorage}},[t._v("Action\n                    ")]),t._v(" "),a("div",{staticClass:"dropdown-menu dropdown-menu-right"},[a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.exportHistory(e)}}},[t._v("Export")]),t._v(" "),a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.importHistory(e)}}},[t._v("Import")]),t._v(" "),a("div",{staticClass:"dropdown-divider"}),t._v(" "),a("a",{staticClass:"dropdown-item text-danger",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.deleteAllHistory(e)}}},[t._v("Remove")])])])])]),t._v(" "),a("li",{staticClass:"row mb-2"},[a("div",{staticClass:"col-6 text-truncate",attrs:{title:"Bookmark ("+t.datasource+")"}},[t._v("Bookmark"),t.datasources.length>1?a("span",{staticClass:"ml-1"},[t._v("("+t._s(t.datasource)+")")]):t._e()]),t._v(" "),a("div",{staticClass:"col-6 pl-0 text-right"},[a("span",{staticClass:"mr-1"},[a("strong",[t._v(t._s(t.bookmarks.length))]),t._v(" items")]),t._v(" "),a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn btn-sm btn-secondary selected dropdown-toggle",attrs:{"data-toggle":"dropdown",disabled:!t.isLocalStorage}},[t._v("Action\n                    ")]),t._v(" "),a("div",{staticClass:"dropdown-menu dropdown-menu-right"},[a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.exportBookmark(e)}}},[t._v("Export")]),t._v(" "),a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.importBookmark(e)}}},[t._v("Import")]),t._v(" "),a("div",{staticClass:"dropdown-divider"}),t._v(" "),a("a",{staticClass:"dropdown-item text-danger",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.deleteAllBookmark(e)}}},[t._v("Remove")])])])])])])])])])])])])},staticRenderFns:[]};var D=a("VU/8")(R,M,!1,function(t){a("BxCJ")},"data-v-bc82c65a",null).exports,H=a("qI5z"),$={name:"TheHeaderUpper",mixins:[A.a],data:function(){return{sitename:H.h,version:H.j}},computed:p()({},Object(v.c)(["datasources","engines","auths","hash","authUser","isSettingOpen"]),Object(v.c)({datasource:function(t){return t.hash.datasource},engine:function(t){return t.hash.engine}}),Object(v.b)(["isPresto","isHive","isSpark"]),Object(v.b)("notification",{hasNotificationUnread:"hasUnread"})),methods:{setDatasource:function(t){this.$store.commit("setHashItem",{datasource:t})},setEngine:function(t){this.$store.commit("setHashItem",{engine:t})},toggleSettingOpen:function(){this.$store.commit("setIsSettingOpen",!this.isSettingOpen)}}},q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"py-2",attrs:{id:"header-upper"}},[a("div",{staticClass:"d-flex align-items-center justify-content-between"},[a("div",[a("h1",{staticClass:"d-inline-block mr-4",attrs:{id:"logo"}},[a("a",{attrs:{href:t.buildUrl({datasource:t.datasource,engine:t.engine})},on:{click:function(e){return e.preventDefault(),t.$emit("logo-click")}}},[a("span",{staticClass:"mr-2",attrs:{id:"logo-figure"}}),t._v(t._s(t.sitename)+"\n        ")])]),t._v(" "),a("span",{staticClass:"mr-2"},[a("small",[t._v("Source")]),t._v(" "),t.datasources&&t.datasources.length>1?[a("div",{staticClass:"dropdown d-inline-block"},[a("button",{staticClass:"btn btn-sm btn-primary",attrs:{"data-toggle":"dropdown"}},[t._v(t._s(t.datasource))]),t._v(" "),a("div",{staticClass:"dropdown-menu"},t._l(t.datasources,function(e){return a("button",{key:e,staticClass:"dropdown-item",class:{active:e===t.datasource},on:{click:function(a){return a.preventDefault(),t.setDatasource(e)}}},[t._v(t._s(e))])}),0)])]:[a("strong",[t._v(t._s(t.datasource))])]],2),t._v(" "),a("span",{staticClass:"mr-2"},[a("small",[t._v("Engine")]),t._v(" "),t.engines[t.datasource]&&t.engines[t.datasource].length>1?[a("div",{staticClass:"dropdown d-inline-block"},[a("button",{staticClass:"btn btn-sm btn-primary",attrs:{"data-toggle":"dropdown"}},[t._v(t._s(t.engine))]),t._v(" "),a("div",{staticClass:"dropdown-menu"},t._l(t.engines[t.datasource],function(e){return a("button",{key:e,staticClass:"dropdown-item",class:{active:e===t.engine},on:{click:function(a){return t.setEngine(e)}}},[t._v(t._s(e))])}),0)])]:[a("strong",[t._v(t._s(t.engine))])]],2)]),t._v(" "),a("div",[a("a",{staticClass:"text-white mr-2",attrs:{href:"#notification","data-toggle":"modal","data-target":"#notification"}},[a("span",{staticClass:"notification-bell-wrapper",class:{unread:t.hasNotificationUnread}},[a("i",{staticClass:"fas fa-lg fa-bell notification-bell"})])]),t._v(" "),t.auths[t.datasource]?[a("a",{staticClass:"text-white mr-2",attrs:{href:"#auth","data-toggle":"modal","data-target":"#auth"}},[t.authUser?a("i",{staticClass:"fas fa-lg fa-user"}):a("i",{staticClass:"fas fa-lg fa-user-times"})])]:t._e(),t._v(" "),a("div",{staticClass:"dropdown d-inline-block mr-2"},[t._m(0),t._v(" "),a("div",{staticClass:"dropdown-menu dropdown-menu-right",staticStyle:{right:"auto"}},[a("small",{staticClass:"dropdown-item-text text-muted ml-2"},[t._v("Version "+t._s(t.version))]),t._v(" "),a("div",{staticClass:"dropdown-divider my-1"}),t._v(" "),a("a",{staticClass:"dropdown-item mr-2",attrs:{href:"#help","data-toggle":"modal","data-target":"#help"}},[t._v("Help")]),t._v(" "),t.isPresto?a("a",{staticClass:"dropdown-item",attrs:{href:"https://prestosql.io/docs/current/",target:"_blank",rel:"noopener"}},[t._v("Presto Doc")]):t._e(),t._v(" "),t.isHive?a("a",{staticClass:"dropdown-item",attrs:{href:"https://cwiki.apache.org/confluence/display/Hive/LanguageManual",target:"_blank",rel:"noopener"}},[t._v("Hive Doc")]):t._e(),t._v(" "),t.isSpark?a("a",{staticClass:"dropdown-item",attrs:{href:"https://spark.apache.org/",target:"_blank",rel:"noopener"}},[t._v("Spark Doc")]):t._e()])]),t._v(" "),a("a",{staticClass:"text-white",attrs:{href:"#settings"},on:{click:function(e){return e.preventDefault(),t.toggleSettingOpen(e)}}},[a("i",{staticClass:"fa fa-lg fa-cog",class:{"fa-spin":t.isSettingOpen}})])],2)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"text-white",attrs:{href:"#","data-toggle":"dropdown"}},[e("i",{staticClass:"fa fa-lg fa-question"})])}]};var O=a("VU/8")($,q,!1,function(t){a("AP/U")},"data-v-c2350eae",null).exports,N=a("Yasg"),B=a.n(N),F={name:"TheHeaderLower",data:function(){return{tabs:H.i}},computed:p()({},Object(v.c)(["settings"]),Object(v.c)({tab:function(t){return t.hash.tab},engine:function(t){return t.hash.engine},bookmark_params:function(t){return t.hash.bookmark_params}}),Object(v.c)("editor",["inputQuery","gotoLine","focus","errorLine","errorText","completeWords"]),Object(v.c)("bookmark",{bookmarks:function(t){return t.response},addedBookmarkId:function(t){return t.addedBookmarkId}}),Object(v.b)(["isPresto","isHive","isSpark","isElasticsearch","datasourceIndex","datasourceEngine"]),Object(v.c)("result",["loading"]),{variables:function(){var t=this.inputQuery.match(/\${[a-zA-Z]([a-zA-Z0-9_]+)?}/g);if(null===t)return[];try{var e=JSON.parse(this.bookmark_params);return t.unique().map(function(t){return{str:t,key:t.remove(/[${}]/g),value:e[t.remove(/[${}]/g)]}})}catch(e){return t.unique().map(function(t){return{str:t,key:t.remove(/[${}]/g),value:""}})}},existBookmark:function(){var t=this;return this.bookmarks.some(function(e){return e.query===t.inputQuery})},tinyErrorText:function(){var t=this.errorText;return t?t.remove(/^Query failed \(#[0-9a-z_]+\): /).remove(/^line [0-9]+:[0-9]+: /).truncate(192):t},runnable:function(){return this.inputQuery&&!this.loading&&this.datasourceIndex}}),watch:{inputQuery:function(){this.$store.commit("editor/resetError"),this.addedBookmarkId&&this.$store.commit("bookmark/resetAddedBookmarkId")}},methods:{setInputQuery:function(t){this.$store.commit("editor/setInputQuery",{data:t})},formatQuery:function(){this.$store.dispatch("editor/formatQuery"),this.$store.commit("editor/focusOnEditor")},validateQuery:function(){this.$store.dispatch("editor/validateQuery")},convertQuery:function(){this.$store.dispatch("editor/convertQuery")},runQuery:function(t,e){if(this.loading||!this.datasourceIndex)return!1;if(t=t||this.inputQuery,this.variables.length){var a=[],r=!0,s=!1,n=void 0;try{for(var o,c=i()(this.variables);!(r=(o=c.next()).done);r=!0){var l=o.value,u=new RegExp(B()(l.str),"g");l.value.length?t=t.replace(u,l.value):a.push(l.key)}}catch(t){s=!0,n=t}finally{try{!r&&c.return&&c.return()}finally{if(s)throw n}}if(a.length)return alert("Input to variables "+a.join(", ")),!1;this.setInputQuery(t)}this.$store.dispatch("result/runQuery",{query:t,translateFlag:e}),this.setTab("result")},explainQuery:function(){this.runQuery("EXPLAIN "+this.inputQuery)},explainGraphvizQuery:function(){if("presto"!==this.engine)throw new Error("not supported");this.runQuery("EXPLAIN (FORMAT GRAPHVIZ) "+this.inputQuery)},translateQuery:function(){this.runQuery(this.inputQuery,!0)},addBookmarkItem:function(){this.$store.dispatch("bookmark/addBookmarkItem")},setTab:function(t){this.$store.commit("setHashItem",{tab:t})}}},j={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"header-lower"}},[a("div",{staticClass:"editor mb-2"},[a("BaseAce",{attrs:{code:t.inputQuery,"goto-line":t.gotoLine,focus:t.focus,"min-lines":t.settings.minline,"max-lines":1/0,theme:t.settings.theme,"error-line":t.errorLine,"error-text":t.tinyErrorText,readonly:t.loading,"complete-words":t.isPresto?t.completeWords:[]},on:{"change-code":t.setInputQuery,"run-code":t.runQuery,"format-code":function(e){t.isPresto&&t.formatQuery()},"validate-code":function(e){t.isPresto&&t.validateQuery()}}})],1),t._v(" "),t.variables.length?a("fieldset",{staticClass:"mb-3",attrs:{id:"variables"}},[a("legend",[t._v(t._s(t.variables.length)+" variables")]),t._v(" "),a("div",{staticClass:"form-inline"},[t._l(t.variables,function(e){return[a("label",{key:"label_"+e.key,staticClass:"mr-2"},[t._v(t._s(e.key))]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"v.value"}],key:"input_"+e.key,staticClass:"form-control form-control-sm mr-3",attrs:{type:"text",id:"variable_"+e.key,size:"10",autocomplete:"off"},domProps:{value:e.value},on:{input:function(a){a.target.composing||t.$set(e,"value",a.target.value)}}})]})],2)]):t._e(),t._v(" "),a("div",{staticClass:"row align-items-end"},[a("div",{staticClass:"col-7 col-lg-6"},[a("ul",{staticClass:"nav nav-tabs"},t._l(t.tabs,function(e){return a("li",{key:e.id,staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:{active:e.id===t.tab},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.setTab(e.id)}}},[a("i",{staticClass:"fa-fw mr-1",class:(e.iconStyle||"fas")+" fa-"+e.icon}),a("span",{staticClass:"d-none d-xl-inline"},[t._v(t._s(e.name))])])])}),0)]),t._v(" "),a("div",{staticClass:"col text-right pb-2"},[a("div",{staticClass:"d-inline-block",attrs:{id:"control"}},[a("div",{staticClass:"btn-group ml-3"},[a("button",{staticClass:"btn btn-secondary px-2",attrs:{type:"button","data-toggle":"tooltip","data-animation":"false",title:"Convert Query",disabled:!t.inputQuery.length||t.loading},on:{click:function(e){return e.preventDefault(),t.convertQuery(e)}}},[a("i",{staticClass:"fa fa-fw fa-exchange"})]),t._v(" "),t.isPresto?a("button",{staticClass:"btn btn-secondary px-2",attrs:{type:"button","data-toggle":"tooltip","data-animation":"false",title:"Format Query",disabled:!t.inputQuery.length||t.loading},on:{click:function(e){return e.preventDefault(),t.formatQuery(e)}}},[a("i",{staticClass:"fa fa-fw fa-indent"})]):t._e(),t._v(" "),a("button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:t.inputQuery,expression:"inputQuery"}],staticClass:"btn btn-secondary px-2",attrs:{type:"button","data-toggle":"tooltip","data-animation":"false",title:"Copy to Clipboard",disabled:!t.inputQuery.length||t.loading}},[a("i",{staticClass:"fa fa-fw fa-clipboard"})]),t._v(" "),a("button",{staticClass:"btn btn-secondary px-2",attrs:{type:"button","data-toggle":"tooltip","data-animation":"false",title:"Add to Bookmarks",disabled:!t.inputQuery.length||t.existBookmark},on:{click:function(e){return e.preventDefault(),t.addBookmarkItem(e)}}},[a("i",{staticClass:"far fa-fw fa-star"})])]),t._v(" "),a("div",{staticClass:"btn-group ml-3"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:!t.runnable},on:{click:function(e){return t.runQuery()}}},[a("i",{staticClass:"fa fa-fw fa-play mr-1"}),a("strong",[t._v("Run")])]),t._v(" "),a("button",{staticClass:"btn btn-primary dropdown-toggle dropdown-toggle-split",attrs:{type:"button","data-toggle":"dropdown",disabled:!t.runnable}},[a("span",{staticClass:"sr-only"},[t._v("Toggle Dropdown")])]),t._v(" "),a("div",{staticClass:"dropdown-menu dropdown-menu-right",staticStyle:{right:"auto"}},[t.isPresto?[a("button",{staticClass:"dropdown-item",attrs:{type:"button",disabled:!t.runnable},on:{click:t.explainQuery}},[t._v("Explain (Text)")]),t._v(" "),a("button",{staticClass:"dropdown-item",attrs:{type:"button",disabled:!t.runnable},on:{click:t.explainGraphvizQuery}},[t._v("Explain (Graph)")])]:t.isHive||t.isSpark?[a("button",{staticClass:"dropdown-item",attrs:{type:"button",disabled:!t.runnable},on:{click:t.explainQuery}},[t._v("Explain")])]:t.isElasticsearch?[a("button",{staticClass:"dropdown-item",attrs:{type:"button",disabled:!t.runnable},on:{click:t.translateQuery}},[t._v("Translate")]),t._v(" "),a("button",{staticClass:"dropdown-item",attrs:{type:"button",disabled:!t.runnable},on:{click:t.explainQuery}},[t._v("Explain")])]:t._e()],2)])])])])])},staticRenderFns:[]};var U={name:"TheHeader",components:{TheHeaderUpper:O,TheHeaderLower:a("VU/8")(F,j,!1,function(t){a("USZE")},"data-v-6af0edaa",null).exports},computed:p()({},Object(v.c)({engine:function(t){return t.hash.engine}}),Object(v.b)(["datasourceEngine"]),Object(v.c)("announce",["announce"]),Object(v.b)("announce",{isAnnounceUnread:"isUnread"})),methods:{closeAnnounce:function(){this.$store.commit("announce/read")}}},V={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{attrs:{id:"header"}},[t.isAnnounceUnread?a("div",{staticClass:"alert alert-warning d-flex justify-content-between mb-0 px-4"},[a("span",[a("i",{staticClass:"fas fa-exclamation-triangle mr-1"}),a("BaseAutoLink",{attrs:{text:t.announce.text}})],1),t._v(" "),a("button",{staticClass:"btn btn-link alert-link p-0",on:{click:t.closeAnnounce}},[a("u",[t._v("confirm")])])]):t._e(),t._v(" "),a("div",{class:"engine_"+t.engine,attrs:{id:"header-main"}},[a("div",{staticClass:"container"},[a("TheHeaderUpper",{on:{"logo-click":function(e){return t.$emit("logo-click")}}}),t._v(" "),a("TheHeaderLower")],1)])])},staticRenderFns:[]};var W=a("VU/8")(U,V,!1,function(t){a("8MwZ")},"data-v-bfe7ffc4",null).exports,K={name:"TabQlist",mixins:[A.a],data:function(){return{filterUser:"",filterSource:""}},computed:p()({},Object(v.c)(["isSuperAdminMode"]),Object(v.c)({datasource:function(t){return t.hash.datasource},engine:function(t){return t.hash.engine},isAutoQlist:function(t){return t.settings.isAutoQlist}}),Object(v.c)("qlist",["now","isOpenQuery","isAdminMode","loading","response","error"]),Object(v.b)(["isPresto","isHive","isSpark","isElasticsearch"]),{isOpenQueryModel:{get:function(){return this.isOpenQuery},set:function(t){this.$store.commit("qlist/setIsOpenQuery",{data:t})}},isAdminModeModel:{get:function(){return this.isAdminMode},set:function(t){this.$store.commit("qlist/setIsAdminMode",{data:t})}},orderedQlist:function(){var t=this;if(this.error)return[];var e=void 0;if(this.isPresto)e=this.response.filter(function(e){if(!(""!==t.filterSource&&t.filterSource!==e.session.source||""!==t.filterUser&&t.filterUser!==e.session.user)){if(t.isSuperAdminMode)return!0;if(!e.query.includes(H.f)){if(t.isAdminMode)return!0;if(e.existdb||"yanagishima"===e.session.source&&"FINISHED"!==e.state)return!0}}return!1});else if(this.isHive)e=this.response.filter(function(e){return e.name.includes("yanagishima")||t.isAdminMode||t.isSuperAdminMode});else{if(!this.isSpark)throw new Error("not supported");e=this.response.filter(function(e){return""===t.filterUser||t.filterUser===e.user})}var a=[],r=[],s=!0,n=!1,o=void 0;try{for(var c,l=i()(e);!(s=(c=l.next()).done);s=!0){var u=c.value;this.isRunning(u.state)?r.push(u):a.push(u)}}catch(t){n=!0,o=t}finally{try{!s&&l.return&&l.return()}finally{if(n)throw o}}return r.concat(a)},orderedFailQlist:function(){return this.orderedQlist.filter(function(t){return"FAILED"===t.state})}}),watch:{isAutoQlist:function(t){this.$store.dispatch("qlist/autoQlist",{enable:t})}},created:function(){this.isAutoQlist?this.$store.dispatch("qlist/autoQlist",{enable:!0}):this.$store.dispatch("qlist/getQlist",{isAutoQlist:!1})},methods:{getQlist:function(){this.$store.dispatch("qlist/getQlist",{isAutoQlist:!1})},isRunning:function(t){if(this.isPresto)return!["FINISHED","FAILED","CANCELED"].includes(t);if(this.isHive)return!["FINISHED","FAILED","KILLED"].includes(t);if(this.isSpark)return!["FINISHED","FAILED"].includes(t);throw new Error("not supported")},killQuery:function(t){confirm("Do you want to do it?")&&this.$store.dispatch("result/killQuery",{queryid:t})},getHiveQueryid:function(t){return t.includes("yanagishima-hive")?t.split("-").last():t},setFilter:function(t,e){this.filterSource=t,this.filterUser=e}}},z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"header d-flex justify-content-between align-items-center pt-3"},[a("span",[a("strong",{staticClass:"mr-2"},[t._v(t._s(t.datasource))]),t._v("as of"),a("strong",{staticClass:"ml-2"},[t._v(t._s(t.now))])]),t._v(" "),a("div",{staticClass:"d-flex align-items-center"},[t.isPresto?a("div",{staticClass:"form-check form-check-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.isOpenQueryModel,expression:"isOpenQueryModel"}],staticClass:"form-check-input mr-1",attrs:{type:"checkbox",id:"fullQueryCheckbox"},domProps:{checked:Array.isArray(t.isOpenQueryModel)?t._i(t.isOpenQueryModel,null)>-1:t.isOpenQueryModel},on:{change:function(e){var a=t.isOpenQueryModel,r=e.target,s=!!r.checked;if(Array.isArray(a)){var n=t._i(a,null);r.checked?n<0&&(t.isOpenQueryModel=a.concat([null])):n>-1&&(t.isOpenQueryModel=a.slice(0,n).concat(a.slice(n+1)))}else t.isOpenQueryModel=s}}}),t._v(" "),a("label",{staticClass:"form-check-label",attrs:{for:"fullQueryCheckbox"}},[t._v("Full Query")])]):t._e(),t._v(" "),a("div",{staticClass:"form-check form-check-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.isAdminModeModel,expression:"isAdminModeModel"}],staticClass:"form-check-input mr-1",attrs:{type:"checkbox",id:"adminModeCheckbox"},domProps:{checked:Array.isArray(t.isAdminModeModel)?t._i(t.isAdminModeModel,null)>-1:t.isAdminModeModel},on:{change:function(e){var a=t.isAdminModeModel,r=e.target,s=!!r.checked;if(Array.isArray(a)){var n=t._i(a,null);r.checked?n<0&&(t.isAdminModeModel=a.concat([null])):n>-1&&(t.isAdminModeModel=a.slice(0,n).concat(a.slice(n+1)))}else t.isAdminModeModel=s}}}),t._v(" "),a("label",{staticClass:"form-check-label",attrs:{for:"adminModeCheckbox"}},[t._v("Admin Mode")])]),t._v(" "),a("button",{staticClass:"btn btn-sm btn-secondary",on:{click:t.getQlist}},[a("i",{staticClass:"fa fa-fw fa-sync mr-1"}),t._v("Refresh\n      ")])])]),t._v(" "),a("div",[t.loading?[t._m(0)]:[""!==t.filterUser||""!==t.filterSource?a("div",{staticClass:"alert alert-info"},[a("button",{staticClass:"close",on:{click:function(e){return t.setFilter("","")}}},[a("span",[t._v("Ã—")])]),t._v(" "),""!==t.filterUser?a("span",{staticClass:"mr-3"},[t._v("User Filter by "),a("strong",[t._v(t._s(t.filterUser))])]):a("span",{staticClass:"mr-3"},[t._v("Source Filter by "),a("strong",[t._v(t._s(t.filterSource))])]),t._v(" "),a("span",{staticClass:"mr-2"},[a("strong",[t._v(t._s(t.orderedQlist.length))]),t._v(" Results")]),t._v(" "),t.orderedFailQlist.length?a("span",{staticClass:"mr-2"},[a("strong",[t._v(t._s(t.orderedFailQlist.length))]),t._v(" Fails")]):t._e()]):t._e(),t._v(" "),t.isPresto?[t.orderedQlist.length?a("table",{staticClass:"table table-sm table-bordered table-fixed table-hover"},[t._m(1),t._v(" "),a("tbody",t._l(t.orderedQlist,function(e,r){return a("tr",{key:r,class:{"table-danger":"FAILED"===e.state,"table-info":t.isRunning(e.state)}},[a("td",["RUNNING"===e.state?[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar bg-info",style:"width: "+t.calcPrestoQueryProgress(e.queryStats)+"%"},[a("small",[t._v(t._s(t.calcPrestoQueryProgress(e.queryStats))+"%")])])])]:[t._v("\n                "+t._s(e.state.camelize())+"\n              ")]],2),t._v(" "),a("td",[!e.existdb||"FINISHED"!==e.state&&"FAILED"!==e.state?[t._v("\n                "+t._s(e.queryId)+"\n              ")]:[a("a",{attrs:{href:t.buildUrl({datasource:t.datasource,engine:t.engine,tab:"result",queryid:e.queryId})}},[t._v(t._s(e.queryId))])]],2),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t._f("formatUnit")(e.queryStats.elapsedTime)))]),t._v(" "),a("td",{staticClass:"ace-font"},[t.isOpenQuery?a("pre",{staticClass:"ace-font mb-0"},[t._v(t._s(e.query))]):a("span",{attrs:{title:e.query}},[t._v(t._s(e.query.compact()))])]),t._v(" "),a("td",[e.session.source?a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.setFilter(e.session.source,"")}}},[t._v(t._s(e.session.source))]):t._e()]),t._v(" "),a("td",[a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.setFilter("",e.session.user)}}},[t._v(t._s(e.session.user))])]),t._v(" "),a("td",{staticClass:"text-center"},[t.isRunning(e.state)?a("a",{staticClass:"btn btn-sm btn-secondary p-1",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.killQuery(e.queryId)}}},[a("i",{staticClass:"fa fa-fw fa-times text-danger"})]):t._e()]),t._v(" "),a("td",{staticClass:"text-center"},[a("a",{staticClass:"btn btn-sm btn-secondary p-1",attrs:{target:"_blank",href:t.buildDetailUrl(t.isPresto,t.isHive,t.isSpark,t.isElasticsearch,t.datasource,e.queryId)}},[a("i",{staticClass:"fa fa-fw fa-info"})])])])}),0)]):a("div",{staticClass:"alert alert-warning"},[a("i",{staticClass:"fa fa-fw fa-frown-o mr-1"}),t._v("No result\n        ")])]:t.isHive?[t.orderedQlist.length?a("table",{staticClass:"table table-sm table-bordered table-fixed table-hover"},[t._m(2),t._v(" "),a("tbody",t._l(t.orderedQlist,function(e,r){return a("tr",{key:r,class:{"table-danger":"Failed"===e.state,"table-info":t.isRunning(e.state)}},[a("td",["RUNNING"===e.state?[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar bg-info",style:"width: "+e.progress+"%"},[a("small",[t._v(t._s(e.progress.ceil())+"%")])])])]:[t._v("\n                "+t._s("UNDEFINED"===e.finalStatus?e.state.camelize():e.finalStatus.camelize())+"\n              ")]],2),t._v(" "),a("td",[t._v("\n              "+t._s(e.id)+"\n            ")]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t._f("formatUnit")(e.elapsedTime)))]),t._v(" "),a("td",{staticClass:"ace-font"},[!e.existdb||"FINISHED"!==e.state&&"FAILED"!==e.state?[t._v("\n                "+t._s(e.name)+"\n              ")]:[a("a",{attrs:{href:t.buildUrl({datasource:t.datasource,engine:t.engine,tab:"result",queryid:t.getHiveQueryid(e.name)})}},[t._v(t._s(e.name))])]],2),t._v(" "),a("td",[t._v(t._s(e.user))]),t._v(" "),a("td",{staticClass:"text-center"},[a("a",{staticClass:"btn btn-sm btn-secondary p-1",attrs:{target:"_blank",href:t.buildDetailUrl(t.isPresto,t.isHive,t.isSpark,t.isElasticsearch,t.datasource,e.id)}},[a("i",{staticClass:"fa fa-fw fa-info"})])])])}),0)]):a("div",{staticClass:"alert alert-warning"},[a("i",{staticClass:"fa fa-fw fa-frown-o mr-1"}),t._v("No result\n        ")])]:t.isSpark?[t.orderedQlist.length?a("table",{staticClass:"table table-sm table-bordered table-fixed table-hover"},[t._m(3),t._v(" "),a("tbody",t._l(t.orderedQlist,function(e,r){return a("tr",{key:r,class:{"table-danger":"FAILED"===e.status,"table-info":t.isRunning(e.status)}},[a("td",["RUNNING"===e.status?[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar bg-info",style:"width: "+e.progress+"%"},[a("small",[t._v(t._s(e.progress.ceil())+"%")])])])]:[t._v("\n                "+t._s(e.status.camelize())+"\n              ")]],2),t._v(" "),a("td",[t._v(t._s(e.jobIds))]),t._v(" "),a("td",[t._v(t._s(e.submissionTime))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(e.duration))]),t._v(" "),a("td",{staticClass:"ace-font"},[e.query?a("span",{attrs:{title:e.query}},[t._v(t._s(e.query.compact()))]):t._e()]),t._v(" "),a("td",[a("a",{attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.filterUser=e.user}}},[t._v(t._s(e.user))])]),t._v(" "),a("td",{staticClass:"text-center"},[a("a",{staticClass:"btn btn-sm btn-secondary p-1",attrs:{target:"_blank",href:t.buildDetailUrl(t.isPresto,t.isHive,t.isSpark,t.isElasticsearch,t.datasource)}},[a("i",{staticClass:"fa fa-fw fa-info"})])])])}),0)]):a("div",{staticClass:"alert alert-warning"},[a("i",{staticClass:"fa fa-fw fa-frown-o mr-1"}),t._v("No result\n        ")])]:t._e()]],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"alert alert-info"},[e("i",{staticClass:"fa fa-fw fa-spinner fa-pulse mr-1"}),this._v("Loading\n      ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{width:"7%"}},[t._v("State")]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v("query ID")]),t._v(" "),a("th",{staticClass:"text-right",attrs:{width:"5%"}},[t._v("Elapsed")]),t._v(" "),a("th",{attrs:{width:"40%"}},[t._v("Query")]),t._v(" "),a("th",{attrs:{width:"12.5%"}},[t._v("Source")]),t._v(" "),a("th",{attrs:{width:"12.5%"}},[t._v("User")]),t._v(" "),a("th",{staticClass:"text-center",attrs:{width:"4%"}},[t._v("Kill")]),t._v(" "),a("th",{staticClass:"text-center",attrs:{width:"45"}},[t._v("Info")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{width:"7%"}},[t._v("State")]),t._v(" "),a("th",{attrs:{width:"20%"}},[t._v("application ID")]),t._v(" "),a("th",{staticClass:"text-right",attrs:{width:"5%"}},[t._v("Elapsed")]),t._v(" "),a("th",{attrs:{width:"51.5%"}},[t._v("Name")]),t._v(" "),a("th",{attrs:{width:"12.5%"}},[t._v("User")]),t._v(" "),a("th",{staticClass:"text-center",attrs:{width:"45"}},[t._v("Info")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{width:"5%"}},[t._v("status")]),t._v(" "),a("th",{attrs:{width:"10%"}},[t._v("jobIds")]),t._v(" "),a("th",{attrs:{width:"7%"}},[t._v("submissionTime")]),t._v(" "),a("th",{staticClass:"text-right",attrs:{width:"5%"}},[t._v("Elapsed")]),t._v(" "),a("th",{attrs:{width:"64%"}},[t._v("query")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("user")]),t._v(" "),a("th",{staticClass:"text-center",attrs:{width:"45"}},[t._v("Info")])])])}]};var G=a("VU/8")(K,z,!1,function(t){a("SsZs")},"data-v-315de9d2",null).exports,Z={name:"TabHistory",mixins:[A.a],data:function(){return{checkedQueries:[],isCompareMode:!1}},computed:p()({},Object(v.c)({isLocalStorage:function(t){return t.settings.isLocalStorage},datasource:function(t){return t.hash.datasource},engine:function(t){return t.hash.engine},isCsv:function(t){return t.settings.isCsv},includeHeader:function(t){return t.settings.includeHeader}}),Object(v.c)("history",["filter","loading","response","label"]),Object(v.b)("history",["hasMore"]),Object(v.b)(["isPresto","isHive","isSpark","isElasticsearch","datasourceEngine"]),{filterModel:{get:function(){return this.filter},set:function(t){this.$store.commit("history/setFilter",{data:t})}},filteredHistory:function(){var t=this;if(!this.response||!this.response.results)return[];var e=this.response.results.filter(function(e){return e[4]===t.engine});if(this.isLocalStorage){var a=this.filter.trim(),r=a.includes(" ")?a.split(" ").unique():[a];return e.filter(function(t){return r.every(function(e){return new RegExp(B()(e),"ig").test(t[1])})})}return e}}),mounted:function(){this.getHistories()},methods:{getHistories:function(t){this.$store.dispatch("history/getHistories",{isMore:t})},setQurey:function(t){this.$store.commit("editor/setInputQuery",{data:t}),this.$store.commit("editor/focusOnEditor")},clearLabel:function(){this.$store.commit("history/setLabel",{data:null}),this.$store.dispatch("history/getHistories",{isMore:!1})},moveHisotryTab:function(t){this.$store.commit("history/setLabel",{data:t}),this.$store.dispatch("history/getHistories",{isMore:!1})},compare:function(){if(2===this.checkedQueries.length){var t="/diff/?datasource="+this.datasource+"&engine="+this.engine+"&queryid1="+this.checkedQueries[0]+"&queryid2="+this.checkedQueries[1];window.open(t,"_blank")}}}},J={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"header row align-items-center pt-3"},[a("div",{staticClass:"col"},[a("strong",{staticClass:"mr-1"},[t._v("Executed History")]),t._v(" "),t.isLocalStorage?[t.filteredHistory.length?a("span",[t._v(t._s(t.filteredHistory.length))]):t._e()]:[t.response&&t.response.total?[a("span",[t._v(t._s(t.response.hit))]),t._v(" "),t.response.total!==t.response.hit?[t._v("\n            /\n            "),a("span",[t._v(t._s(t.response.total))]),t._v(" "),a("span",{staticClass:"text-muted ml-1"},[t._v("("+t._s((t.response.hit/t.response.total*100).round())+"%)")])]:t._e()]:t._e()],t._v(" "),t.label?[a("button",{staticClass:"btn btn-sm btn-secondary",attrs:{type:"button",disabled:""}},[t._v(t._s(t.label))]),t._v(" "),a("button",{staticClass:"btn btn-sm btn-secondary",attrs:{type:"button"},on:{click:t.clearLabel}},[a("i",{staticClass:"fa fa-fw fa-times mr-1"})])]:t._e()],2),t._v(" "),a("div",{staticClass:"col text-right"},[t.isLocalStorage?[a("input",{directives:[{name:"model",rawName:"v-model",value:t.filterModel,expression:"filterModel"},{name:"focus",rawName:"v-focus"}],staticClass:"form-control form-control-sm d-inline-block w-50",attrs:{type:"text",placeholder:"Filter by Query"},domProps:{value:t.filterModel},on:{input:function(e){e.target.composing||(t.filterModel=e.target.value)}}})]:[a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.filterModel,expression:"filterModel",modifiers:{lazy:!0}},{name:"focus",rawName:"v-focus"}],staticClass:"form-control form-control-sm d-inline-block w-50",attrs:{type:"text",placeholder:"Search by Query"},domProps:{value:t.filterModel},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getHistories(!1)},change:function(e){t.filterModel=e.target.value}}})]],2)]),t._v(" "),a("div",[t.loading?[t._m(0)]:[t.filteredHistory.length?a("table",{staticClass:"table table-sm table-bordered table-fixed table-hover"},[a("thead",[a("tr",[a("th",{staticClass:"text-right md-none",attrs:{width:"4%"}},[t._v("No")]),t._v(" "),a("th",{attrs:{width:"20%"}},[a("div",{staticClass:"d-flex align-items-center justify-content-between"},[a("p",{staticClass:"my-0"},[t._v("query ID")]),t._v(" "),a("div",{staticClass:"custom-control custom-switch md-none"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.isCompareMode,expression:"isCompareMode"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"compareSwitch"},domProps:{checked:Array.isArray(t.isCompareMode)?t._i(t.isCompareMode,null)>-1:t.isCompareMode},on:{change:function(e){var a=t.isCompareMode,r=e.target,s=!!r.checked;if(Array.isArray(a)){var n=t._i(a,null);r.checked?n<0&&(t.isCompareMode=a.concat([null])):n>-1&&(t.isCompareMode=a.slice(0,n).concat(a.slice(n+1)))}else t.isCompareMode=s}}}),t._v(" "),a("label",{staticClass:"custom-control-label font-weight-normal",attrs:{for:"compareSwitch"}},[t._v("Compare")])])])]),t._v(" "),a("th",{staticClass:"md-none",attrs:{width:"12%"}},[t._v("Finished")]),t._v(" "),a("th",{staticClass:"text-right",attrs:{width:"75"}},[t._v("Elapsed")]),t._v(" "),a("th",[t._v("Query")]),t._v(" "),a("th",{staticClass:"text-center",attrs:{width:"45"}},[t._v("DL")]),t._v(" "),a("th",{staticClass:"text-center",attrs:{width:"45"}},[t._v("Info")])])]),t._v(" "),a("tbody",t._l(t.filteredHistory,function(e,r){return a("tr",{key:r,staticClass:"vertical-top"},[a("td",{staticClass:"text-right text-muted md-none"},[t._v("\n              "+t._s(r+1)+"\n            ")]),t._v(" "),a("td",[t.isCompareMode?[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedQueries,expression:"checkedQueries"}],staticClass:"mr-1",attrs:{type:"checkbox",disabled:t.checkedQueries.length>=2&&!t.checkedQueries.includes(e[0])},domProps:{value:e[0],checked:Array.isArray(t.checkedQueries)?t._i(t.checkedQueries,e[0])>-1:t.checkedQueries},on:{change:[function(a){var r=t.checkedQueries,s=a.target,n=!!s.checked;if(Array.isArray(r)){var i=e[0],o=t._i(r,i);s.checked?o<0&&(t.checkedQueries=r.concat([i])):o>-1&&(t.checkedQueries=r.slice(0,o).concat(r.slice(o+1)))}else t.checkedQueries=n},t.compare]}})]:t._e(),t._v(" "),a("a",{attrs:{href:t.buildUrl({datasource:t.datasource,engine:t.engine,tab:"result",queryid:e[0]})}},[t._v(t._s(e[0]))])],2),t._v(" "),a("td",{staticClass:"md-none"},[t._v("\n              "+t._s(t._f("extractDate")(e[5]))+"\n            ")]),t._v(" "),a("td",{staticClass:"text-right"},[t._v("\n              "+t._s((e[2]/1e3).ceil(2))+"s\n            ")]),t._v(" "),a("td",{staticClass:"td-hover"},[a("button",{staticClass:"btn btn-sm btn-secondary set",on:{click:function(a){return a.preventDefault(),t.setQurey(e[1])}}},[a("i",{staticClass:"far fa-fw fa-keyboard"})]),t._v(" "),a("pre",{staticClass:"ace-font mb-0"},[a("BaseHighlight",{attrs:{sentence:e[1].escapeHTML(),keyword:t.filter.escapeHTML()}})],1)]),t._v(" "),a("td",{staticClass:"text-center"},[a("div",{staticClass:"btn-group"},["0B"!==e[3]?a("a",{attrs:{href:t.buildDownloadUrl(t.datasource,e[0],t.isCsv,t.includeHeader),"data-toggle":"tooltip",title:e[3]}},[a("i",{staticClass:"fa fa-fw fa-download"})]):t._e()])]),t._v(" "),a("td",{staticClass:"text-center"},[a("a",{staticClass:"btn btn-sm btn-secondary p-1",attrs:{target:"_blank",href:t.buildDetailUrl(t.isPresto,t.isHive,t.isSpark,t.isElasticsearch,t.datasource,e[0])}},[a("i",{staticClass:"fa fa-fw fa-info"})])])])}),0)]):a("div",{staticClass:"alert alert-warning"},[a("i",{staticClass:"fa fa-fw fa-frown-o mr-1"}),t._v("No result\n      ")]),t._v(" "),!t.isLocalStorage&&t.hasMore?a("div",{staticClass:"p-3 text-center"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.getHistories(!0)}}},[t._v("More")])]):t._e()]],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"alert alert-info"},[e("i",{staticClass:"fa fa-fw fa-spinner fa-pulse mr-1"}),this._v("Loading\n      ")])}]};var X=a("VU/8")(Z,J,!1,function(t){a("pgcm")},"data-v-b549bfb4",null).exports,Y={name:"TabBookmark",computed:p()({},Object(v.c)("bookmark",["bookmarks","addedBookmarkId","loading","response"])),methods:{setBookmark:function(t){this.$store.commit("editor/setInputQuery",{data:t.query}),this.$store.commit("editor/focusOnEditor"),this.$store.commit("result/setResponse",{data:null}),this.$store.commit("result/setQueryString",{data:""}),this.$store.commit("setHashItem",{bookmark_id:t.bookmark_id,queryid:""})},deleteBookmark:function(t){this.$store.dispatch("bookmark/deleteBookmarkItem",{bookmarkId:t})}}},tt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"header row align-items-center pt-3"},[a("div",{staticClass:"col"},[a("strong",{staticClass:"mr-1"},[t._v("Bookmark")]),t._v(" "),t.response&&t.response.length?a("span",[t._v(t._s(t.response.length))]):t._e()]),t._v(" "),t._m(0)]),t._v(" "),a("div",[t.loading?[t._m(1)]:[t.response&&t.response.length?a("table",{staticClass:"table table-sm table-bordered table-fixed table-hover"},[t._m(2),t._v(" "),a("tbody",t._l(t.response,function(e){return a("tr",{key:e.bookmark_id,staticClass:"vertical-top",class:{"table-warning":e.bookmark_id===t.addedBookmarkId}},[a("td",{staticClass:"text-right"},[t._v("\n            "+t._s(e.bookmark_id)+"\n          ")]),t._v(" "),a("td",[e.title?[t._v(t._s(e.title))]:a("span",{staticClass:"text-muted"},[t._v("(none)")])],2),t._v(" "),a("td",{staticClass:"td-hover"},[a("button",{staticClass:"btn btn-sm btn-secondary set",on:{click:function(a){return a.preventDefault(),t.setBookmark(e)}}},[a("i",{staticClass:"far fa-fw fa-keyboard"})]),t._v(" "),a("BaseAce",{attrs:{code:e.query,readonly:!0,"css-class":"bg-transparent"}})],1),t._v(" "),a("td",{staticClass:"text-center"},[a("a",{staticClass:"btn btn-sm btn-secondary",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.deleteBookmark(e.bookmark_id)}}},[a("i",{staticClass:"fa fa-fw fa-trash"})])])])}),0)]):a("div",{staticClass:"alert alert-warning"},[a("i",{staticClass:"fa fa-fw fa-frown-o mr-1"}),t._v("No result\n      ")])]],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col text-right"},[e("input",{staticClass:"form-control form-control-sm d-inline-block mr-2 w-50 invisible",attrs:{type:"text",placeholder:"Filter by Title"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"alert alert-info"},[e("i",{staticClass:"fa fa-fw fa-spinner fa-pulse mr-1"}),this._v("Loading\n      ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{staticClass:"text-right",attrs:{width:"50"}},[this._v("ID")]),this._v(" "),e("th",{attrs:{width:"20%"}},[this._v("Title")]),this._v(" "),e("th",{attrs:{width:"65%"}},[this._v("Query")]),this._v(" "),e("th",{staticClass:"text-center",attrs:{width:"50"}},[this._v("Del")])])])}]};var et=a("VU/8")(Y,tt,!1,function(t){a("kKpq")},"data-v-163fc86a",null).exports,at=a("Xxa5"),rt=a.n(at),st=a("//Fk"),nt=a.n(st),it=a("exGp"),ot=a.n(it),ct=a("mvHQ"),lt=a.n(ct);var ut={name:"ResultTableColumn",props:{value:{required:!0,validator:function(t){return null===t||"string"==typeof t}},pretty:{type:Boolean,default:!1}},computed:{result:function(){var t=this.value,e=this.pretty;if(null===t)return'<span class="text-muted">(null)</span>';if(!e)return t.escapeHTML();try{var a=JSON.parse(t);if(Object.isObject(a))return'<pre class="mb-0">'+lt()(a,void 0,4).escapeHTML()+"</pre>"}catch(e){if(/^{.*=.*}$/.test(t)){var r=t.slice(1,-1).split(", ").map(function(t){return"    "+t.trim().replace("="," = ")});return'<pre class="mb-0">{{\n{0}\n}}</pre>'.format(r.join(",\n").escapeHTML())}}return t.escapeHTML()}}},dt={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{domProps:{innerHTML:this._s(this.result)}})},staticRenderFns:[]};var mt={name:"ResultTable",components:{ResultTableColumn:a("VU/8")(ut,dt,!1,function(t){a("NpqG")},"data-v-1ce8c8ed",null).exports},props:{result:{type:Object,required:!0},pretty:{type:Boolean,default:!1},line:{type:Number,default:0},readonly:{type:Boolean,default:!1}},methods:{emitLineClick:function(t){this.$emit("line-click",this.line===t+1?0:t+1)}}},ht={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-auto table-bordered table-hover"},[a("thead",[a("tr",[a("th",{staticClass:"text-muted"},[t._v("line")]),t._v(" "),t._l(t.result.headers,function(e){return a("th",{key:e},[t._v(t._s(e))])})],2)]),t._v(" "),a("tbody",t._l(t.result.results,function(e,r){return a("tr",{key:r,class:{"table-info":t.line===r+1},attrs:{id:"L"+(r+1)}},[a("td",{staticClass:"text-right",class:{"text-muted":t.readonly}},[t.readonly?[t._v(t._s(r+1))]:a("a",{staticClass:"text-muted",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.emitLineClick(r)}}},[t._v(t._s(r+1))])],2),t._v(" "),t._l(e,function(e,r){return a("td",{key:r},[a("ResultTableColumn",{attrs:{value:e,pretty:t.pretty}})],1)})],2)}),0)])]),t._v(" "),t.result.lineNumber>501?a("div",{staticClass:"text-left"},[t._v("This data is only top 500.")]):t._e()])},staticRenderFns:[]};var ft=a("VU/8")(mt,ht,!1,function(t){a("wrbE")},"data-v-83975efe",null).exports,pt=a("MICi"),vt=a.n(pt),bt=a("woOf"),_t=a.n(bt),gt={computed:{validChartTypes:function(){var t=this.response;return s()(H.b).filter(function(e){var a=c()(e,2);a[0];return a[1].minRows<=t.headers.length}).reduce(function(t,e){var a=c()(e,2),r=a[0],s=a[1];return _t()(t,P()({},r,s))},{})},chartColumns:function(){var t=this.response;if(!t||!t.headers||t.headers.length<=1)return[];var e=t.headers.map(function(t){return{type:"number",label:t}});return e[0].type="string",e},chartRows:function(){var t=this.response,e=this.chartColumns;if(!t||!t.results||!e.length)return[];var a=[],r=!0,s=!1,n=void 0;try{for(var o,c=i()(t.results);!(r=(o=c.next()).done);r=!0){var l=o.value,u=[];u.push(l[0]);for(var d=1;d<l.length;d++){var m="null"===l[d]?0:Number(l[d]);if(vt()(m))return[];u.push(m)}a.push(u)}}catch(t){s=!0,n=t}finally{try{!r&&c.return&&c.return()}finally{if(s)throw n}}return a},enableChart:function(){return this.chartColumns.length&&this.chartRows.length}}},yt={computed:{pivotColumns:function(){var t=this.response;if(!t||!t.headers||t.headers.length<=2)return[];var e=t.headers;return H.d.includes(e[e.length-1])?[]:e},enablePivot:function(){return this.pivotColumns.length&&this.pivotRows.length},rowFields:function(){for(var t=this.pivotColumns,e=[],a=function(a){e.push({getter:function(e){return e[t[a]]},label:t[a]})},r=0;r<t.length-2;r++)a(r);return e},colFields:function(){var t=this.pivotColumns;return[{getter:function(e){return e[t[t.length-2]]},label:t[t.length-2]}]},pivotRows:function(){var t=this.response,e=this.pivotColumns;if(!t||!t.results||!e.length)return[];var a=[],r=!0,s=!1,n=void 0;try{for(var o,c=i()(t.results);!(r=(o=c.next()).done);r=!0){for(var l=o.value,u={},d=0;d<l.length-1;d++)u[e[d]]=l[d];var m=Number(l[l.length-1]);if(vt()(m))return[];u[e[l.length-1]]=m,a.push(u)}}catch(t){s=!0,n=t}finally{try{!r&&c.return&&c.return()}finally{if(s)throw n}}return a}},methods:{reducer:function(t,e){var a=this.pivotColumns;return t+e[a[a.length-1]]}}},kt=a("Bin5"),Ct=a.n(kt),xt={name:"TabResult",components:{ResultTable:ft,Pivot:Ct.a},mixins:[A.a,gt,yt],data:function(){return{chartTypes:H.b,chartOptions:H.a,explainGraphResult:null,inputLabel:null}},computed:p()({},Object(v.c)({datasource:function(t){return t.hash.datasource},queryid:function(t){return t.hash.queryid},line:function(t){return t.hash.line},chart:function(t){return t.hash.chart},pivot:function(t){return t.hash.pivot},isCsv:function(t){return t.settings.isCsv},includeHeader:function(t){return t.settings.includeHeader}}),Object(v.b)(["isPresto","isHive","isSpark","isElasticsearch","datasourceEngine"]),Object(v.c)("result",["isPretty","runningQueryid","runningProgress","runningTime","queryString","loading","response","error","label","editLabel"]),{isPrettyModel:{get:function(){return this.isPretty},set:function(t){this.$store.commit("result/setIsPretty",{data:t})}},chartModel:{get:function(){return this.chart},set:function(t){this.setChart(t)}},actionDisabled:function(){return this.response.error||!this.queryid||this.loading},explainTextResult:function(){var t=this.response;return t&&t.results&&/^EXPLAIN /i.test(this.queryString)?this.isPresto&&/^EXPLAIN \(FORMAT GRAPHVIZ\)/i.test(this.queryString)?null:t.results.map(function(t){return t[0].replace(/ {4}/g," ")}).join("\n"):null},createTableResult:function(){return this.queryString&&/^SHOW CREATE TABLE/i.test(this.queryString)?this.response&&this.response.results?this.response.results.map(function(t){return t[0]}).join("\n"):"":null}}),watch:{response:function(t){var e=this;return ot()(rt.a.mark(function r(){var s,n,i,o,l,u,d;return rt.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(t&&t.results&&e.isPresto&&/^EXPLAIN \(FORMAT GRAPHVIZ\)/i.test(e.queryString))){r.next=21;break}return r.prev=1,r.next=4,nt.a.all([a.e(0).then(a.bind(null,"ORH2")),a.e(0).then(a.bind(null,"wE2r"))]);case 4:return s=r.sent,n=c()(s,2),i=n[0].default,o=n[1],l=o.Module,u=o.render,d=new i({Module:l,render:u}),r.next=13,d.renderString(t.results[0][0]);case 13:e.explainGraphResult=r.sent,r.next=19;break;case 16:r.prev=16,r.t0=r.catch(1),console.error(r.t0);case 19:r.next=22;break;case 21:e.explainGraphResult=null;case 22:case"end":return r.stop()}},r,e,[[1,16]])}))()}},created:function(){this.loading||this.$store.dispatch("result/loadQuery")},methods:{toggleLine:function(t){t===this.line&&(t=0),this.$store.commit("setHashItem",{line:t})},resetLine:function(){this.$store.commit("setHashItem",{line:0})},setChart:function(t){this.$store.commit("setHashItem",{chart:t})},setPivot:function(t){this.$store.commit("setHashItem",{pivot:t})},killQuery:function(){this.$store.dispatch("result/killQuery",{queryid:this.runningQueryid})},publish:function(){var t=this;this.$store.dispatch("result/publish").then(function(e){if(e){var a="/share/?"+e;t.chart&&(a+="&"+t.chart),t.pivot&&(a+="&pivot"),t.line&&(a+="#L"+t.line),-1!==navigator.userAgent.toLowerCase().indexOf("chrome")&&navigator.clipboard&&navigator.clipboard.writeText(location.protocol+"//"+location.host+a),m.a.success(t.queryid,"Published (Click Here)",{onclick:function(){window.open(a,"_blank")}})}}).catch(function(){})},moveHisotryTab:function(t){this.$store.commit("history/setLabel",{data:t}),this.$store.commit("setHashItem",{tab:"history"})},addLabel:function(){this.$store.dispatch("result/postLabel",{inputLabel:this.inputLabel}),this.inputLabel=null},removeLabel:function(){this.$store.dispatch("result/deleteLabel")}}},wt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"header row align-items-center pt-3"},[a("div",{staticClass:"col-8"},[t.loading?[t.runningProgress?[a("strong",[t._v("Running")]),t._v(" "),a("span",{staticClass:"ml-2"},[t._v(t._s(t.runningQueryid))])]:a("strong",[t._v("Loading")])]:[t.response&&t.response.error||t.error?a("span",{staticClass:"mr-3"},[t._m(0),t._v(" "),a("span",{staticClass:"text-muted"},[t._v(t._s(t.queryid))])]):t.response&&t.response.results?a("span",{staticClass:"mr-3"},[a("i",{staticClass:"fa fa-file-text-o",attrs:{title:"query ID","data-toggle":"tooltip","data-animation":"false","data-placement":"left"}}),t._v(" "),a("strong",[t._v(t._s(t.queryid))])]):a("span",{staticClass:"mr-3"},[a("strong",[t._v("No result")])]),t._v(" "),t.response&&t.response.finishedTime?a("span",{staticClass:"mr-2"},[a("i",{staticClass:"fa fa-calendar",attrs:{title:"Finished time","data-toggle":"tooltip","data-animation":"false","data-placement":"left"}}),t._v("\n          "+t._s(t._f("extractDate")(t.response.finishedTime))+"\n        ")]):t._e(),t._v(" "),t.response&&t.response.elapsedTimeMillis?a("span",{staticClass:"mr-2 d-md-none d-lg-inline"},[a("strong",[t._v(t._s((t.response.elapsedTimeMillis/1e3).ceil(2)))]),a("span",{staticClass:"text-muted ml-1"},[t._v("sec")])]):t._e(),t._v(" "),t.response&&t.response.rawDataSize?a("span",{staticClass:"mr-2 d-md-none d-lg-inline"},[a("strong",[t._v(t._s(t.response.rawDataSize.remove("B")))]),a("span",{staticClass:"text-muted ml-1"},[t._v("byte")])]):t._e(),t._v(" "),t.response&&t.response.results&&t.response.lineNumber?a("span",{staticClass:"mr-2"},[a("strong",[t._v(t._s(t._f("formatNumber")(t.response.results.length)))]),t._v(" "),t.response.results.length!==t.response.lineNumber-1?[a("span",{staticClass:"mx-1"},[t._v("/")]),t._v(" "),a("strong",[t._v(t._s(t._f("formatNumber")(t.response.lineNumber-1)))])]:t._e(),t._v(" "),a("span",{staticClass:"text-muted ml-1"},[t._v("results")])],2):t._e(),t._v(" "),t.response&&t.response.headers?a("span",{staticClass:"mr-2 d-md-none d-lg-inline"},[a("strong",[t._v(t._s(t.response.headers.length))]),a("span",{staticClass:"text-muted ml-1"},[t._v("columns")])]):t._e()]],2),t._v(" "),t.response&&t.response.results?[a("div",{staticClass:"col-4 text-right"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.isPrettyModel,expression:"isPrettyModel"}],staticClass:"align-middle",attrs:{type:"checkbox",disabled:t.actionDisabled},domProps:{checked:Array.isArray(t.isPrettyModel)?t._i(t.isPrettyModel,null)>-1:t.isPrettyModel},on:{change:function(e){var a=t.isPrettyModel,r=e.target,s=!!r.checked;if(Array.isArray(a)){var n=t._i(a,null);r.checked?n<0&&(t.isPrettyModel=a.concat([null])):n>-1&&(t.isPrettyModel=a.slice(0,n).concat(a.slice(n+1)))}else t.isPrettyModel=s}}}),t._v("\n          Pretty print\n        ")]),t._v(" "),a("div",{staticClass:"btn-group mx-2"},[a("a",{staticClass:"btn btn-sm btn-secondary",class:{disabled:t.actionDisabled},attrs:{href:t.buildDownloadUrl(t.datasource,t.queryid,t.isCsv,t.includeHeader),"data-toggle":"tooltip","data-html":"true","data-animation":"false",title:"Can change format in <i class='fa fa-cog'></i> setting"}},[a("i",{staticClass:"fa fa-fw fa-download"}),a("span",{staticClass:"d-md-none d-lg-inline ml-1"},[t._v("Download")])])]),t._v(" "),a("button",{staticClass:"btn btn-sm btn-secondary",attrs:{disabled:t.actionDisabled,"data-toggle":"tooltip","data-animation":"false",title:"Publish Readonly Result"},on:{click:t.publish}},[a("i",{staticClass:"fa fa-fw fa-globe"}),a("span",{staticClass:"d-md-none d-lg-inline ml-1"},[t._v("Publish")])])])]:t._e()],2),t._v(" "),t.loading?[-1!==t.runningProgress?[t.runningTime?a("div",{staticClass:"alert alert-info"},[a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"col-2 text-right"},[a("strong",[t._v(t._s(t.runningTime))])]),t._v(" "),a("div",{staticClass:"col"},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar progress-bar-striped progress-bar-animated bg-info flex-row",style:"width: "+t.runningProgress+"%",attrs:{role:"progressbar"}},[t.runningProgress?[a("strong",[t._v(t._s(t.runningProgress))]),t._v("%")]:t._e()],2)])]),t._v(" "),a("div",{staticClass:"col-2"},[a("div",{staticClass:"btn-group"},[a("a",{staticClass:"btn btn-sm btn-secondary",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.killQuery(e)}}},[a("i",{staticClass:"fa fa-fw fa-times mr-1 text-danger"}),t._v("Kill")]),t._v(" "),a("a",{staticClass:"btn btn-sm btn-secondary",attrs:{href:t.buildDetailUrl(t.isPresto,t.isHive,t.isSpark,t.isElasticsearch,t.datasource,t.runningQueryid),target:"_blank"}},[a("i",{staticClass:"fa fa-fw fa-info"}),t._v("Info")])])])])]):a("div",{staticClass:"alert alert-info"},[a("i",{staticClass:"fa fa-fw fa-spinner fa-spin mr-1"}),t._v("Preparing\n      ")])]:[t._m(1)]]:[t.queryString?[t.error?[a("div",{staticClass:"alert alert-danger"},[a("pre",{staticClass:"pb-3"},[t._v(t._s(t.error))])])]:[t.response.error?[a("div",{staticClass:"alert alert-danger"},[a("pre",{staticClass:"pb-3"},[t._v(t._s(t.response.error))])])]:[/^EXPLAIN /i.test(t.queryString)?[t.isPresto&&/^EXPLAIN \(FORMAT GRAPHVIZ\)/i.test(t.queryString)?[t.explainGraphResult?[a("a",{attrs:{href:"#lity-svg-image","data-lity":""}},[a("img",{staticClass:"img-fluid",attrs:{src:"data:image/svg+xml,"+encodeURIComponent(t.explainGraphResult)}})]),t._v(" "),a("div",{staticClass:"lity-hide",staticStyle:{background:"#fff",overflow:"auto"},attrs:{id:"lity-svg-image"}},[a("img",{attrs:{src:"data:image/svg+xml,"+encodeURIComponent(t.explainGraphResult)}})])]:t._e()]:[a("pre",{attrs:{id:"explain"}},[a("code",{domProps:{innerHTML:t._s(t.explainTextResult)}})])]]:[/^SELECT VIEW_DEFINITION FROM hive.INFORMATION_SCHEMA.VIEWS/i.test(t.queryString)?[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[t._v("\n                  PRESTO VIEW DDL\n                ")]),t._v(" "),a("div",{staticClass:"card-body"},[a("BaseAce",{attrs:{code:t.response.results[0][0],readonly:!0,"max-lines":1/0}})],1)])]:/^SHOW CREATE TABLE/i.test(t.queryString)?[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[t._v("\n                  SHOW CREATE TABLE\n                ")]),t._v(" "),a("div",{staticClass:"card-body"},[a("BaseAce",{attrs:{code:t.createTableResult,readonly:!0,"max-lines":1/0}})],1)])]:[t.line?a("div",{staticClass:"alert alert-info"},[a("button",{staticClass:"close",on:{click:t.resetLine}},[a("span",[t._v("Ã—")])]),t._v(" "),a("i",{staticClass:"fa fa-fw fa-check mr-1"}),t._v(" "),a("a",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:"#L"+t.line,expression:"'#L' + line"}],staticClass:"alert-link",attrs:{href:"#"}},[t._v("Line "+t._s(t.line))]),t._v(" is selected\n              ")]):t._e(),t._v(" "),t.response.results?[t.enableChart?a("div",{staticClass:"mb-3"},[t.chart?a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"col"},t._l(t.validChartTypes,function(e,r){return a("div",{key:r,staticClass:"form-check form-check-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.chartModel,expression:"chartModel"}],staticClass:"form-check-input",attrs:{type:"radio",id:"chart"+e.name+"Radio"},domProps:{value:r,checked:t._q(t.chartModel,r)},on:{change:function(e){t.chartModel=r}}}),t._v(" "),a("label",{staticClass:"form-check-label",attrs:{for:"chart"+e.name+"Radio"}},[t._v(t._s(e.name))])])}),0),t._v(" "),a("div",{staticClass:"col-1"},[a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){return t.setChart(0)}}},[a("span",[t._v("Ã—")])])])])]),t._v(" "),a("div",{staticClass:"card-body"},[a("vue-chart",{key:t.chart,attrs:{"chart-type":t.validChartTypes[t.chart].type,columns:t.chartColumns,rows:t.chartRows,options:Object.assign({},t.chartOptions,t.validChartTypes[t.chart].option)}}),t._v(" "),t.response.lineNumber>501?a("div",{staticClass:"text-right text-muted"},[t._v("\n                        This data is only top 500.\n                      ")]):t._e()],1)]):a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.setChart(1)}}},[a("i",{staticClass:"fa fa-fw fa-plus-square mr-1"}),t._v("Chart\n                  ")])]):t._e(),t._v(" "),t.enablePivot?a("div",{staticClass:"mb-3"},[t.pivot?a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){return t.setPivot(0)}}},[a("span",[t._v("Ã—")])]),t._v(" "),a("div",{staticClass:"card-body"},[a("pivot",{attrs:{data:t.pivotRows,fields:[],"row-fields":t.rowFields,"col-fields":t.colFields,reducer:t.reducer,"default-show-settings":!1}}),t._v(" "),t.response.lineNumber>501?a("div",{staticClass:"text-right text-muted"},[t._v("\n                          This data is only top 500.\n                        ")]):t._e()],1)])]):a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.setPivot(1)}}},[a("i",{staticClass:"fa fa-fw fa-plus-square mr-1"}),t._v("Pivot(Beta)")])]):t._e(),t._v(" "),a("ResultTable",{attrs:{result:t.response,pretty:t.isPretty,line:t.line},on:{"line-click":t.toggleLine}})]:t._e()]]]]]:t._e()]],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("strong",{staticClass:"text-danger mr-2"},[e("i",{staticClass:"fa fa-exclamation-triangle text-danger mr-1"}),this._v("Error\n          ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"alert alert-info"},[e("i",{staticClass:"fa fa-fw fa-spinner fa-pulse mr-1"}),this._v("Loading\n      ")])}]};var St=a("VU/8")(xt,wt,!1,function(t){a("t5qh")},"data-v-0e209330",null).exports,Et={name:"TabTreeview",mixins:[A.a],data:function(){return{isExpandColumns:!1,snippetIndex:0,scrollTo:{},starTargetSchema:null}},computed:p()({},Object(v.c)({datasources:function(t){return t.datasources},datasource:function(t){return t.hash.datasource},initialTable:function(t){return t.hash.table},where:function(t){return t.hash.where}}),Object(v.c)("treeview",["catalogs","schemata","starredSchemata","tables","catalog","schema","table","note","meta","tableType","columns","tableQuery","filterSchema","filterTable","loadingTableSearch","tableSearchResponse"]),Object(v.b)(["isPresto","isHive","isSpark","isElasticsearch","datasourceEngine","isMetadataService","datetimePartitionFormat"]),Object(v.b)("treeview",["dateColumn","allColumns","partitionKeys"]),{schemaObjects:function(){var t=this;return this.schemata.map(function(e){return{name:e,star:t.starredSchemata.find(function(t){return t.schema===e})}}).sortBy([function(t){return t.star?0:1},"name"])},filteredSchemata:function(){var t=this;return this.schemaObjects.filter(function(e){return e.name.includes(t.filterSchema)})},filteredTables:function(){var t=this;return this.tables.filter(function(e){return e[0].includes(t.filterTable)})},tableQueryModel:{get:function(){return this.tableQuery},set:function(t){this.$store.commit("treeview/setTableQuery",{data:t})}},filterSchemaModel:{get:function(){return this.filterSchema},set:function(t){this.$store.commit("treeview/setFilterSchema",{data:t})}},filterTableModel:{get:function(){return this.filterTable},set:function(t){this.$store.commit("treeview/setFilterTable",{data:t})}},snippets:function(){if(this.isPresto){var t=[{label:"SHOW PRESTO VIEW DDL",sql:"SELECT VIEW_DEFINITION FROM {catalog}.INFORMATION_SCHEMA.VIEWS WHERE table_catalog='{catalog}' AND table_schema='{schema}' AND table_name='{table}'",enable:["VIEW"]},{label:"SHOW CREATE TABLE ...",sql:'SHOW CREATE TABLE {catalog}.{schema}."{table}"',enable:["BASE TABLE"]},{label:"DESCRIBE ...",sql:'DESCRIBE {catalog}.{schema}."{table}"',enable:["BASE TABLE","VIEW"]},{label:"SHOW STATS ...",sql:'SHOW STATS FOR {catalog}.{schema}."{table}"',enable:["BASE TABLE"]}],e={label:"SELECT * FROM ... LIMIT 100",sql:'SELECT {columns} FROM {catalog}.{schema}."{table}" LIMIT 100',enable:["BASE TABLE","VIEW"]};if(this.dateColumn){var a=Date.create().addDays(-1).format(this.datetimePartitionFormat);e={label:"SELECT * FROM ... WHERE "+this.dateColumn+"='"+a+"' LIMIT 100",sql:"SELECT {columns} FROM {catalog}.{schema}.\"{table}\" WHERE {column_date}='{yesterday}' LIMIT 100",enable:["BASE TABLE","VIEW"]}}return t.unshift(e),t}if(this.isHive){var r=[{label:"SHOW CREATE TABLE ...",sql:"SHOW CREATE TABLE {schema}.`{table}`",enable:["BASE TABLE"]},{label:"DESCRIBE ...",sql:"DESCRIBE {schema}.`{table}`",enable:["BASE TABLE","VIEW"]}],s={label:"SELECT * FROM ... LIMIT 100",sql:"SELECT {columns} FROM {schema}.`{table}` LIMIT 100",enable:["BASE TABLE","VIEW"]};if(this.dateColumn){var n=Date.create().addDays(-1).format(this.datetimePartitionFormat);s={label:"SELECT * FROM ... WHERE "+this.dateColumn+"='"+n+"' LIMIT 100",sql:"SELECT {columns} FROM {schema}.`{table}` WHERE {column_date}='{yesterday}' LIMIT 100",enable:["BASE TABLE","VIEW"]}}return r.unshift(s),r}if(this.isSpark){var i=[{label:"SHOW CREATE TABLE ...",sql:"SHOW CREATE TABLE {schema}.{table}",enable:["BASE TABLE"]},{label:"DESCRIBE ...",sql:"DESCRIBE {schema}.{table}",enable:["BASE TABLE","VIEW"]}],o={label:"SELECT * FROM ... LIMIT 100",sql:"SELECT {columns} FROM {schema}.{table} LIMIT 100",enable:["BASE TABLE","VIEW"]};if(this.dateColumn){var c=Date.create().addDays(-1).format(this.datetimePartitionFormat);o={label:"SELECT * FROM ... WHERE "+this.dateColumn+"='"+c+"' LIMIT 100",sql:"SELECT {columns} FROM {schema}.{table} WHERE {column_date}='{yesterday}' LIMIT 100",enable:["BASE TABLE","VIEW"]}}return i.unshift(o),i}if(this.isElasticsearch){var l=[{label:"SHOW CREATE TABLE ...",sql:'SHOW CREATE TABLE "{table}"',enable:["BASE TABLE"]},{label:"DESCRIBE ...",sql:'DESCRIBE "{table}"',enable:["BASE TABLE","VIEW"]}];return l.unshift({label:"SELECT * FROM ... LIMIT 100",sql:'SELECT {columns} FROM "{table}" LIMIT 100',enable:["BASE TABLE","VIEW"]}),l}}}),watch:{datasourceEngine:function(){this.$store.commit("setHashItem",{table:"",where:""}),this.$store.dispatch("treeview/getRoot")},catalog:function(t){if(t){if(this.scrollTo.catalog&&this.scrollTo.catalog!==t)return this.setCatalog(this.scrollTo.catalog),void(this.scrollTo.catalog=null);this.$store.dispatch("treeview/getSchemata"),this.$store.dispatch("editor/getCompleteWords")}this.$store.commit("treeview/setTableQuery",{data:""})},schema:function(t){var e=this;if(t){if(this.scrollTo.schema&&this.scrollTo.schema!==t)return this.schemata.includes(this.scrollTo.schema)?void this.setSchema(this.scrollTo.schema):(m.a.error("schema not found: "+this.scrollTo.schema),void(this.scrollTo={}));this.$store.dispatch("treeview/getTables").then(function(){if(e.scrollTo.schema&&(document.getElementById("schema-"+e.scrollTo.schema).scrollIntoView(),window.scrollTo(0,0),e.scrollTo.schema=null),e.scrollTo.table){var t=e.tables.find(function(t){return t[0]===e.scrollTo.table});if(!t)return m.a.error("table not found: "+e.scrollTo.table),void(e.scrollTo={});e.setTable(t),document.getElementById("table-"+t[0]).scrollIntoView(),window.scrollTo(0,0),e.scrollTo.table=null,e.setUrlSnippet()}})}},table:function(t){t&&(this.$store.dispatch("treeview/getColumns"),E()("#columnsTab li:first-child a").tab("show"))},tableQuery:function(){this.searchTable()}},created:function(){if(this.initialTable&&(this.isPresto||this.isHive||this.isSpark)){this.$store.commit("treeview/init");var t=this.initialTable.split(".");this.isPresto?this.scrollTo={catalog:t[0],schema:t[1],table:t[2]}:this.scrollTo={schema:t[0],table:t[1]}}this.$store.dispatch("treeview/getRoot")},beforeDestroy:function(){this.$store.commit("setHashItem",{table:"",where:""})},methods:{setDatasource:function(t){this.$store.commit("setHashItem",{datasource:t})},setCatalog:function(t){this.$store.commit("treeview/setCatalog",{data:t}),this.$store.commit("treeview/setSchema",{data:""}),this.$store.commit("treeview/setTable",{data:["",""]})},setSchema:function(t){this.$store.commit("treeview/setSchema",{data:t}),this.$store.commit("treeview/setTable",{data:["",""]})},setTable:function(t){this.$store.commit("treeview/setTable",{data:t})},getPartitions:function(){this.$store.dispatch("treeview/getPartitions")},fullName:function(t){if(this.isPresto)return[this.catalog,this.schema,t].join(".");if(this.isHive||this.isSpark)return[this.schema,t].join(".");if(this.isElasticsearch)return t;throw new Error("not supported")},setSnippet:function(){var t=this.snippets[this.snippetIndex].sql;this.$store.commit("editor/setInputQuery",{data:t.format({catalog:this.catalog,schema:this.schema,table:this.table,column_date:this.dateColumn,columns:this.isExpandColumns?this.allColumns:"*",yesterday:Date.create().addDays(-1).format(this.datetimePartitionFormat)})})},runSnippet:function(){this.setSnippet(),this.$store.dispatch("result/runQuery"),this.$store.commit("setHashItem",{tab:"result"})},searchTable:function(){this.$store.dispatch("treeview/searchTable")},setSearchedTable:function(t){var e=c()(t,4),a=e[0],r=e[1],s=e[2],n=e[3];this.$store.commit("treeview/setCatalog",{data:a}),this.$store.commit("treeview/setSchema",{data:r}),this.$store.commit("treeview/setTable",{data:[s,n]})},clearTableQuery:function(){this.tableQueryModel="",this.$store.commit("treeview/setTableSearchResponse",{data:[]}),this.$store.commit("treeview/setTable",{data:["",""]})},setUrlSnippet:function(){if(this.table&&this.where){if(this.isPresto&&this.catalog&&this.schema){var t="SELECT * FROM "+this.catalog+"."+this.schema+'."'+this.table+'" WHERE '+this.where+" LIMIT 100";return void this.$store.commit("editor/setInputQuery",{data:t})}if(this.isHive&&this.schema){var e="SELECT * FROM "+this.schema+".`"+this.table+"` WHERE "+this.where+" LIMIT 100";return void this.$store.commit("editor/setInputQuery",{data:e})}if(this.isSpark&&this.schema){var a="SELECT * FROM "+this.schema+"."+this.table+" WHERE "+this.where+" LIMIT 100";return void this.$store.commit("editor/setInputQuery",{data:a})}if(this.isElasticsearch){var r='SELECT * FROM "'+this.table+'" WHERE '+this.where+" LIMIT 100";this.$store.commit("editor/setInputQuery",{data:r})}}},toggleStarSchema:function(t){var e=this;return ot()(rt.a.mark(function a(){var r,s,n,i;return rt.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(r=t.name,s=t.star,e.starTargetSchema=r,n=e.filteredSchemata.findIndex(function(t){return t.name===r}),!s){a.next=8;break}return a.next=6,e.$store.dispatch("treeview/deleteStarredSchema",{id:s.starred_schema_id});case 6:a.next=10;break;case 8:return a.next=10,e.$store.dispatch("treeview/postStarredSchema",{schema:r});case 10:i=e.filteredSchemata.findIndex(function(t){return t.name===r}),n===i&&e.finishStarring();case 12:case"end":return a.stop()}},a,e)}))()},finishStarring:function(){this.starTargetSchema&&(this.starTargetSchema=null)}}},Tt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"treeview"}},[a("div",{staticClass:"header col-12 pt-4 pb-0"},[a("div",{staticClass:"d-flex mb-4"},[t.datasources.length>1?a("div",{staticClass:"btn-group mr-1"},[a("button",{staticClass:"btn btn-sm btn-secondary dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown"}},[a("strong",[t._v(t._s(t.datasource))])]),t._v(" "),a("div",{staticClass:"dropdown-menu"},t._l(t.datasources,function(e){return a("a",{key:e,staticClass:"dropdown-item",class:{active:e===t.datasource},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.setDatasource(e)}}},[t._v(t._s(e))])}),0)]):t._e(),t._v(" "),t.isPresto?a("div",{staticClass:"btn-group mr-1"},[a("button",{staticClass:"btn btn-sm btn-secondary dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown"}},[a("small",{staticClass:"text-muted mr-1"},[t._v("Catalog")]),t._v(" "),a("strong",[t._v(t._s(t.catalog))])]),t._v(" "),t.catalogs.length?a("div",{staticClass:"dropdown-menu"},t._l(t.catalogs,function(e){return a("a",{key:e,staticClass:"dropdown-item",class:{active:e===t.catalog},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.setCatalog(e)}}},[t._v(t._s(e))])}),0):t._e()]):t._e(),t._v(" "),a("div",{staticClass:"ml-auto align-self-end"},[t.isPresto?a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.tableQueryModel,expression:"tableQueryModel",modifiers:{lazy:!0}},{name:"focus",rawName:"v-focus"}],staticClass:"form-control form-control-sm",attrs:{type:"text",placeholder:"Search by Table in "+t.catalog},domProps:{value:t.tableQueryModel},on:{change:function(e){t.tableQueryModel=e.target.value}}}):t._e()])]),t._v(" "),a("div",{staticClass:"col-6 text-right"},[t.isPresto?a("span",[t._m(0),t._v(" "),t._m(1)]):t._e()])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[t.tableQuery?[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("a",{staticClass:"text-muted mr-2",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.clearTableQuery(e)}}},[a("i",{staticClass:"fa fa-times"})]),t._v('\n            "'),a("strong",[t._v(t._s(t.tableQuery))]),t._v('" in '+t._s(t.catalog)+"\n            "),t.tableSearchResponse.length?[a("strong",{staticClass:"ml-2"},[t._v(t._s(t.tableSearchResponse.length))]),t._v("\n              results\n            ")]:t._e()],2),t._v(" "),a("div",{staticClass:"list-group list-group-flush"},[t.loadingTableSearch?[t._m(4)]:[t.tableSearchResponse?t._l(t.tableSearchResponse,function(e,r){return a("a",{key:r,staticClass:"list-group-item text-truncate",class:{active:e[0]===t.catalog&&e[1]===t.schema&&e[2]===t.table,"table-view":"VIEW"===e[3]},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.setSearchedTable(e)}}},[a("button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:[e[0],e[1],e[2]].join("."),expression:"[item[0], item[1], item[2]].join('.')"}],staticClass:"btn btn-sm btn-secondary clip"},[a("i",{staticClass:"fa fa-fw fa-clipboard"})]),t._v(" "),a("BaseHighlight",{attrs:{sentence:e[0],keyword:t.tableQuery}}),t._v(" "),a("span",{staticClass:"mx-1"},[t._v("/")]),t._v(" "),a("BaseHighlight",{attrs:{sentence:e[1],keyword:t.tableQuery}}),t._v(" "),a("span",{staticClass:"mx-1"},[t._v("/")]),t._v(" "),a("BaseHighlight",{attrs:{sentence:e[2],keyword:t.tableQuery}})],1)}):[a("a",{staticClass:"list-group-item disabled",attrs:{href:"#"}},[t._v("(Not Found)")])]]],2)])]:[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header d-flex justify-content-between align-items-center"},[a("p",{staticClass:"col-6 col-md-8 px-0 mb-0"},[a("strong",[t._v("Schemas ")]),t.filteredSchemata.length?a("span",{staticClass:"badge badge-secondary badge-pill"},[t._v(t._s(t.filteredSchemata.length))]):t._e()]),t._v(" "),a("div",{staticClass:"col-6 col-md-4 px-0 form-filter d-flex"},[a("small",[a("i",{staticClass:"fa fa-filter mt-1 mr-1",class:{"text-primary":t.filterSchema.length,"text-muted":!t.filterSchema.length}})]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filterSchemaModel,expression:"filterSchemaModel"}],staticClass:"pull-right form-filter-input",attrs:{type:"text"},domProps:{value:t.filterSchemaModel},on:{input:function(e){e.target.composing||(t.filterSchemaModel=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"list-group list-group-flush"},[(t.isPresto&&t.catalog||!t.isPresto)&&t.filteredSchemata.length?[a("transition-group",{attrs:{name:"schema-list",tag:"div"}},t._l(t.filteredSchemata,function(e){return a("a",{key:e.name,staticClass:"list-group-item pr-0",class:{active:e.name===t.schema,starring:!!t.starTargetSchema,target:e.name===t.starTargetSchema},attrs:{href:"#",id:"schema-"+e.name},on:{click:function(a){return a.preventDefault(),t.setSchema(e.name)},transitionend:function(a){e.name===t.starTargetSchema&&t.finishStarring()}}},[a("i",{staticClass:"fas fa-star mr-1",class:e.star?"text-warning":"text-muted",style:!e.star&&"opacity: 0.4",on:{click:function(a){return a.stopPropagation(),t.toggleStarSchema(e)}}}),t._v(" "),a("BaseHighlight",{attrs:{sentence:e.name,keyword:t.filterSchema}})],1)}),0)]:[a("a",{staticClass:"list-group-item disabled",attrs:{href:"#"}},[t._v("(N/A)")])]],2)])]),t._v(" "),a("div",{staticClass:"col-6 px-0"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header d-flex justify-content-between align-items-center"},[a("p",{staticClass:"col-6 col-md-8 px-0 mb-0"},[a("strong",[t._v("Tables")]),t._v(" "),t.filteredTables.length?a("span",{staticClass:"badge badge-secondary badge-pill"},[t._v(t._s(t.filteredTables.length))]):t._e()]),t._v(" "),a("div",{staticClass:"col-6 col-md-4 px-0 form-filter d-flex"},[a("small",[a("i",{staticClass:"fa fa-filter mt-1 mr-1",class:{"text-primary":t.filterTable.length,"text-muted":!t.filterTable.length}})]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filterTableModel,expression:"filterTableModel"}],staticClass:"pull-right form-filter-input",attrs:{type:"text"},domProps:{value:t.filterTableModel},on:{input:function(e){e.target.composing||(t.filterTableModel=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"list-group list-group-flush"},[t.schema&&t.filteredTables.length||t.isElasticsearch&&t.filteredTables.length?t._l(t.filteredTables,function(e){return a("a",{key:e[0],staticClass:"list-group-item",class:{active:e[0]===t.table,"table-base":t.isPresto&&"VIEW"!==e[1],"table-view":t.isPresto&&"VIEW"===e[1]},attrs:{href:"#",id:"table-"+e[0]},on:{click:function(a){return a.preventDefault(),t.setTable(e)}}},[a("button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:t.fullName(e[0]),expression:"fullName(t[0])"}],staticClass:"btn btn-sm btn-secondary clip px-2",on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[a("i",{staticClass:"fa fa-fw fa-clipboard"})]),t._v(" "),a("BaseHighlight",{attrs:{sentence:e[0],keyword:t.filterTable}})],1)}):[a("a",{staticClass:"list-group-item disabled",attrs:{href:"#"}},[t._v("(N/A)")])]],2)])])]),t._v(" "),t.table?a("div",{staticClass:"mt-3 py-3 text-right"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.snippetIndex,expression:"snippetIndex"}],staticClass:"custom-select custom-select-sm ace-font mb-2",attrs:{id:"snippet"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.snippetIndex=e.target.multiple?a:a[0]}}},[t._l(t.snippets,function(e,r){return[e.enable.includes(t.tableType)?a("option",{key:r,domProps:{value:r}},[t._v(t._s(e.label))]):t._e()]})],2),t._v(" "),a("label",{staticClass:"form-check-label mr-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.isExpandColumns,expression:"isExpandColumns"}],staticClass:"form-check-input mr-1",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isExpandColumns)?t._i(t.isExpandColumns,null)>-1:t.isExpandColumns},on:{change:function(e){var a=t.isExpandColumns,r=e.target,s=!!r.checked;if(Array.isArray(a)){var n=t._i(a,null);r.checked?n<0&&(t.isExpandColumns=a.concat([null])):n>-1&&(t.isExpandColumns=a.slice(0,n).concat(a.slice(n+1)))}else t.isExpandColumns=s}}}),a("small",[t._v("Expand Columns")])]),t._v(" "),a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn btn-sm btn-primary",attrs:{"data-dismiss":"modal"},on:{click:t.setSnippet}},[t._m(2)]),t._v(" "),a("button",{staticClass:"btn btn-sm btn-primary",attrs:{"data-dismiss":"modal"},on:{click:t.runSnippet}},[t._m(3)])])]):t._e()]],2),t._v(" "),a("div",{staticClass:"col-6"},[t.table&&t.columns.length?[a("div",{attrs:{id:"columns"}},[a("table",{staticClass:"table table-striped table-hover table-fixed mb-0"},[a("thead",[a("tr",[a("th",[a("span",{staticClass:"d-inline-flex align-items-center"},[t._v("\n                    Columns\n                    "),a("span",{staticClass:"badge badge-secondary badge-pill ml-1"},[t._v(t._s(t.columns.length))])])]),t._v(" "),a("th",{attrs:{width:"20%"}},[t._v("Type")]),t._v(" "),a("th",[t._v("Comment")])])]),t._v(" "),a("tbody",t._l(t.columns,function(e){return a("tr",{key:e[0]},[a("td",{attrs:{title:e[0]}},[e[0]===t.partitionKeys[0]?a("a",{attrs:{href:"#partition","data-toggle":"modal"},on:{click:function(e){return e.preventDefault(),t.getPartitions(e)}}},[t._v("\n                    "+t._s(e[0])+"\n                  ")]):[t._v("\n                    "+t._s(e[0])+"\n                  ")]],2),t._v(" "),a("td",{staticClass:"text-muted"},[t._v(t._s(e[1]))]),t._v(" "),a("td",[t._v(t._s(e[3]))])])}),0)])])]:t._e()],2)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("small",[e("i",{staticClass:"fa fa-fw fa-circle table-base"}),this._v("table")])},function(){var t=this.$createElement,e=this._self._c||t;return e("small",[e("i",{staticClass:"fa fa-fw fa-circle table-view"}),this._v("view")])},function(){var t=this.$createElement,e=this._self._c||t;return e("small",[e("i",{staticClass:"far fa-fw fa-keyboard mr-1"}),this._v("Set")])},function(){var t=this.$createElement,e=this._self._c||t;return e("small",[e("i",{staticClass:"fa fa-fw fa-play mr-1"}),e("strong",[this._v("Run")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"list-group-item"},[e("i",{staticClass:"fa fa-fw fa-spinner fa-pulse mr-1"}),this._v("Searching\n              ")])}]};var It=a("VU/8")(Et,Tt,!1,function(t){a("hvmi")},"data-v-6f05d5f8",null).exports,Lt={name:"TabTimeline",mixins:[A.a],computed:p()({},Object(v.c)({datasource:function(t){return t.hash.datasource},engine:function(t){return t.hash.engine}}),Object(v.c)("timeline",["loading"]),Object(v.c)("timeline",{filterOrig:function(t){return t.filter},timelines:function(t){return t.response}}),{filter:{get:function(){return this.filterOrig},set:function(t){this.$store.commit("timeline/setFilter",{data:t})}}}),created:function(){this.$store.dispatch("timeline/getTimeline")},methods:{getTimeline:function(){this.$store.dispatch("timeline/getTimeline")}}},Pt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"header row align-items-center pt-3"},[a("div",{staticClass:"col"},[a("strong",{staticClass:"mr-1"},[t._v("Timeline")]),t._v(" "),t.timelines.length?a("span",[t._v(t._s(t.timelines.length))]):t._e()]),t._v(" "),a("div",{staticClass:"col text-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"},{name:"focus",rawName:"v-focus"}],staticClass:"form-control form-control-sm d-inline-block w-50",attrs:{type:"text",placeholder:"Search by Comment"},domProps:{value:t.filter},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getTimeline(e)},input:function(e){e.target.composing||(t.filter=e.target.value)}}})])]),t._v(" "),a("div",[t.loading.timeline?[t._m(0)]:[t.timelines.length?a("table",{staticClass:"table table-bordered table-fixed table-hover"},[t._m(1),t._v(" "),a("tbody",t._l(t.timelines,function(e,r){return a("tr",{key:r,staticClass:"vertical-top"},[a("td",[a("pre",{staticClass:"comment"},[a("BaseAutoLink",{attrs:{text:e.content.escapeHTML()}})],1)]),t._v(" "),a("td",[t._v("\n            "+t._s(t._f("relativeDate")(e.updateTimeString))+"\n          ")]),t._v(" "),a("td",{staticClass:"text-right"},[e.likeCount?[t._v(t._s(e.likeCount))]:t._e()],2),t._v(" "),a("td",[t._v("\n            "+t._s(e.user||"Someone")+"\n          ")]),t._v(" "),a("td",[a("a",{attrs:{href:t.buildUrl({datasource:t.datasource,engine:t.engine,tab:"result",queryid:e.queryid})}},[t._v(t._s(e.queryid))])])])}),0)]):a("div",{staticClass:"alert alert-warning"},[a("i",{staticClass:"fa fa-fw fa-frown-o mr-1"}),t._v("No result\n      ")])]],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"alert alert-info"},[e("i",{staticClass:"fa fa-fw fa-spinner fa-pulse mr-1"}),this._v("Loading\n      ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{width:"42.5%"}},[t._v("Comment")]),t._v(" "),a("th",{attrs:{width:"12.5%"}},[t._v("When")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("Like")]),t._v(" "),a("th",{attrs:{width:"20%"}},[t._v("User")]),t._v(" "),a("th",{attrs:{width:"17.5%"}},[t._v("query ID")])])])}]};var At={name:"TheContent",components:{TabQlist:G,TabHistory:X,TabBookmark:et,TabResult:St,TabTreeview:It,TabTimeline:a("VU/8")(Lt,Pt,!1,function(t){a("PKxU")},"data-v-f9faa8e2",null).exports},computed:p()({},Object(v.c)({isWide:function(t){return t.settings.isWide},tab:function(t){return t.hash.tab}}),Object(v.b)(["isBottomPanelOpen"]))},Qt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:{open:t.isBottomPanelOpen},attrs:{id:"content"}},[a("div",{class:t.isWide?"container-fluid":"container"},["qlist"===t.tab?a("TabQlist"):"history"===t.tab?a("TabHistory"):"bookmark"===t.tab?a("TabBookmark"):"result"===t.tab?a("TabResult"):"treeview"===t.tab?a("TabTreeview"):"timeline"===t.tab?a("TabTimeline"):t._e()],1)])},staticRenderFns:[]};var Rt=a("VU/8")(At,Qt,!1,function(t){a("YenA")},"data-v-179d12e0",null).exports,Mt={name:"TheFooter",data:function(){return{links:H.g}}},Dt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("footer",{staticClass:"py-3",attrs:{id:"footer"}},[e("address",{staticClass:"text-center"},[this._m(0),this._v(" "),this.links.bugsFeedback?e("a",{staticClass:"mr-2",attrs:{href:this.links.bugsFeedback}},[this._v("Bugs and Feedback")]):this._e()])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("strong",[e("a",{attrs:{href:"https://github.com/yanagishima/yanagishima"}},[e("i",{staticClass:"fab fa-github mr-1"}),this._v("yanagishima")])]),this._v("\n      by wyukawa and okazou\n    ")])}]};var Ht=a("VU/8")(Mt,Dt,!1,function(t){a("qLB9")},"data-v-13d079ff",null).exports,$t={name:"ModalNotification",computed:p()({},Object(v.c)("notification",["notifications","notificationReadId"])),mounted:function(){var t=this;E()(this.$el).on("hidden.bs.modal",function(){t.$store.commit("notification/read")})}},qt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"notification",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-dialog-scrollable modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),a("div",{staticClass:"modal-body"},[t.notifications.length?t._l(t.notifications,function(e){return a("div",{key:e.id,staticClass:"card mb-3"},[a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title",class:{"font-weight-bolder":e.id>t.notificationReadId}},[t._v(t._s(e.title))]),t._v(" "),a("span",{staticClass:"d-block card-subtitle mb-2 text-muted"},[t._v(t._s(e.date))]),t._v(" "),a("BaseAutoLink",{staticClass:"card-text",attrs:{text:e.text}})],1)])}):a("p",[t._v("There are no notifications.")])],2)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[e("strong",[this._v("Notifications")])]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[e("span",[this._v("Ã—")])])])}]};var Ot=a("VU/8")($t,qt,!1,function(t){a("qvIj")},"data-v-5c3fa35f",null).exports,Nt={name:"ModalHelp",mixins:[A.a],data:function(){return{demo:{variables:"SELECT ${x} FROM ${y} LIMIT ${z}",chart:"SELECT * FROM (VALUES(2013,1000,400),(2014,1170,460),(2015,660,1120),(2016,1030,540),(2017,1220,890)) AS t (year,A,B)"},dateColumnNames:H.d,links:H.g}},computed:p()({},Object(v.c)({engine:function(t){return t.hash.engine}}),Object(v.b)(["isPresto"])),methods:{variablesDemo:function(){this.$store.commit("editor/setInputQuery",{data:this.demo.variables}),this.hideModal("help")},chartDemo:function(){this.$store.commit("editor/setInputQuery",{data:this.demo.chart}),this.$store.dispatch("result/runQuery"),this.hideModal("help"),this.$store.commit("setHashItem",{tab:"result"})}}},Bt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"help"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[a("strong",[t._v("Help")]),t._v(" - "+t._s(t.engine))]),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"modal-body p-4"},[a("section",{staticClass:"mb-5"},[t._m(1),t._v(" "),a("table",{staticClass:"table table-fixed"},[t._m(2),t._v(" "),a("tbody",[t._m(3),t._v(" "),t.isPresto?a("tr",[a("td",[t._v("Editor")]),t._v(" "),t._m(4),t._v(" "),t._m(5)]):t._e(),t._v(" "),t._m(6),t._v(" "),t.isPresto?a("tr",[a("td",[t._v("Editor")]),t._v(" "),t._m(7),t._v(" "),t._m(8)]):t._e(),t._v(" "),t.isPresto?a("tr",[a("td",[t._v("Editor")]),t._v(" "),t._m(9),t._v(" "),t._m(10)]):t._e()])])]),t._v(" "),a("section",{staticClass:"mb-5"},[t._m(11),t._v(" "),t._m(12),t._v(" "),a("table",{staticClass:"table table-fixed"},[a("tbody",[a("tr",[a("td",[a("BaseAce",{attrs:{code:t.demo.variables,readonly:!0,"css-class":"bg-transparent"}})],1),t._v(" "),a("td",{staticClass:"w-25 text-right"},[a("a",{staticClass:"btn btn-sm btn-secondary",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.variablesDemo(e)}}},[a("i",{staticClass:"fa fa-fw fa-play mr-1"}),t._v("Demo")])])])])])]),t._v(" "),a("section",[t._m(13),t._v(" "),a("table",{staticClass:"table table-fixed"},[a("tbody",[a("tr",[a("td",[a("BaseAce",{attrs:{code:"SELECT dt, pageview FROM sample",readonly:!0,"css-class":"bg-transparent"}})],1),t._v(" "),a("td",{staticClass:"w-25 text-right"},[a("a",{staticClass:"btn btn-sm btn-secondary",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.chartDemo(e)}}},[a("i",{staticClass:"fa fa-fw fa-play mr-1"}),t._v("Demo")])])])])])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[t.links.mailAdmin?a("a",{staticClass:"btn btn-primary",attrs:{href:"mailto:"+t.links.mailAdmin}},[a("i",{staticClass:"fa fa-fw fa-envelope-o mr-1"}),t._v("Mail to Admin")]):t._e(),t._v(" "),t.links.aboutThis?a("a",{staticClass:"btn btn-primary",attrs:{href:t.links.aboutThis,target:"wiki"}},[a("i",{staticClass:"fa fa-fw fa-book mr-1"}),t._v("About yanagishima")]):t._e(),t._v(" "),t.links.bugsFeedback?a("a",{staticClass:"btn btn-primary",attrs:{href:t.links.bugsFeedback,target:"bug"}},[a("i",{staticClass:"fa fa-fw fa-bug mr-1"}),t._v("Bugs and Feedback")]):t._e()])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[e("span",[this._v("Ã—")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{staticClass:"font-weight-bold mb-3"},[e("i",{staticClass:"far fa-fw fa-keyboard mr-1"}),this._v("HotKeys")])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{staticClass:"w-25"},[this._v("Effective Range")]),this._v(" "),e("th",{staticClass:"w-25"},[this._v("Keyboard")]),this._v(" "),e("th",{staticClass:"w-50"},[this._v("Command")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",[t._v("Screen")]),t._v(" "),a("td",[a("kbd",[t._v("Ctrl")]),t._v(" + "),a("kbd",[t._v("T")])]),t._v(" "),a("td",[t._v("Move to "),a("strong",[t._v("Treeview")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("kbd",[this._v("Ctrl")]),this._v(" + "),e("kbd",[this._v("Space")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("strong",[this._v("Auto-complete")]),this._v(" Table/Function")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",[t._v("Editor")]),t._v(" "),a("td",[a("kbd",[t._v("Ctrl")]),t._v(" + "),a("kbd",[t._v("Enter")])]),t._v(" "),a("td",[a("strong",[t._v("Run")]),t._v(" Query")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("kbd",[this._v("Shift")]),this._v(" + "),e("kbd",[this._v("Enter")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("strong",[this._v("Validate")]),this._v(" Query")])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("kbd",[this._v("Ctrl")]),this._v(" + "),e("kbd",[this._v("Shift")]),this._v(" + "),e("kbd",[this._v("F")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("strong",[this._v("Format")]),this._v(" Query")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{staticClass:"font-weight-bold mb-3"},[e("i",{staticClass:"fas fa-fw fa-dollar-sign mr-1"}),this._v("Variable expansion")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"px-3"},[this._v("You can use "),e("strong",[this._v("variables")]),this._v(" as "),e("strong",[this._v("${var}")]),this._v(" in query.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{staticClass:"font-weight-bold mb-3"},[e("i",{staticClass:"far fa-fw fa-chart-bar mr-1"}),this._v("Chart Function")])}]};var Ft=a("VU/8")(Nt,Bt,!1,function(t){a("PkEV")},"data-v-f95d4246",null).exports,jt={name:"ModalTheme",mixins:[A.a],data:function(){return{themes:["ambiance","chaos","chrome","clouds","clouds_midnight","cobalt","crimson_editor","dawn","eclipse","github","idle_fingers","iplastic","katzenmilch","kuroir","kr_theme","merbivore","merbivore_soft","mono_industrial","monokai","pastel_on_dark","solarized_dark","solarized_light","sqlserver","terminal","textmate","tomorrow","tomorrow_night","tomorrow_night_blue","tomorrow_night_bright","tomorrow_night_eighties","twilight","vibrant_ink","xcode"]}},computed:p()({},Object(v.c)({theme:function(t){return t.settings.theme}}),{themeModel:{get:function(){return this.theme},set:function(t){this.$store.commit("setSettings",{theme:t})}}})},Ut={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"theme"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[a("strong",{staticClass:"mr-1"},[t._v(t._s(t.themes.length))]),t._v("themes")]),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"modal-body p-3"},[a("table",{staticClass:"table table-bordered table-fixed table-hover mb-0"},[a("tbody",t._l(t.themes,function(e){return a("tr",{key:e},[a("td",{staticClass:"w-25"},[a("div",{staticClass:"form-check",class:{"font-weight-bold":e===t.theme}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.themeModel,expression:"themeModel"}],staticClass:"form-check-input",attrs:{type:"radio",id:"theme"+e+"Radio"},domProps:{value:e,checked:t._q(t.themeModel,e)},on:{change:[function(a){t.themeModel=e},function(e){return t.hideModal("theme")}]}}),t._v(" "),a("label",{staticClass:"form-check-label",attrs:{for:"theme"+e+"Radio"}},[t._v(t._s(t._f("humanize")(e)))])])]),t._v(" "),a("td",[a("BaseAce",{attrs:{code:"SELECT * FROM catalog.schema.table LIMIT 100",theme:e,readonly:!0}})],1)])}),0)])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[e("span",[this._v("Ã—")])])}]};var Vt=a("VU/8")(jt,Ut,!1,function(t){a("75XZ")},"data-v-34d8b7e5",null).exports,Wt={name:"ModalPartition",data:function(){return{orderDesc:{},filterPartitionKeywords:{}}},computed:p()({},Object(v.c)("treeview",["catalog","schema","table","partitionValues","selectedPartitions","loadingPartitions"]),Object(v.b)(["isPresto","isHive","isSpark","datasourceEngine"]),Object(v.c)("editor",["inputQuery"]),Object(v.b)("treeview",["partitionKeys","partitionKeysTypes"]),{nextPartitionKey:function(){var t=!0,e=!1,a=void 0;try{for(var r,s=i()(this.partitionKeys);!(t=(r=s.next()).done);t=!0){var n=r.value;if(!this.partitionValues[n])return n}}catch(t){e=!0,a=t}finally{try{!t&&s.return&&s.return()}finally{if(e)throw a}}},lastPartitionKey:function(){return this.partitionKeys[this.partitionKeys.length-1]},sortedPartitionValues:function(){var t=this,e={},a=function(a){if(!t.partitionValues[a])return"break";t.filterPartitionKeywords[a]?e[a]=t.partitionValues[a].filter(function(e){return e.includes(t.filterPartitionKeywords[a])}).slice().sort():e[a]=t.partitionValues[a].slice().sort(),t.orderDesc[a]&&e[a].reverse()},r=!0,s=!1,n=void 0;try{for(var o,c=i()(this.partitionKeys);!(r=(o=c.next()).done);r=!0){if("break"===a(o.value))break}}catch(t){s=!0,n=t}finally{try{!r&&c.return&&c.return()}finally{if(s)throw n}}return e},fullName:function(){return this.catalog+"."+this.schema+"."+this.table}}),watch:{fullName:function(){this.$store.commit("treeview/setSelectedPartitions",{data:{}}),this.orderDesc={},this.filterPartitionKeywords={}}},methods:{setSelectedPartitions:function(t,e){var a={},r=!0,s=!1,n=void 0;try{for(var o,c=i()(this.partitionKeys);!(r=(o=c.next()).done);r=!0){var l=o.value;if(l===t)break;a[l]=this.selectedPartitions[l]}}catch(t){s=!0,n=t}finally{try{!r&&c.return&&c.return()}finally{if(s)throw n}}a[t]=e,this.$store.commit("treeview/setSelectedPartitions",{data:a})},selectAndGetNextPartition:function(t,e){this.setSelectedPartitions(t,e),this.$store.dispatch("treeview/getPartitions",{selectedPartitions:this.selectedPartitions})},setPartitionToQuery:function(t,e){this.setSelectedPartitions(t,e);var a=[],r=!0,s=!1,n=void 0;try{for(var o,l=i()(this.partitionKeys.entries());!(r=(o=l.next()).done);r=!0){var u=o.value,d=c()(u,2),m=d[0],h=d[1];if("varchar"===this.partitionKeysTypes[m]||"string"===this.partitionKeysTypes[m]?a.push(h+"='"+this.selectedPartitions[h]+"'"):"date"===this.partitionKeysTypes[m]?a.push(h+"=DATE '"+this.selectedPartitions[h]+"'"):a.push(h+"="+this.selectedPartitions[h]),h===t)break}}catch(t){s=!0,n=t}finally{try{!r&&l.return&&l.return()}finally{if(s)throw n}}var f=void 0;if(this.isPresto)f=[this.catalog,this.schema,'"'+this.table+'"'];else if(this.isHive)f=[this.schema,"`"+this.table+"`"];else{if(!this.isSpark)throw new Error("not supported");f=[this.schema,this.table]}var p="SELECT * FROM "+f.join(".")+" WHERE "+a.join(" AND ")+" LIMIT 100";this.$store.commit("editor/setInputQuery",{data:p})},toggleOrder:function(t){this.orderDesc=_t()({},this.orderDesc,P()({},t,!this.orderDesc[t]))}}},Kt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"partition"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[a("strong",[t._v("Partition list")]),t._v(" in\n          "),t.isPresto?[t._v(t._s(t.catalog)+".")]:t._e(),t._v(t._s(t.schema)+"."+t._s(t.table)+"\n        ")],2),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"modal-body p-4"},[a("div",{staticClass:"card-deck"},t._l(t.partitionKeys,function(e){return a("div",{key:e,staticClass:"card ml-0"},[a("div",{staticClass:"card-header d-flex justify-content-between align-items-center p-2"},[a("div",{staticClass:"col-7 d-flex align-items-center px-0"},[a("span",{staticStyle:{cursor:"pointer"},attrs:{role:"button"},on:{click:function(a){return a.preventDefault(),t.toggleOrder(e)}}},[a("i",{staticClass:"fa fa-fw",class:{"fa-arrow-up":!t.orderDesc[e],"fa-arrow-down":t.orderDesc[e]}}),t._v(t._s(e))]),t.sortedPartitionValues[e]&&t.sortedPartitionValues[e].length?a("span",{staticClass:"badge badge-secondary badge-pill ml-1"},[t._v(t._s(t.sortedPartitionValues[e].length))]):t._e()]),t._v(" "),a("div",{staticClass:"col-5 px-0 form-filter d-flex align-items-center"},[a("small",[a("i",{staticClass:"fa fa-filter mr-1",class:{"text-primary":t.filterPartitionKeywords[e]&&t.filterPartitionKeywords[e].length,"text-muted":!t.filterPartitionKeywords[e]||!t.filterPartitionKeywords[e].length}})]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filterPartitionKeywords[e],expression:"filterPartitionKeywords[key]"}],staticClass:"form-filter-input w-100",attrs:{type:"text"},domProps:{value:t.filterPartitionKeywords[e]},on:{input:function(a){a.target.composing||t.$set(t.filterPartitionKeywords,e,a.target.value)}}})])]),t._v(" "),t.loadingPartitions&&e===t.nextPartitionKey?a("div",{staticClass:"card-body"},[a("i",{staticClass:"fa fa-fw fa-spinner fa-pulse mr-1"}),t._v("Loading\n            ")]):t.partitionValues[e]&&t.partitionValues[e].length?a("div",{staticClass:"list-group list-group-flush"},[t._l(t.sortedPartitionValues[e],function(r){return[e===t.lastPartitionKey?a("div",{key:r,staticClass:"list-group-item"},[a("button",{staticClass:"btn btn-sm btn-secondary set",attrs:{"data-dismiss":"modal"},on:{click:function(a){return t.setPartitionToQuery(e,r)}}},[a("i",{staticClass:"far fa-fw fa-keyboard mr-1"}),t._v("Set\n                  ")]),t._v("\n                  "+t._s(r.substring(0,50))+"\n                ")]):a("a",{key:r,staticClass:"list-group-item text-truncate",class:{active:t.selectedPartitions[e]===r},attrs:{href:"#",title:r},on:{click:function(a){return a.preventDefault(),t.selectAndGetNextPartition(e,r)}}},[a("button",{staticClass:"btn btn-sm btn-secondary set",attrs:{"data-dismiss":"modal"},on:{click:function(a){return t.setPartitionToQuery(e,r)}}},[a("i",{staticClass:"far fa-fw fa-keyboard mr-1"}),t._v("Set\n                  ")]),t._v("\n                  "+t._s(r.substring(0,50))+"\n                ")])]})],2):a("div",{staticClass:"card-body"},[a("span",{staticClass:"text-muted"},[t._v("No result")])])])}),0)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[e("span",[this._v("Ã—")])])}]};var zt=a("VU/8")(Wt,Kt,!1,function(t){a("3LDc")},"data-v-55f553c2",null).exports,Gt={name:"ModalAuth",mixins:[A.a],data:function(){return{authDone:!1,form:{user:"",pass:""}}},computed:p()({},Object(v.c)(["authUser","authPass"]),Object(v.c)({datasource:function(t){return t.hash.datasource}})),watch:{authUser:function(t){this.form.user=t},authPass:function(t){this.form.pass=t}},methods:{submit:function(){this.$store.commit("setAuth",this.form),this.hideModal("auth")},testAuth:function(){var t=this;this.$store.dispatch("testAuth",{user:this.form.user,password:this.form.pass}).then(function(){t.authDone=!0}).catch(function(){})}}},Zt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"auth"}},[a("div",{staticClass:"modal-dialog modal-sm",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[a("strong",[t._v(t._s(t.datasource))])]),t._v(" "),t._m(0)]),t._v(" "),a("form",{staticClass:"mb-0",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("div",{staticClass:"modal-body p-3"},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"mb-1"},[t._v("User account")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.form.user,expression:"form.user",modifiers:{lazy:!0}}],staticClass:"form-control",attrs:{type:"text",autocomplete:"username"},domProps:{value:t.form.user},on:{change:function(e){return t.$set(t.form,"user",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"mb-1"},[t._v("Password")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.form.pass,expression:"form.pass",modifiers:{lazy:!0}}],staticClass:"form-control",attrs:{type:"password",autocomplete:"current-password"},domProps:{value:t.form.pass},on:{change:function(e){return t.$set(t.form,"pass",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"text-center"},[a("button",{staticClass:"btn btn-sm btn-secondary",attrs:{type:"button"},on:{click:t.testAuth}},[a("i",{staticClass:"fa fa-fw fa-check mr-1"}),t._v("Login Check\n            ")])])]),t._v(" "),t.authDone?a("div",{staticClass:"modal-footer justify-content-center"},[a("button",{staticClass:"btn btn-primary w-25",attrs:{type:"submit"}},[t._v("Save")]),t._v(" "),a("button",{staticClass:"btn btn-secondary w-25",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])]):t._e()])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[e("span",[this._v("Ã—")])])}]};var Jt=a("VU/8")(Gt,Zt,!1,function(t){a("xkN1")},"data-v-e149e206",null).exports,Xt={name:"TheBottomPanel",components:{ResultTable:ft},computed:p()({},Object(v.c)({isWide:function(t){return t.settings.isWide},line:function(t){return t.hash.line}}),Object(v.b)(["datasourceIndex","isBottomPanelOpen"]),Object(v.c)("history",["panelQueryid","panelResult"]),Object(v.c)("result",["isPretty"])),methods:{toggleLine:function(t){t===this.line&&(t=0),this.$store.commit("setHashItem",{line:t})},resetPanelQueryid:function(){this.$store.commit("history/setPanelQueryid",{data:null})}}},Yt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isBottomPanelOpen?a("div",{attrs:{id:"panel"}},[a("div",{staticClass:"sticky-top",class:"datasource_"+t.datasourceIndex+"-bgcolor",attrs:{id:"panel-header"}}),t._v(" "),t.panelResult?a("div",{class:t.isWide?"container-fluid":"container",attrs:{id:"panel-body"}},[a("div",{staticClass:"d-flex justify-content-between align-items-center mb-3"},[a("div",[t.panelResult.lineNumber?a("span",{staticClass:"mr-3"},[a("i",{staticClass:"fa fa-file-text-o",attrs:{title:"query ID","data-toggle":"tooltip","data-animation":"false","data-placement":"left"}}),t._v(" "),a("strong",[t._v(t._s(t.panelQueryid))])]):t._e(),t._v(" "),t.panelResult.finishedTime?a("span",{staticClass:"mr-2"},[a("i",{staticClass:"fa fa-clock-o",attrs:{title:"Finished time","data-toggle":"tooltip","data-animation":"false","data-placement":"left"}}),t._v("\n          "+t._s(t._f("extractDate")(t.panelResult.finishedTime))+"\n        ")]):t._e(),t._v(" "),t.panelResult.elapsedTimeMillis?a("span",{staticClass:"mr-2"},[a("strong",[t._v(t._s((t.panelResult.elapsedTimeMillis/1e3).ceil(2)))]),a("span",{staticClass:"text-muted ml-1"},[t._v("sec")])]):t._e(),t._v(" "),t.panelResult.rawDataSize?a("span",{staticClass:"mr-2"},[a("strong",[t._v(t._s(t.panelResult.rawDataSize.remove("B")))]),a("span",{staticClass:"text-muted ml-1"},[t._v("byte")])]):t._e(),t._v(" "),t.panelResult.lineNumber?a("span",{staticClass:"mr-2"},[a("strong",[t._v(t._s(t._f("formatNumber")(t.panelResult.results.length)))]),t._v(" "),t.panelResult.results.length!==t.panelResult.lineNumber-1?[a("span",{staticClass:"mx-1"},[t._v("/")]),t._v(" "),a("strong",[t._v(t._s(t._f("formatNumber")(t.panelResult.lineNumber-1)))])]:t._e(),t._v(" "),a("span",{staticClass:"text-muted ml-1"},[t._v("results")])],2):t._e()]),t._v(" "),a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.resetPanelQueryid(e)}}},[a("i",{staticClass:"fa fa-fw fa-times"})])]),t._v(" "),a("ResultTable",{attrs:{result:t.panelResult,pretty:t.isPretty,line:t.line},on:{"line-click":t.toggleLine}})],1):t._e()]):t._e()},staticRenderFns:[]};var te=a("VU/8")(Xt,Yt,!1,function(t){a("7NL5")},"data-v-0ead9237",null).exports,ee={name:"TheComment",computed:p()({},Object(v.c)({tab:function(t){return t.hash.tab},queryid:function(t){return t.hash.queryid}}),Object(v.b)(["isBottomPanelOpen"]),Object(v.c)("result",["comment","inputComment","visibleComment"]),{inputCommentModel:{get:function(){return this.inputComment},set:function(t){this.$store.commit("result/setInputComment",{data:t})}},inputCommentRows:function(){var t=this.inputComment?this.inputComment.split("\n").length:0;return t>32?32:t>8?t:8}}),methods:{setComment:function(t){this.$store.commit("result/setComment",t)},setVisibleComment:function(t){this.$store.commit("result/setVisibleComment",{data:t})},postComment:function(){this.$store.dispatch("result/postComment")},postCommentLike:function(){this.$store.dispatch("result/postCommentLike")},deleteComment:function(){this.$store.dispatch("result/deleteComment")}}},ae={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return!t.isBottomPanelOpen&&"result"===t.tab&&t.queryid?a("div",{staticClass:"card",class:{conpact:!t.visibleComment},attrs:{id:"comment"}},[a("div",{staticClass:"card-header"},[a("div",{staticClass:"d-flex justify-content-between align-items-center"},[a("div",[t.visibleComment?[a("i",{staticClass:"fa fa-commenting-o fa-flip-horizontal mr-1"}),t._v(" "),t.comment.edit?[t._v("\n            Comment on this result\n          ")]:[a("strong",[t._v(t._s(t.comment.user||"Someone"))]),t._v(" commented "+t._s(t._f("relativeDate")(t.comment.update))+"\n          ")]]:[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.setVisibleComment(!0)}}},[a("i",{staticClass:"fa fa-commenting fa-flip-horizontal mr-1"}),t._v(" "),t.comment.edit?[t._v("\n              Comment on this result\n            ")]:[a("strong",[t._v(t._s(t.comment.user||"Someone"))]),t._v(" commented "+t._s(t._f("relativeDate")(t.comment.update))+"\n            ")]],2)]],2),t._v(" "),t.visibleComment?a("div",[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.setVisibleComment(!1)}}},[a("i",{staticClass:"fa fa-fw fa-times"})])]):t._e()])]),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{attrs:{id:"comment-body"}},[t.comment.edit?[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.inputCommentModel,expression:"inputCommentModel"}],staticClass:"form-control mb-3",attrs:{rows:t.inputCommentRows,placeholder:"Input your comment."},domProps:{value:t.inputCommentModel},on:{input:function(e){e.target.composing||(t.inputCommentModel=e.target.value)}}})]:[a("pre",{staticClass:"comment"},[t.comment.content?[a("BaseAutoLink",{attrs:{text:t.comment.content.escapeHTML()}})]:[a("span",{staticClass:"text-muted"},[t._v("(none)")])]],2)]],2),t._v(" "),a("div",{staticClass:"d-flex justify-content-between align-items-center mb-2"},[a("div",[a("button",{staticClass:"btn btn-sm btn-secondary",attrs:{type:"button",disabled:t.comment.edit},on:{click:t.postCommentLike}},[a("i",{staticClass:"fa fa-thumbs-o-up mr-1"}),t._v("Like\n          "),t.comment.like?a("span",{staticClass:"badge badge-pill badge-primary ml-1"},[t._v(t._s(t.comment.like))]):t._e()])]),t._v(" "),a("div",[t.comment.edit?[a("button",{staticClass:"btn btn-sm btn-primary px-3",attrs:{type:"button",disabled:!t.inputComment.length},on:{click:t.postComment}},[t._v("Post\n          ")]),t._v(" "),t.comment.content?a("button",{staticClass:"btn btn-sm btn-secondary ml-1",attrs:{type:"button"},on:{click:function(e){return t.setComment({edit:!1})}}},[t._v("Cancel\n          ")]):t._e()]:[a("div",{staticClass:"btn-group dropup"},[a("button",{staticClass:"btn btn-sm btn-secondary dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown"}},[t._v("Action\n            ")]),t._v(" "),a("div",{staticClass:"dropdown-menu dropdown-menu-right"},[a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.setComment({edit:!0})}}},[t._v("Edit")]),t._v(" "),a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.deleteComment(e)}}},[t._v("Delete")])])])]],2)])])]):t._e()},staticRenderFns:[]};var re=a("VU/8")(ee,ae,!1,function(t){a("a30N")},"data-v-a36c45e4",null).exports,se={name:"TheSideHistory",mixins:[A.a],computed:p()({},Object(v.c)({datasource:function(t){return t.hash.datasource},engine:function(t){return t.hash.engine},queryid:function(t){return t.hash.queryid}}),Object(v.c)("history",{history:function(t){return t.response&&t.response.results?t.response.results:[]}})),methods:{close:function(){this.$store.commit("setIsSideHistoryOpen",!1)},openBottomPanel:function(t){this.$store.dispatch("history/loadPanelQuery",{queryid:t})}}},ne={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("aside",{attrs:{id:"sub"}},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header sticky-top"},[a("div",{staticClass:"d-flex justify-content-between align-items-center"},[a("strong",[t._v("Latest history")]),t._v(" "),a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.close(e)}}},[a("i",{staticClass:"fa fa-times"})])])]),t._v(" "),a("div",{staticClass:"list-group list-group-flush"},[t._l(t.history,function(e){return[a("a",{key:e[0],staticClass:"list-group-item",class:{active:t.queryid===e[0]},attrs:{href:t.buildUrl({datasource:t.datasource,engine:t.engine,tab:"result",queryid:e[0]}),title:e[1]}},[a("button",{staticClass:"btn btn-sm btn-secondary panel px-2",on:{click:function(a){return a.stopPropagation(),a.preventDefault(),t.openBottomPanel(e[0])}}},[a("i",{staticClass:"fa fa-fw fa-columns fa-rotate-270"})]),t._v(" "),a("div",{staticClass:"ace-font text-break"},[t._v("\n            "+t._s(e[1].compact().truncate(128))+"\n          ")])])]})],2)])])},staticRenderFns:[]};var ie=a("VU/8")(se,ne,!1,function(t){a("VipE")},"data-v-3ddf4359",null).exports,oe=new I.a,ce={name:"DefaultView",components:{TheSettings:D,TheHeader:W,TheContent:Rt,TheFooter:Ht,ModalNotification:Ot,ModalHelp:Ft,ModalTheme:Vt,ModalPartition:zt,ModalAuth:Jt,TheBottomPanel:te,TheComment:re,TheSideHistory:ie},mixins:[A.a],computed:p()({},Object(v.c)(["datasources","engines","auths","authUser","authPass","isModal","isSideHistoryOpen","unload"]),Object(v.c)({isLocalStorage:function(t){return t.settings.isLocalStorage},theme:function(t){return t.settings.theme},datasource:function(t){return t.hash.datasource},engine:function(t){return t.hash.engine},queryid:function(t){return t.hash.queryid},tab:function(t){return t.hash.tab},bookmark_id:function(t){return t.hash.bookmark_id},isSettingOpen:function(t){return t.isSettingOpen}}),Object(v.b)(["hashString","datasourceIndex","datasourceEngine"]),Object(v.c)("result",{runningQueries:function(t){return t.runningQueries},loadingResult:function(t){return t.loading}})),watch:{datasources:function(t){t.length||location.replace("/error/?403"),this.loadLocalStorageGlobal(),this.$store.commit("setHash");var e=this.datasource||t[0],a=this.engine||this.engines[e][0],r=this.tab||H.i[0].id;this.$store.commit("setHashItem",{datasource:e,engine:a,tab:r}),this.loadLocalStoragePerDatasource(),this.$store.commit("loadComplete")},hashString:function(){location.hash=this.hashString,this.setTitle()},datasourceEngine:function(t,e){e&&(this.$store.commit("setHashItem",{queryid:"",bookmark_id:""}),this.$store.commit("editor/setInputQuery",{data:""}),this.$store.commit("setHashItem",{tab:H.i[0].id}));var a=t.split("_"),r=c()(a,1)[0],s=e.split("_");r!==c()(s,1)[0]&&(this.engines[r].includes(this.engine)||this.$store.commit("setHashItem",{engine:this.engines[r][0]}),this.checkAuth(),this.loadLocalStoragePerDatasource()),this.init(),this.$store.dispatch("editor/getCompleteWords")},queryid:function(t,e){e&&this.$store.commit("setHashItem",{line:0}),t&&this.$store.dispatch("result/loadQuery")},bookmark_id:function(t){this.$store.dispatch("bookmark/getBookmark",{bookmarkId:t})},tab:function(){E()(document).scrollTop(0)},isLocalStorage:function(){this.init()},runningQueries:function(t){oe.badge(t),this.$store.dispatch("history/getHistories",{isMore:!1})},unload:function(){this.$store.commit("editor/focusOnEditor")}},created:function(){var t=this;window.addEventListener("hashchange",function(){t.$store.commit("setHash")}),this.$store.dispatch("getDataSources")},mounted:function(){var t=this;E()("body").tooltip({selector:'[data-toggle="tooltip"]'}),E()(document).on("shown.bs.modal",".modal",function(){t.$store.commit("setIsModal",!0),t.$store.commit("editor/resetFocusOnEditor")}).on("hidden.bs.modal",function(){t.$store.commit("setIsModal",!1),t.$store.commit("editor/focusOnEditor"),E()(document).scrollTop(0)}),E()(document).on("show.bs.modal","#bookmark",function(){E()("button").blur()}).on("hide.bs.modal",function(){}),E()(window).keydown(function(e){e.ctrlKey&&84===e.keyCode&&(t.$store.commit("setHashItem",{tab:"treeview"}),e.preventDefault()),t.isModal&&27===e.keyCode&&E()(".modal").modal("hide")}),E()(window).on("beforeunload",function(){if(t.loadingResult)return confirm("Do you want to do it?")});var e={konami:[38,38,40,40,37,39,37,39,66,65]},a=Math.max.apply(Math,w()(C()(e).map(function(t){return t.length}))),r=[];E()(window).keyup(function(s){r.push(s.keyCode),r.splice(0,r.length-a),r.toString().indexOf(e.konami)>=0&&(t.superadminMode=!0,m.a.success("You can watch all queries.","Super Admin Mode"),r=[])})},methods:{init:function(t){t&&(this.$store.commit("init"),this.$store.commit("editor/init")),this.$store.commit("treeview/init"),this.$store.commit("result/init"),this.$store.commit("history/init"),this.$store.commit("bookmark/init"),this.$store.commit("qlist/init"),this.$store.commit("timeline/init"),this.loadLocalStoragePerDatasource(),this.$store.dispatch("history/getHistories",{isMore:!1,filter:""}),this.$store.dispatch("bookmark/getBookmarks"),this.$store.dispatch("qlist/getQlist",{isAutoQlist:!1}),this.setTitle()},loadLocalStorageGlobal:function(){this.$store.commit("loadLocalStorage"),this.$store.commit("qlist/loadLocalStorage"),this.$store.commit("notification/loadLocalStorage"),this.$store.commit("announce/loadLocalStorage")},loadLocalStoragePerDatasource:function(){this.$store.commit("bookmark/loadLocalStorage",{datasource:this.datasource}),this.$store.commit("history/loadLocalStorage",{datasource:this.datasource})},checkAuth:function(){this.auths[this.datasource]&&(this.$store.commit("loadAuth"),this.authUser&&this.authPass||this.showModal("auth"))},setTitle:function(t){var e=this,a=t||this.datasource,r=H.i.find(function(t){return t.id===e.tab}).name;"result"===this.tab&&this.queryid&&(r="#"+this.queryid),document.title="["+a+"] "+r+" - "+H.h},openPanel:function(){this.$store.commit("setIsSideHistoryOpen",!0)}}},le={render:function(){var t,e=this,a=e.$createElement,r=e._self._c||a;return r("div",{class:(t={open:e.isSideHistoryOpen},t["datasource_"+e.datasourceIndex]=!0,t),attrs:{id:"wrapper"}},[r("main",{attrs:{id:"main"}},[r("transition-group",{attrs:{tag:"div"}},[e.isSettingOpen?r("TheSettings",{key:"header-setting"}):e._e(),e._v(" "),r("div",{key:"content"},[r("TheHeader",{on:{"logo-click":function(t){return e.init(!0)}}}),e._v(" "),e.unload?e._e():r("TheContent"),e._v(" "),r("TheFooter")],1)],1),e._v(" "),r("TheComment"),e._v(" "),r("TheBottomPanel"),e._v(" "),r("ModalNotification"),e._v(" "),r("ModalHelp"),e._v(" "),r("ModalTheme"),e._v(" "),r("ModalPartition"),e._v(" "),r("ModalAuth")],1),e._v(" "),e.isSideHistoryOpen?e._e():r("button",{staticClass:"btn btn-secondary px-0 py-2",attrs:{id:"btn-panel",title:"Latest history"},on:{click:function(t){return t.preventDefault(),e.openPanel(t)}}},[r("i",{staticClass:"fa fa-fw fa-caret-right text-primary"})]),e._v(" "),r("TheSideHistory")],1)},staticRenderFns:[]};var ue=a("VU/8")(ce,le,!1,function(t){a("2xrz")},"data-v-19963163",null).exports,de=a("gyMJ"),me={name:"ShowView",components:{ResultTable:ft,Pivot:Ct.a},mixins:[A.a,gt,yt],data:function(){return{sitename:H.h,version:H.j,publishId:"",datasource:"",engine:"",queryid:"",line:0,chart:0,pivot:0,loading:!0,response:null,error:null,chartTypes:H.b,chartOptions:H.a,isQueryCollapse:!1,visibleComment:!1,isPretty:!1}},computed:{disabledDownload:function(){return Object.isEmpty(this.response)||!this.publishId||this.loading}},created:function(){var t=this,e=location.search.remove("?").split("&"),a="",r=0,s=0,n=!0,o=!1,c=void 0;try{for(var l,u=i()(e);!(n=(l=u.next()).done);n=!0){var d=l.value;/^[a-z0-9]{32}$/.test(d)?a=d:1===d.length?r=Number(d):"pivot"===d&&(s=1)}}catch(t){o=!0,c=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw c}}var m=Number(location.hash.remove("#L"))||0;a&&(this.publishId=a,document.title="#"+a+" - "+H.h,de.K(a).then(function(e){t.datasource=e.datasource,t.engine=e.engine,t.queryid=e.queryid,t.response=e,t.line=m,t.chart=r,t.pivot=s,t.loading=!1,t.visibleComment=null!=e.comment,t.$store.commit("loadComplete")}).catch(function(e){t.error=e}))},mounted:function(){E()("body").tooltip({selector:'[data-toggle="tooltip"]'})}},he={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("header",{staticStyle:{background:"#333"},attrs:{id:"header"}},[a("div",{attrs:{id:"header-main"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"py-2",attrs:{id:"header-upper"}},[a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"col-6"},[a("h1",{attrs:{id:"logo"}},[a("a",{attrs:{href:t.buildTopUrl()}},[a("span",{staticClass:"mr-2",attrs:{id:"logo-figure"}}),t._v(t._s(t.sitename))]),a("span",{staticClass:"ml-2 font-weight-normal"},[t._v(t._s(t.version))])])]),t._v(" "),a("div",{staticClass:"col-6 text-right"},[t._v("\n              Readonly\n            ")])])])])]),t._v(" "),a("div",{attrs:{id:"header-sub"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"row align-items-center pt-3"},[a("div",{staticClass:"col-8"},[t.loading?[a("strong",[t._v("Loading")])]:[t.response&&t.response.error||t.error?a("span",{staticClass:"mr-3"},[t._m(0)]):t.response&&t.response.results?a("span"):a("span",[a("strong",[t._v("No result")])]),t._v(" "),t.response&&t.response.lineNumber?a("span",{staticClass:"mr-3"},[a("i",{staticClass:"fas fa-file-alt",attrs:{title:"Publish ID","data-toggle":"tooltip","data-placement":"left"}}),t._v(" "),a("strong",[t._v(t._s(t.publishId))])]):t._e(),t._v(" "),t.response&&t.response.queryid?a("span",{staticClass:"mr-3"},[a("a",{attrs:{href:t.buildShareUrl(t.datasource,t.engine,t.queryid,t.chart,t.pivot,t.line)}},[t._v(t._s(t.queryid))])]):t._e(),t._v(" "),t.response&&t.response.finishedTime?a("span",{staticClass:"mr-2"},[a("i",{staticClass:"fa fa-calendar",attrs:{title:"Finished time","data-toggle":"tooltip","data-animation":"false","data-placement":"left"}}),t._v("\n                "+t._s(t._f("extractDate")(t.response.finishedTime))+"\n              ")]):t._e(),t._v(" "),t.response&&t.response.elapsedTimeMillis?a("span",{staticClass:"mr-2 d-md-none d-lg-inline"},[a("strong",[t._v(t._s((t.response.elapsedTimeMillis/1e3).ceil(2)))]),a("span",{staticClass:"text-muted ml-1"},[t._v("sec")])]):t._e(),t._v(" "),t.response&&t.response.rawDataSize?a("span",{staticClass:"mr-2 d-md-none d-lg-inline"},[a("strong",[t._v(t._s(t.response.rawDataSize.remove("B")))]),a("span",{staticClass:"text-muted ml-1"},[t._v("byte")])]):t._e(),t._v(" "),t.response&&t.response.results&&t.response.lineNumber?a("span",{staticClass:"mr-2"},[a("strong",[t._v(t._s(t._f("formatNumber")(t.response.results.length)))]),t._v(" "),t.response.results.length!==t.response.lineNumber-1?[a("span",{staticClass:"mx-1"},[t._v("/")]),t._v(" "),a("strong",[t._v(t._s(t._f("formatNumber")(t.response.lineNumber-1)))])]:t._e(),t._v(" "),a("span",{staticClass:"text-muted ml-1"},[t._v("results")])],2):t._e(),t._v(" "),t.response&&t.response.headers?a("span",{staticClass:"mr-2 d-md-none d-lg-inline"},[a("strong",[t._v(t._s(t.response.headers.length))]),a("span",{staticClass:"text-muted ml-1"},[t._v("columns")])]):t._e()]],2),t._v(" "),a("div",{staticClass:"col-4 text-right"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.isPretty,expression:"isPretty"}],staticClass:"align-middle",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isPretty)?t._i(t.isPretty,null)>-1:t.isPretty},on:{change:function(e){var a=t.isPretty,r=e.target,s=!!r.checked;if(Array.isArray(a)){var n=t._i(a,null);r.checked?n<0&&(t.isPretty=a.concat([null])):n>-1&&(t.isPretty=a.slice(0,n).concat(a.slice(n+1)))}else t.isPretty=s}}}),t._v("\n              Pretty print\n            ")]),t._v(" "),t.response&&t.response.rawDataSize?a("div",{staticClass:"btn-group ml-2"},[t._m(1),t._v(" "),a("div",{staticClass:"dropdown-menu dropdown-menu-right"},[a("div",{staticClass:"dropdown-header"},[t._v("header")]),t._v(" "),a("a",{staticClass:"dropdown-item",attrs:{href:t.buildShareDownloadUrl(t.publishId,!1,!0)}},[t._v("TSV")]),t._v(" "),a("a",{staticClass:"dropdown-item",attrs:{href:t.buildShareDownloadUrl(t.publishId,!0,!0)}},[t._v("CSV")]),t._v(" "),a("div",{staticClass:"dropdown-header"},[t._v("no header")]),t._v(" "),a("a",{staticClass:"dropdown-item",attrs:{href:t.buildShareDownloadUrl(t.publishId,!1,!1)}},[t._v("TSV")]),t._v(" "),a("a",{staticClass:"dropdown-item",attrs:{href:t.buildShareDownloadUrl(t.publishId,!0,!1)}},[t._v("CSV")])])]):t._e()])])])])]),t._v(" "),a("div",{attrs:{id:"content"}},[a("div",{staticClass:"container"},[t.loading?[t._m(2)]:[Object.isEmpty(t.response)?t._e():[a("div",{staticClass:"editor p-2 mb-3"},[a("BaseAce",{attrs:{code:t.response.queryString,readonly:!0,"max-lines":t.isQueryCollapse?4:1/0,css_class:"bg-transparent"}}),t._v(" "),t.response.queryString.split("\n").length>4?a("div",{staticClass:"text-right"},[a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.isQueryCollapse=!t.isQueryCollapse}}},[t._v("\n                Show\n                "),t.isQueryCollapse?[t._v("More")]:[t._v("Less")]],2)]):t._e()],1),t._v(" "),t.line?a("div",{staticClass:"alert alert-info"},[a("i",{staticClass:"fa fa-fw fa-check mr-1"}),a("a",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:"#L"+t.line,expression:"`#L${line}`"}],staticClass:"alert-link",attrs:{href:"#"}},[t._v("Line\n            "+t._s(t.line))]),t._v(" is selected\n          ")]):t._e(),t._v(" "),t.enableChart&&t.chart?a("div",{staticClass:"mb-3"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("strong",[t._v(t._s(t.chartTypes[t.chart].name))])]),t._v(" "),a("div",{staticClass:"card-body"},[a("vue-chart",{attrs:{"chart-type":t.chartTypes[t.chart].type,columns:t.chartColumns,rows:t.chartRows,options:Object.assign({},t.chartOptions,t.chartTypes[t.chart].option)}}),t._v(" "),t.response.lineNumber>501?a("div",{staticClass:"text-right text-muted"},[t._v("\n                  This data is only top 500.\n                ")]):t._e()],1)])]):t._e(),t._v(" "),t.enablePivot&&t.pivot?a("div",{staticClass:"mb-3"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("pivot",{attrs:{data:t.pivotRows,fields:[],"row-fields":t.rowFields,"col-fields":t.colFields,reducer:t.reducer,"default-show-settings":!1}}),t._v(" "),t.response.lineNumber>501?a("div",{staticClass:"text-right text-muted"},[t._v("\n                  This data is only top 500.\n                ")]):t._e()],1)])]):t._e(),t._v(" "),a("ResultTable",{attrs:{result:t.response,pretty:t.isPretty,line:t.line,readonly:!0}})]]],2)]),t._v(" "),t._m(3),t._v(" "),t.response&&t.response.comment?a("div",{staticClass:"card",class:{conpact:!t.visibleComment},attrs:{id:"comment"}},[a("div",{staticClass:"card-header"},[a("div",{staticClass:"d-flex justify-content-between align-items-center"},[a("div",[t.visibleComment?[a("i",{staticClass:"fa fa-commenting-o fa-flip-horizontal mr-1"}),t._v("\n            "+t._s(t._f("extractDate")(t.response.comment.updateTimeString))+"\n          ")]:[a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.visibleComment=!0}}},[a("i",{staticClass:"fa fa-commenting fa-flip-horizontal mr-1"}),t._v("\n              "+t._s(t._f("extractDate")(t.response.comment.updateTimeString))+"\n            ")])]],2),t._v(" "),t.visibleComment?a("div",[a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.visibleComment=!1}}},[a("i",{staticClass:"fa fa-fw fa-times"})])]):t._e()])]),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{attrs:{id:"comment-body"}},[t.response.comment.content?[a("pre",{staticClass:"comment"},[a("BaseAutoLink",{attrs:{text:t.response.comment.content.escapeHTML()}})],1)]:[t._m(4)]],2)])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("strong",[e("i",{staticClass:"fa fa-exclamation-triangle text-danger mr-1"}),this._v("Error")])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"btn btn-sm btn-secondary",attrs:{href:"#","data-toggle":"dropdown"}},[e("i",{staticClass:"fa fa-fw fa-download"}),e("span",{staticClass:"d-md-none d-lg-inline ml-1"},[this._v("Download")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"alert alert-info",attrs:{role:"alert"}},[e("i",{staticClass:"fa fa-fw fa-spinner fa-pulse mr-1"}),this._v("Loading\n        ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("footer",{staticClass:"py-3",attrs:{id:"footer"}},[e("address",{staticClass:"text-center"},[e("span",[e("strong",[this._v("Â© yanagishima")]),this._v(" by wyukawa and okazou")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("span",{staticClass:"text-muted"},[this._v("(none)")])])}]};var fe=a("VU/8")(me,he,!1,function(t){a("P7r5")},"data-v-00d95a1b",null).exports,pe={name:"ErrorView",data:function(){return{sitename:H.h,version:H.j,statusCode:""}},created:function(){this.statusCode=location.search.remove("?")||"Error",document.title="{1} - {0}".format(this.sitename,this.statusCode),this.$store.commit("loadComplete")},mounted:function(){document.body.setAttribute("id","error")}},ve={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",{attrs:{id:"logo"}},[a("span",{staticClass:"mr-2",attrs:{id:"logo-figure"}}),t._v(t._s(t.sitename)),a("span",{staticClass:"ml-2 font-weight-normal"},[t._v(t._s(t.version))])]),t._v(" "),a("div",{staticClass:"text-center",attrs:{id:"box"}},[t._v("\n    "+t._s(t.statusCode)+"\n  ")])])},staticRenderFns:[]};var be=a("VU/8")(pe,ve,!1,function(t){a("CJen")},"data-v-020f1eed",null).exports;h.a.use(y.a);var _e=new y.a({mode:"history",routes:[{path:"/diff",component:function(){return a.e(1).then(a.bind(null,"S+je"))}},{path:"/share",component:fe},{path:"/error",component:be},{path:"/",component:ue}]});function ge(t,e){var a=localStorage.getItem(t);return null===a&&void 0!==e?e:a}function ye(t,e){var a=localStorage.getItem(t);return null===a?void 0!==e?e:null:Number(a)}function ke(t,e){var a=localStorage.getItem(t);return null===a?void 0!==e?e:null:!!Number(a)}function Ce(t,e){var a=localStorage.getItem(t);if(!a)return[];var r=a.split(",");return void 0!==e?r.slice(0,e):r}function xe(t,e){localStorage.setItem(t,e)}function we(t,e){localStorage.setItem(t,e?"1":"0")}function Se(t,e){localStorage.setItem(t,lt()(e))}var Ee=void 0,Te={namespaced:!0,state:function(){return{now:"",isOpenQuery:!1,isAdminMode:!1,loading:!1,response:[],error:null}},getters:{},actions:{getQlist:function(t,e){var a=this,r=t.commit,s=t.rootState,n=t.rootGetters,i=e.isAutoQlist;return ot()(rt.a.mark(function t(){var e,o,c,l,u,d,m;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=s.hash.datasource,o=n.isPresto,c=n.isHive,l=n.isSpark,u=n.isElasticsearch,d=n.authInfo,i=i||!1,r("refreshNow"),i||r("setLoading",{data:!0}),t.prev=5,m=void 0,!o){t.next=13;break}return t.next=10,de.A(e,d);case 10:m=t.sent,t.next=31;break;case 13:if(!c){t.next=19;break}return t.next=16,de.z(e);case 16:m=t.sent,t.next=31;break;case 19:if(!l){t.next=25;break}return t.next=22,de.B(e);case 22:m=t.sent,t.next=31;break;case 25:if(!u){t.next=30;break}return r("setLoading",{data:!1}),t.abrupt("return");case 30:throw new Error("not supported");case 31:m.error?r("setError",{data:m.error}):r("setResponse",{data:m}),t.next=36;break;case 34:t.prev=34,t.t0=t.catch(5);case 36:r("setLoading",{data:!1});case 37:case"end":return t.stop()}},t,a,[[5,34]])}))()},autoQlist:function(t,e){var a=this,r=t.dispatch,s=t.rootState,n=t.rootGetters,i=e.enable;return ot()(rt.a.mark(function t(){var e,o,c,l;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=n.isPresto,o=1,c=e?1e3:1e4,i=i||!1,clearInterval(Ee),r("getQlist",{isAutoQlist:!1}),l=o,i&&(Ee=setInterval(function(){var t=s.isModal,e=s.hash.tab;0===--l&&("qlist"!==e||t||r("getQlist",{isAutoQlist:!0}),l=o)},c));case 8:case"end":return t.stop()}},t,a)}))()}},mutations:{init:function(t){t.response=[],t.error=null},refreshNow:function(t){t.now=Date.create().format("{yyyy}/{M}/{d} {24hr}:{mm}:{ss}")},setLoading:function(t,e){var a=e.data;t.loading=a},setResponse:function(t,e){var a=e.data;t.response=a},setError:function(t,e){var a=e.data;t.error=a},setIsOpenQuery:function(t,e){var a=e.data;t.isOpenQuery=a,we("openQuery",t.isOpenQuery)},setIsAdminMode:function(t,e){var a=e.data;t.isAdminMode=a,we("adminMode",t.isAdminMode)},loadLocalStorage:function(t){t.isOpenQuery=ke("openQuery",!1),t.isAdminMode=ke("adminMode",!1)}}};function Ie(t){return"histories_"+t}var Le={namespaced:!0,state:function(){return{historyIds:[],filter:"",limit:100,loading:!1,response:null,panelQueryid:null,panelResult:null,label:null}},getters:{hasMore:function(t){return!!t.response&&t.response.hit>t.limit}},actions:{getHistories:function(t,e){var a=this,r=t.commit,s=t.state,n=t.rootState,i=e.isMore;return ot()(rt.a.mark(function t(){var e,o,c,l,u,d;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.hash,o=e.datasource,c=e.engine,l=n.settings.isLocalStorage,i=i||!1,!l||0!==s.historyIds.length){t.next=6;break}return r("setResponse",{data:null}),t.abrupt("return",!1);case 6:if(i||r("setLoading",{data:!0}),u=void 0,t.prev=8,!l){t.next=15;break}return t.next=12,de.Y(o,s.historyIds,s.label||"");case 12:u=t.sent,t.next=19;break;case 15:return r("setLimit",{data:i?1024:100}),t.next=18,de.Z(o,c,s.filter,0,s.limit,s.label);case 18:u=t.sent;case 19:t.next=25;break;case 21:throw t.prev=21,t.t0=t.catch(8),r("setLoading",{data:!1}),t.t0;case 25:(d=u.results)&&(d=d.sortBy(function(t){return t[0]},!0)),r("setResponse",{data:_t()({},u,{results:d})}),r("setLoading",{data:!1});case 29:case"end":return t.stop()}},t,a,[[8,21]])}))()},loadPanelQuery:function(t,e){var a=this,r=t.commit,s=t.rootState,n=e.queryid;return ot()(rt.a.mark(function t(){var e,i,o,c;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=s.hash,i=e.datasource,o=e.engine,n){t.next=3;break}return t.abrupt("return",!1);case 3:return r("setPanelQueryid",{data:n}),r("setPanelResult",{data:null}),t.next=7,de.C(i,o,n);case 7:c=t.sent,Object.isEmpty(c)||r("setPanelResult",{data:c});case 9:case"end":return t.stop()}},t,a)}))()},importHistory:function(t,e){var a=this,r=t.commit,s=t.dispatch,n=t.rootState;e.data;return ot()(rt.a.mark(function t(){var e;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=n.hash.datasource,r("overwriteLocalStorage",{datasource:e}),s("getHistories",{isMore:!1});case 3:case"end":return t.stop()}},t,a)}))()},deleteAllLocalHistory:function(t){var e=this,a=t.commit,r=t.dispatch,s=t.rootState;return ot()(rt.a.mark(function t(){var n;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=s.hash.datasource,a("deleteLocalStorage",{datasource:n}),r("getHistories",{isMore:!1});case 3:case"end":return t.stop()}},t,e)}))()}},mutations:{init:function(t){t.filter="",t.limit=100,t.response=null,t.panelQueryid=null,t.panelResult=null,t.label=null},setHistoryId:function(t,e){var a=e.datasource,r=e.historyId;t.historyIds=t.historyIds.add(r,0).unique(),xe(Ie(a),t.historyIds)},setFilter:function(t,e){var a=e.data;t.filter=a},setLimit:function(t,e){var a=e.data;t.limit=a},setLoading:function(t,e){var a=e.data;t.loading=a},setResponse:function(t,e){var a=e.data;t.response=a},setPanelQueryid:function(t,e){var a=e.data;t.panelQueryid=a},setPanelResult:function(t,e){var a=e.data;t.panelResult=a},loadLocalStorage:function(t,e){var a=e.datasource,r=e.max;r=r||1024,t.historyIds=Ce(Ie(a),r)},overwriteLocalStorage:function(t,e){var a=e.datasource,r=e.historyStr;t.historyIds=r.split(","),xe(Ie(a),t.historyIds)},deleteLocalStorage:function(t,e){var a=e.datasource;t.historyIds=[],xe(Ie(a),[])},setLabel:function(t,e){var a=e.data;t.label=a}}};function Pe(t){return"bookmarks_"+t}var Ae={namespaced:!0,state:function(){return{bookmarks:[],loading:!1,response:[],addedBookmarkId:null}},getters:{},actions:{getBookmarks:function(t){var e=this,a=t.state,r=t.commit,s=t.rootState;return ot()(rt.a.mark(function t(){var n,i,o,c,l,u;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=s.settings.isLocalStorage,i=s.hash,o=i.datasource,c=i.engine,!n||0!==a.bookmarks.length){t.next=5;break}return r("setResponse",{data:[]}),t.abrupt("return",!1);case 5:if(o&&c){t.next=7;break}return t.abrupt("return",!1);case 7:if(r("setLoading",{data:!0}),t.prev=8,l=void 0,!n){t.next=16;break}return t.next=13,de.l(o,c,a.bookmarks);case 13:l=t.sent,t.next=19;break;case 16:return t.next=18,de.m(o,c);case 18:l=t.sent;case 19:l.bookmarkList&&(u=l.bookmarkList.filter(function(t){return t.engine===c}).sortBy(function(t){return t.bookmark_id},!0),r("setResponse",{data:u})),t.next=24;break;case 22:t.prev=22,t.t0=t.catch(8);case 24:r("setLoading",{data:!1});case 25:case"end":return t.stop()}},t,e,[[8,22]])}))()},getBookmark:function(t,e){var a=this,r=(t.state,t.commit),s=t.rootState,n=e.bookmarkId;return ot()(rt.a.mark(function t(){var e,i,o,c;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=s.hash,i=e.datasource,o=e.engine,t.next=3,de.l(i,o,[n]);case 3:(c=t.sent).bookmarkList&&c.bookmarkList.length&&r("editor/setInputQuery",{data:c.bookmarkList[0].query},{root:!0});case 5:case"end":return t.stop()}},t,a)}))()},addBookmarkItem:function(t){var e=this,a=(t.state,t.commit),r=t.dispatch,s=t.rootState;return ot()(rt.a.mark(function t(){var n,i,o,c,l,u,d,m;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=s.hash,i=n.datasource,o=n.engine,c=s.editor.inputQuery,l=Date.create().format("{yyyy}/{MM}/{dd} {24hr}:{mm}:{ss}"),null!==(u=prompt("Input bookmark title.",l))){t.next=6;break}return t.abrupt("return",!1);case 6:return t.prev=6,t.next=9,de.a(i,o,u||l,c);case 9:d=t.sent,m=d.bookmark_id,a("setBookmarkItem",{datasource:i,bookmarkId:m}),r("getBookmarks"),a("result/reset",{},{root:!0}),a("setHashItem",{queryid:"",bookmark_id:m,tab:"bookmark"},{root:!0}),t.next=19;break;case 17:t.prev=17,t.t0=t.catch(6);case 19:case"end":return t.stop()}},t,e,[[6,17]])}))()},deleteBookmarkItem:function(t,e){var a=this,r=(t.state,t.commit),s=t.dispatch,n=t.rootState,i=e.bookmarkId;return ot()(rt.a.mark(function t(){var e,o,c;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.hash,o=e.datasource,c=e.engine,r("deleteBookmark",{datasource:o,bookmarkId:i}),t.next=4,de.g(o,c,i);case 4:s("getBookmarks");case 5:case"end":return t.stop()}},t,a)}))()},importBookmarks:function(t,e){var a=this,r=t.commit,s=t.dispatch,n=t.rootState,i=e.data;return ot()(rt.a.mark(function t(){var e;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.hash.datasource,r("overwriteLocalStorage",{datasource:e,bookmarksStr:i}),t.next=4,s("getBookmarks");case 4:case"end":return t.stop()}},t,a)}))()},deleteAllLocalBookmarks:function(t){var e=this,a=t.commit,r=t.dispatch,s=t.rootState;return ot()(rt.a.mark(function t(){var n;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=s.hash.datasource,a("deleteLocalStorage",{datasource:n}),t.next=4,r("getBookmarks");case 4:case"end":return t.stop()}},t,e)}))()}},mutations:{init:function(t){t.response=[],t.addedBookmarkId=null},setBookmarkItem:function(t,e){var a=e.datasource,r=e.bookmarkId;t.addedBookmarkId=r,t.bookmarks=t.bookmarks.add(r,0).unique(),xe(Pe(a),t.bookmarks)},deleteBookmark:function(t,e){var a=e.datasource,r=e.bookmarkId;t.bookmarks.remove(r),xe(Pe(a),t.bookmarks)},setLoading:function(t,e){var a=e.data;t.loading=a},setResponse:function(t,e){var a=e.data;t.response=a},loadLocalStorage:function(t,e){var a=e.datasource,r=e.max;r=r||100,t.bookmarks=function(t,e){return Ce(t,e).map(Number)}(Pe(a),r)},overwriteLocalStorage:function(t,e){var a=e.datasource,r=e.bookmarksStr;t.bookmarks=r.split(",").map(Number),xe(Pe(a),t.bookmarks)},deleteLocalStorage:function(t,e){var a=e.datasource;t.bookmarks=[],xe(Pe(a),[])},resetAddedBookmarkId:function(t){t.addedBookmarkId=null}}},Qe=a("Q+y4"),Re=a.n(Qe),Me=a("0xDb"),De="auth may have expired. Please reload.";function He(t,e){var a=t?"Done (Click here)":"Error",r={body:e.compact().truncate(64),icon:"favicon.ico",timeout:36e5};t&&(r.onClick=function(){window.focus(),this.close()}),"visible"!==document.visibilityState&&Re.a.create(a,r)}var $e={namespaced:!0,state:function(){return{isPretty:!1,runningQueryid:null,runningProgress:-1,runningTime:"",runningQueries:0,queryString:"",loading:!1,error:null,response:null,comment:{edit:!0,update:null,user:null,content:null,like:0},inputComment:"",visibleComment:!1,inputLable:null,label:null,editLabel:!1}},getters:{},actions:{runQuery:function(t,e){var a=this,r=t.commit,s=t.dispatch,n=(t.state,t.getters,t.rootState),i=t.rootGetters;return ot()(rt.a.mark(function t(){var o,c,l,u,d,m,h,f,p,v,b,_,g,y;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.hash,c=o.datasource,l=o.engine,u=i.authInfo,d=i.isPresto,m=i.isHive,h=i.isSpark,f=i.isElasticsearch,p=e&&e.query?e.query:n.editor.inputQuery,v=!(!e||!e.translateFlag)&&e.translateFlag,b=n.settings.desktopNotification,r("initComment"),r("setHashItem",{queryid:"",chart:0,pivot:0,line:0},{root:!0}),r("incrementRunningQueries"),r("setLoading",{data:!0}),r("setError",{data:null}),_=null,t.prev=11,g=void 0,!d){t.next=19;break}return t.next=16,de._2(c,p,u);case 16:g=t.sent,t.next=44;break;case 19:if(!m){t.next=25;break}return t.next=22,de._1(c,p,u);case 22:g=t.sent,t.next=44;break;case 25:if(!h){t.next=31;break}return t.next=28,de._3(c,p,u);case 28:g=t.sent,t.next=44;break;case 31:if(!f){t.next=43;break}if(!v){t.next=38;break}return t.next=35,de._8(c,p,u);case 35:g=t.sent,t.next=41;break;case 38:return t.next=40,de._0(c,p,u);case 40:g=t.sent;case 41:t.next=44;break;case 43:throw new Error("not supported");case 44:if(!(y=g.queryid)){t.next=61;break}return t.prev=46,t.next=49,s("waitQueryComplete",{datasource:c,queryid:y,isPresto:d,isHive:m,isSpark:h,isElasticsearch:f});case 49:return t.next=51,s("waitHistoryComplete",{datasource:c,engine:l,queryid:y});case 51:r("setHashItem",{queryid:y,engine:g.engine},{root:!0}),b&&He(!0,p),t.next=59;break;case 55:t.prev=55,t.t0=t.catch(46),_=t.t0||De,b&&He(!1,p);case 59:t.next=62;break;case 61:_=g.error;case 62:t.next=67;break;case 64:t.prev=64,t.t1=t.catch(11),_=t.t1||De;case 67:r("decrementRunningQueries"),r("setError",{data:_}),_&&r("setLoading",{data:!1});case 70:case"end":return t.stop()}},t,a,[[11,64],[46,55]])}))()},waitQueryComplete:function(t,e){var a=this,r=t.commit,s=t.rootGetters,n=e.datasource,i=e.queryid,o=e.isPresto,c=e.isHive,l=e.isSpark,u=e.isElasticsearch;return ot()(rt.a.mark(function t(){var e,d,m,h;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=s.authInfo,d=s.authUserInfo,m=o||u?500:5e3,r("setRunningQueryId",{data:i}),r("setRunningProgress",{data:-1}),r("setRunningTime",{data:""}),h=void 0,t.abrupt("return",new nt.a(function(t,s){h=setInterval(ot()(rt.a.mark(function m(){var h,f,p;return rt.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,h=void 0,!o){a.next=8;break}return a.next=5,de.F(n,i,e);case 5:h=a.sent,a.next=27;break;case 8:if(!c){a.next=14;break}return a.next=11,de.E(n,i,d);case 11:h=a.sent,a.next=27;break;case 14:if(!l){a.next=20;break}return a.next=17,de.G(n,i,d);case 17:h=a.sent,a.next=27;break;case 20:if(!u){a.next=26;break}return a.next=23,de.D(n,i,d);case 23:h=a.sent,a.next=27;break;case 26:throw new Error("not supported");case 27:if("FINISHED"!==(f=h.state)&&"FAILED"!==f&&"KILLED"!==f&&!Object.isEmpty(h)){a.next=32;break}t(h),a.next=50;break;case 32:if("RUNNING"!==f){a.next=50;break}if(!o){a.next=39;break}p=h.queryStats,r("setRunningProgress",{data:Object(Me.a)(p,1)}),r("setRunningTime",{data:p.elapsedTime}),a.next=50;break;case 39:if(!c&&!l){a.next=44;break}r("setRunningProgress",{data:h.progress}),r("setRunningTime",{data:(h.elapsedTime/1e3).ceil(1)+"s"}),a.next=50;break;case 44:if(!u){a.next=49;break}r("setRunningProgress",{data:0}),r("setRunningTime",{data:0}),a.next=50;break;case 49:throw new Error("not supported");case 50:a.next=55;break;case 52:a.prev=52,a.t0=a.catch(0),s(a.t0);case 55:case"end":return a.stop()}},m,a,[[0,52]])})),m)}).then(function(t){clearInterval(h),r("setRunningQueryId",{data:""}),r("setRunningProgress",{data:0}),r("setRunningTime",{data:""});var e=t.state;return"FINISHED"===e||Object.isEmpty(t)?r("history/setHistoryId",{datasource:n,historyId:i},{root:!0}):"FAILED"!==e&&"KILLED"!==e||o&&t.failureInfo.errorLocation&&(r("editor/setGotoLine",{line:t.failureInfo.errorLocation.lineNumber},{root:!0}),r("editor/setError",{line:t.failureInfo.errorLocation.lineNumber-1,text:t.failureInfo.message},{root:!0})),t}).catch(function(){clearInterval(h)}));case 7:case"end":return t.stop()}},t,a)}))()},waitHistoryComplete:function(t,e){var a=this,r=e.datasource,s=e.engine,n=e.queryid;return ot()(rt.a.mark(function t(){var e;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=void 0,t.abrupt("return",new nt.a(function(t,i){e=setInterval(ot()(rt.a.mark(function e(){var o;return rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de.u(r,s,n);case 3:if(!(o=e.sent).error){e.next=7;break}return i(o.error),e.abrupt("return");case 7:"ok"===o.status&&t(o),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),i(e.t0);case 13:case"end":return e.stop()}},e,a,[[0,10]])})),1e3)}).then(function(t){return clearInterval(e),t}).catch(function(){clearInterval(e)}));case 2:case"end":return t.stop()}},t,a)}))()},loadQuery:function(t){var e=this,a=t.commit,r=t.dispatch,s=t.rootState;return ot()(rt.a.mark(function t(){var n,i,o,c,l;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=s.hash,i=n.datasource,o=n.engine,c=n.queryid,i&&o&&c){t.next=3;break}return t.abrupt("return",!1);case 3:return r("getComment"),r("getLabel"),a("setLoading",{data:!0}),a("setError",{data:null}),a("setHashItem",{bookmark_id:""},{root:!0}),t.prev=8,t.next=11,de.C(i,o,c);case 11:l=t.sent,!Object.isEmpty(l)&&l.queryString?(a("setQueryString",{data:l.queryString}),a("editor/setInputQuery",{data:l.queryString.remove(/^EXPLAIN( \(TYPE DISTRIBUTED\)| \(TYPE VALIDATE\)| \(FORMAT GRAPHVIZ\)| ANALYZE|) /i)},{root:!0}),a("setEditLabel",{data:l.editLabel}),l.error&&a("setError",{data:l.error}),l.results&&/^show partitions /i.test(l.queryString)&&l.results.sortBy(function(t){return t[0]},!0),a("setResponse",{data:l})):a("setQueryString",{data:""}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(8),a("setError",{data:t.t0||De});case 18:a("setLoading",{data:!1});case 19:case"end":return t.stop()}},t,e,[[8,15]])}))()},killQuery:function(t,e){var a=this,r=t.rootState,s=t.rootGetters,n=e.queryid;return ot()(rt.a.mark(function t(){var e,i,o,c,l,u;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.hash.datasource,i=s.isPresto,o=s.isHive,c=s.isSpark,l=s.authInfo,u=s.authUserInfo,!i){t.next=6;break}return t.abrupt("return",de.S(e,n,l));case 6:if(!o&&!c){t.next=10;break}return t.abrupt("return",de.R(e,n,u));case 10:throw new Error("not supported");case 11:case"end":return t.stop()}},t,a)}))()},getComment:function(t){var e=this,a=t.commit,r=t.rootState;return ot()(rt.a.mark(function t(){var s,n,i,o,c,l;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=r.hash,n=s.datasource,i=s.engine,o=s.queryid,n&&i&&o){t.next=3;break}return t.abrupt("return",!1);case 3:return a("initComment"),t.next=6,de.s(n,i,o);case 6:(c=t.sent).comments&&c.comments.length&&(l=c.comments[0],a("setComment",{edit:!1,update:l.updateTimeString,user:l.user,content:l.content,like:l.likeCount}),a("setInputComment",{data:l.content}),a("setVisibleComment",{data:!0}));case 8:case"end":return t.stop()}},t,e)}))()},postComment:function(t){var e=this,a=t.commit,r=t.state,s=t.rootState;return ot()(rt.a.mark(function t(){var n,i,o,c,l;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=s.hash,i=n.datasource,o=n.engine,c=n.queryid){t.next=3;break}return t.abrupt("return",!1);case 3:return t.next=5,de.T(i,o,c,r.inputComment);case 5:(l=t.sent).updateTimeString&&a("setComment",{edit:!1,update:l.updateTimeString,user:l.user,content:l.content,like:l.likeCount});case 7:case"end":return t.stop()}},t,e)}))()},postCommentLike:function(t){var e=this,a=t.commit,r=t.state,s=t.rootState;return ot()(rt.a.mark(function t(){var n,i,o,c;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=s.hash,i=n.datasource,o=n.engine,c=n.queryid){t.next=3;break}return t.abrupt("return",!1);case 3:return a("setComment",{like:r.comment.like+1}),t.next=6,de.U(i,o,c,1);case 6:case"end":return t.stop()}},t,e)}))()},deleteComment:function(t){var e=this,a=t.commit,r=t.rootState;return ot()(rt.a.mark(function t(){var s,n,i,o;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=r.hash,n=s.datasource,i=s.engine,o=s.queryid){t.next=3;break}return t.abrupt("return",!1);case 3:return t.next=5,de.h(n,i,o);case 5:a("initComment");case 6:case"end":return t.stop()}},t,e)}))()},postLabel:function(t,e){var a=this,r=t.commit,s=(t.state,t.rootState),n=e.inputLabel;return ot()(rt.a.mark(function t(){var e,i,o,c,l;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=s.hash,i=e.datasource,o=e.engine,c=e.queryid,i&&o&&c){t.next=3;break}return t.abrupt("return",!1);case 3:return t.next=5,de.V(i,o,c,n);case 5:(l=t.sent).labelName&&r("setLabel",{data:l.labelName});case 7:case"end":return t.stop()}},t,a)}))()},deleteLabel:function(t){var e=this,a=t.commit,r=t.rootState;return ot()(rt.a.mark(function t(){var s,n,i,o;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=r.hash,n=s.datasource,i=s.engine,o=s.queryid,n&&i&&o){t.next=3;break}return t.abrupt("return",!1);case 3:return t.next=5,de.i(n,i,o);case 5:a("setLabel",{data:null});case 6:case"end":return t.stop()}},t,e)}))()},getLabel:function(t){var e=this,a=t.commit,r=t.rootState;return ot()(rt.a.mark(function t(){var s,n,i,o,c;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=r.hash,n=s.datasource,i=s.engine,o=s.queryid,n&&i&&o){t.next=3;break}return t.abrupt("return",!1);case 3:return a("initLabel"),t.next=6,de.v(n,i,o);case 6:(c=t.sent).label&&a("setLabel",{data:c.label});case 8:case"end":return t.stop()}},t,e)}))()},publish:function(t){var e=this,a=t.rootState;return ot()(rt.a.mark(function t(){var r,s,n,i,o;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.hash,s=r.datasource,n=r.engine,i=r.queryid,t.next=3,de.X(s,n,i);case 3:return o=t.sent,t.abrupt("return",o.publish_id);case 5:case"end":return t.stop()}},t,e)}))()}},mutations:{init:function(t){t.runningQueryid=null,t.runningQueries=0,t.queryString="",t.response=null},setIsPretty:function(t,e){var a=e.data;t.isPretty=a},setRunningQueryId:function(t,e){var a=e.data;t.runningQueryid=a},setRunningProgress:function(t,e){var a=e.data;t.runningProgress=a},setRunningTime:function(t,e){var a=e.data;t.runningTime=a},setQueryString:function(t,e){var a=e.data;t.queryString=a},setResponse:function(t,e){var a=e.data;t.response=a},incrementRunningQueries:function(t){t.runningQueries++},decrementRunningQueries:function(t){t.runningQueries--},setLoading:function(t,e){var a=e.data;t.loading=a},setError:function(t,e){var a=e.data;t.error=a},initComment:function(t){t.comment={edit:!0,update:null,user:null,content:null,like:0},t.inputComment="",t.visibleComment=!1},setComment:function(t,e){t.comment=_t()({},t.comment,e)},setInputComment:function(t,e){var a=e.data;t.inputComment=a},setVisibleComment:function(t,e){var a=e.data;t.visibleComment=a},initLabel:function(t){t.label=null,t.editLabel=!1},setLabel:function(t,e){var a=e.data;t.label=a},setEditLabel:function(t,e){var a=e.data;t.editLabel=a},reset:function(t){t.queryString="",t.response=null}}},qe=a("fZjL"),Oe=a.n(qe),Ne={namespaced:!0,state:function(){return{catalogs:[],schemata:[],starredSchemata:[],tables:[],catalog:"",schema:"",table:"",note:"",meta:"",tableType:"",columns:[],partitionValues:{},selectedPartitions:{},tableQuery:"",filterSchema:"",filterTable:"",loadingPartitions:!1,loadingTableSearch:!1,tableSearchResponse:[]}},getters:{dateColumn:function(t){return t.columns.slice().reverse().map(function(t){return t[0]}).find(function(t){return H.d.includes(t)})||""},allColumns:function(t){return t.columns.map(function(t){return t[0]})},partitionKeys:function(t){return t.columns.filter(function(t){return"partition key"===t[2]}).map(function(t){return t[0]})},partitionKeysTypes:function(t){return t.columns.filter(function(t){return"partition key"===t[2]}).map(function(t){return t[1]})},columnTypesMap:function(t){return t.columns.reduce(function(t,e){return _t()(t,P()({},e[0],e[1]))},{})}},actions:{getRoot:function(t){var e=this,a=t.dispatch,r=t.state,s=t.rootGetters;return ot()(rt.a.mark(function t(){var n,i,o,c,l;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=s.isPresto,i=s.isElasticsearch,o=r.catalog,c=r.schema,l=r.table,!i){t.next=5;break}return a("getTables"),t.abrupt("return");case 5:n&&!o?a("getCatalogs"):c?l||a("getTables"):a("getSchemata");case 6:case"end":return t.stop()}},t,e)}))()},getCatalogs:function(t){var e=this,a=t.commit,r=(t.dispatch,t.state),s=t.rootState,n=t.rootGetters;return ot()(rt.a.mark(function t(){var i,o,c;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=s.hash.datasource,o=n.authInfo,n.isPresto){t.next=4;break}throw Error("getCatalogs are not supported except for presto");case 4:return t.next=6,de.n(i,o);case 6:(c=t.sent).results&&c.results.length?(a("setCatalogs",{data:c.results.map(function(t){return t[0]})}),a("setCatalog",{data:r.catalogs[0]})):(a("setCatalogs",{data:[]}),c.error&&m.a.error(c.error));case 8:case"end":return t.stop()}},t,e)}))()},getSchemata:function(t){var e=this,a=t.commit,r=t.dispatch,s=t.state,n=t.rootState,i=t.rootGetters;return ot()(rt.a.mark(function t(){var o,l,u,d,h,f,p,v,b,_,g,y;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.hash.datasource,l=i.authInfo,u=i.isPresto,d=i.isHive,h=i.isSpark,f=s.catalog,p=void 0,!u){t.next=8;break}p=de.I(o,f,l),t.next=17;break;case 8:if(!d){t.next=12;break}p=de.H(o,l),t.next=17;break;case 12:if(!h){t.next=16;break}p=de.J(o,l),t.next=17;break;case 16:throw new Error("not supported");case 17:return v=r("getStarredSchemata"),t.next=20,nt.a.all([p,v]);case 20:b=t.sent,_=c()(b,1),(g=_[0]).results&&g.results.length?(a("setSchemata",{data:g.results.map(function(t){return t[0]})}),y=s.schemata[0],s.starredSchemata.length&&(y=s.starredSchemata.map(function(t){return t.schema}).sort()[0]),a("setSchema",{data:y})):(a("setSchemata",{data:[]}),g.error&&m.a.error(g.error));case 24:case"end":return t.stop()}},t,e)}))()},getStarredSchemata:function(t){var e=this,a=t.commit,r=t.state,s=t.rootState;return ot()(rt.a.mark(function t(){var n,i,o,c,l;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=s.hash,i=n.datasource,o=n.engine,c=r.catalog,t.next=4,de.L(i,o,c);case 4:l=t.sent,a("setStarredSchemata",{data:l.starredSchemaList});case 6:case"end":return t.stop()}},t,e)}))()},postStarredSchema:function(t,e){var a=this,r=t.dispatch,s=t.state,n=t.rootState,i=e.schema;return ot()(rt.a.mark(function t(){var e,o,c,l;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.hash,o=e.datasource,c=e.engine,l=s.catalog,t.next=4,de.W(o,c,l,i);case 4:return t.abrupt("return",r("getStarredSchemata"));case 5:case"end":return t.stop()}},t,a)}))()},deleteStarredSchema:function(t,e){var a=this,r=t.dispatch,s=t.state,n=t.rootState,i=e.id;return ot()(rt.a.mark(function t(){var e,o,c,l;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.hash,o=e.datasource,c=e.engine,l=s.catalog,t.next=4,de.j(o,c,l,i);case 4:return t.abrupt("return",r("getStarredSchemata"));case 5:case"end":return t.stop()}},t,a)}))()},getTables:function(t){var e=this,a=t.commit,r=t.state,s=t.rootState,n=t.rootGetters;return ot()(rt.a.mark(function t(){var i,o,c,l,u,d,h,f,p;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=s.hash.datasource,o=n.authInfo,c=n.isPresto,l=n.isHive,u=n.isSpark,d=n.isElasticsearch,h=r.catalog,f=r.schema,p=void 0,!c){t.next=10;break}return t.next=7,de.O(i,h,f,o);case 7:p=t.sent,t.next=29;break;case 10:if(!l){t.next=16;break}return t.next=13,de.N(i,f,o);case 13:p=t.sent,t.next=29;break;case 16:if(!u){t.next=22;break}return t.next=19,de.P(i,f,o);case 19:p=t.sent,t.next=29;break;case 22:if(!d){t.next=28;break}return t.next=25,de.M(i,o);case 25:p=t.sent,t.next=29;break;case 28:throw new Error("not supported");case 29:p.results&&p.results.length?a("setTables",{data:p.results.map(function(t){return[u?t[1]:t[0],c?t[1]:"BASE TABLE"]})}):(a("setTables",{data:[]}),p.error&&m.a.error(p.error));case 30:case"end":return t.stop()}},t,e)}))()},getColumns:function(t){var e=this,a=t.commit,r=t.state,s=t.rootState,n=t.rootGetters;return ot()(rt.a.mark(function t(){var i,o,c,l,u,d,h,f,p,v,b,_,g;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=s.hash.datasource,o=n.authInfo,c=n.isPresto,l=n.isHive,u=n.isSpark,d=n.isElasticsearch,h=r.catalog,f=r.schema,p=r.table,!c||h){t.next=5;break}return t.abrupt("return",!1);case 5:if(d||f){t.next=7;break}return t.abrupt("return",!1);case 7:if(p){t.next=9;break}return t.abrupt("return",!1);case 9:if(v=void 0,!c){t.next=16;break}return t.next=13,de.q(i,h,f,p,o);case 13:v=t.sent,t.next=35;break;case 16:if(!l){t.next=22;break}return t.next=19,de.p(i,f,p,o);case 19:v=t.sent,t.next=35;break;case 22:if(!u){t.next=28;break}return t.next=25,de.r(i,f,p,o);case 25:v=t.sent,t.next=35;break;case 28:if(!d){t.next=34;break}return t.next=31,de.o(i,p,o);case 31:v=t.sent,t.next=35;break;case 34:throw new Error("not supported");case 35:v.results&&v.results.length?(b=v.results,_=v.note,g=v.meta,c||(b=b.filter(function(t){return t[0]&&!t[0].includes("#")}).reduce(function(t,e){var a=t.findIndex(function(t){return t[0]===e[0]});return-1===a?t.push([e[0],e[1],null,null]):t[a][2]="partition key",t},[])),a("setColumns",{columns:b,note:_,meta:g})):(a("setColumns",{data:[]}),v.error&&m.a.error(v.error));case 36:case"end":return t.stop()}},t,e)}))()},getPartitions:function(t){var e=this,a=t.commit,r=t.state,s=t.getters,n=t.rootState,o=t.rootGetters;return ot()(rt.a.mark(function t(){var c,l,u,d,h,f,p,v,b,_,g,y,k,C,x,w,S,E,T,I,L,P,A,Q,R,M,D,H;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=n.hash.datasource,l=o.authInfo,u=o.isPresto,d=o.isHive,h=o.isSpark,f=r.catalog,p=r.schema,v=r.table,b=r.selectedPartitions,_=s.partitionKeys,g=s.columnTypesMap,y={},Oe()(b).length!==Oe()(_).length){t.next=7;break}return t.abrupt("return");case 7:if(k="",Object.isEmpty(b)){t.next=38;break}C=!0,x=!1,w=void 0,t.prev=12,S=i()(_);case 14:if(C=(E=S.next()).done){t.next=24;break}if(T=E.value,!b[T]){t.next=20;break}k=T,t.next=21;break;case 20:return t.abrupt("break",24);case 21:C=!0,t.next=14;break;case 24:t.next=30;break;case 26:t.prev=26,t.t0=t.catch(12),x=!0,w=t.t0;case 30:t.prev=30,t.prev=31,!C&&S.return&&S.return();case 33:if(t.prev=33,!x){t.next=36;break}throw w;case 36:return t.finish(33);case 37:return t.finish(30);case 38:if(a("deletePartitionValues",{keys:_,remainKey:k}),Object.isEmpty(b)){t.next=73;break}I=[],L=[],P=!0,A=!1,Q=void 0,t.prev=45,R=i()(_);case 47:if(P=(M=R.next()).done){t.next=56;break}if(D=M.value,b[D]){t.next=51;break}return t.abrupt("break",56);case 51:I.push(D),L.push(b[D]);case 53:P=!0,t.next=47;break;case 56:t.next=62;break;case 58:t.prev=58,t.t1=t.catch(45),A=!0,Q=t.t1;case 62:t.prev=62,t.prev=63,!P&&R.return&&R.return();case 65:if(t.prev=65,!A){t.next=68;break}throw Q;case 68:return t.finish(65);case 69:return t.finish(62);case 70:y.partitionColumn=I.join(","),y.partitionColumnType=I.map(function(t){return g[t]}).join(","),y.partitionValue=L.join(",");case 73:if(a("setLoadingPartitions",{loading:!0}),H=void 0,!u){t.next=81;break}return t.next=78,de.x(c,f,p,v,y,l);case 78:H=t.sent,t.next=94;break;case 81:if(!d){t.next=87;break}return t.next=84,de.w(c,p,v,y,l);case 84:H=t.sent,t.next=94;break;case 87:if(!h){t.next=93;break}return t.next=90,de.y(c,p,v,y,l);case 90:H=t.sent,t.next=94;break;case 93:throw new Error("not supported");case 94:H.error?m.a.error(H.error):H.column&&H.partitions&&a("setPartitionValues",{keys:_,key:H.column,values:H.partitions}),a("setLoadingPartitions",{loading:!1});case 96:case"end":return t.stop()}},t,e,[[12,26,30,38],[31,,33,37],[45,58,62,70],[63,,65,69]])}))()},searchTable:function(t){var e=this,a=t.commit,r=t.state,s=t.rootState,n=t.rootGetters;return ot()(rt.a.mark(function t(){var i,o,c,l,u;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=s.hash.datasource,o=r.catalog,c=r.tableQuery,l=n.authInfo,a("setTable",{data:["",""]}),a("setTableSearchResponse",{data:[]}),""!==c){t.next=7;break}return t.abrupt("return",!1);case 7:return a("setLoadingTableSearch",{loading:!0}),t.prev=8,t.next=11,de._4(i,o,c,l);case 11:u=t.sent,a("setTableSearchResponse",{data:u.results}),a("setLoadingTableSearch",{loading:!1}),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(8),a("setLoadingTableSearch",{loading:!1});case 19:case"end":return t.stop()}},t,e,[[8,16]])}))()}},mutations:{init:function(t){t.catalogs=[],t.schemata=[],t.tables=[],t.catalog="",t.schema="",t.table="",t.note="",t.meta="",t.tableType="",t.columns=[],t.partitionValues={},t.tableQuery="",t.filterSchema="",t.filterTable="",t.tableSearchResponse=[]},setCatalogs:function(t,e){var a=e.data;t.catalogs=a},setSchemata:function(t,e){var a=e.data;t.schemata=a},setStarredSchemata:function(t,e){var a=e.data;t.starredSchemata=a},setTables:function(t,e){var a=e.data;t.tables=a},setCatalog:function(t,e){var a=e.data;t.catalog=a},setSchema:function(t,e){var a=e.data;t.schema=a},setTable:function(t,e){var a=e.data;t.table=a[0],t.tableType=a[1]},setColumns:function(t,e){var a=e.columns,r=e.note,s=e.meta;t.columns=a,t.note=r,t.meta=s},setPartitionValues:function(t,e){var a=e.keys,r=e.key,s=e.values,n={},o=!0,c=!1,l=void 0;try{for(var u,d=i()(a);!(o=(u=d.next()).done);o=!0){var m=u.value;if(m===r)break;n[m]=t.partitionValues[m]}}catch(t){c=!0,l=t}finally{try{!o&&d.return&&d.return()}finally{if(c)throw l}}n[r]=s,t.partitionValues=n},deletePartitionValues:function(t,e){var a=e.keys,r=e.remainKey;r||(t.partitionValues={});var s={},n=!0,o=!1,c=void 0;try{for(var l,u=i()(a);!(n=(l=u.next()).done);n=!0){var d=l.value;if(s[d]=t.partitionValues[d],d===r)break}}catch(t){o=!0,c=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw c}}t.partitionValues=s},setSelectedPartitions:function(t,e){var a=e.data;t.selectedPartitions=a},setTableQuery:function(t,e){var a=e.data;t.tableQuery=a},setFilterSchema:function(t,e){var a=e.data;t.filterSchema=a},setFilterTable:function(t,e){var a=e.data;t.filterTable=a},setLoadingPartitions:function(t,e){var a=e.loading;t.loadingPartitions=a},setLoadingTableSearch:function(t,e){var a=e.loading;t.loadingTableSearch=a},setTableSearchResponse:function(t,e){var a=e.data;t.tableSearchResponse=a}}},Be={namespaced:!0,state:function(){return{filter:"",loading:!1,response:[]}},getters:{},actions:{getTimeline:function(t){var e=this,a=t.commit,r=t.state,s=t.rootState;return ot()(rt.a.mark(function t(){var n,i,o,c,l;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=s.hash,i=n.datasource,o=n.engine,c=r.filter,a("setLoading",{data:!0}),t.prev=3,t.next=6,de.Q(i,o,c);case 6:return(l=t.sent).comments&&a("setResponse",{data:l.comments}),a("setLoading",{data:!0}),t.abrupt("return",l);case 12:t.prev=12,t.t0=t.catch(3),a("setLoading",{data:!0});case 15:case"end":return t.stop()}},t,e,[[3,12]])}))()}},mutations:{init:function(t){t.filter="",t.response=[]},setFilter:function(t,e){var a=e.data;t.filter=a},setLoading:function(t,e){var a=e.data;t.loading=a},setResponse:function(t,e){var a=e.data;t.response=a}}},Fe={namespaced:!0,state:function(){return{inputQuery:"",gotoLine:0,focus:1,errorLine:-1,errorText:"",completeWords:[]}},getters:{},actions:{formatQuery:function(t){var e=this,a=t.commit,r=t.state;return ot()(rt.a.mark(function t(){var s,n;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(s=r.inputQuery)){t.next=6;break}return t.next=4,de.k(s);case 4:(n=t.sent).formattedQuery?a("setInputQuery",{data:n.formattedQuery}):n.error&&a("setError",{text:n.error,line:n.errorLineNumber-1});case 6:case"end":return t.stop()}},t,e)}))()},validateQuery:function(t){var e=this,a=t.commit,r=t.state,s=t.rootState;return ot()(rt.a.mark(function t(){var n,i,o;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=s.hash.datasource,i=r.inputQuery,t.next=4,de._9(n,i);case 4:(o=t.sent).error?a("setError",{text:o.error,line:o.errorLineNumber?o.errorLineNumber-1:0}):a("setError",{text:"",line:-1});case 6:case"end":return t.stop()}},t,e)}))()},convertQuery:function(t){var e=this,a=t.commit,r=t.state,s=t.rootGetters;return ot()(rt.a.mark(function t(){var n,i,o,c,l;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=s.isPresto,i=s.isHive,!(o=r.inputQuery)){t.next=19;break}if(n||i){t.next=5;break}throw new Error("not supported");case 5:if(c=void 0,!n){t.next=12;break}return t.next=9,de.e(o);case 9:c=t.sent,t.next=16;break;case 12:if(!i){t.next=16;break}return t.next=15,de.f(o);case 15:c=t.sent;case 16:l=void 0,n?l=c.hiveQuery:i&&(l=c.prestoQuery),l?a("setInputQuery",{data:l}):c.error&&a("setError",{text:c.error,line:-1});case 19:case"end":return t.stop()}},t,e)}))()},getCompleteWords:function(t){var e=this,a=t.commit,r=(t.rootState,t.rootGetters);return ot()(rt.a.mark(function t(){var n,o,l,u,d,m,h,f,p,v,b,_,g,y,k,C,x;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.isPresto){t.next=3;break}return t.abrupt("return",!1);case 3:n=_t()({},{table:[]},H.c),o=[],l=!0,u=!1,d=void 0,t.prev=8,m=i()(s()(n));case 10:if(l=(h=m.next()).done){t.next=37;break}for(f=h.value,p=c()(f,2),v=p[0],b=p[1],_=!0,g=!1,y=void 0,t.prev=18,k=i()(b);!(_=(C=k.next()).done);_=!0)x=C.value,"snippet"===v&&(x=x.format({yesterday:Date.create().addDays(-1).format("{yyyy}{MM}{dd}")})),o.push({caption:x.truncate(70,"left"),value:x,meta:v});t.next=26;break;case 22:t.prev=22,t.t0=t.catch(18),g=!0,y=t.t0;case 26:t.prev=26,t.prev=27,!_&&k.return&&k.return();case 29:if(t.prev=29,!g){t.next=32;break}throw y;case 32:return t.finish(29);case 33:return t.finish(26);case 34:l=!0,t.next=10;break;case 37:t.next=43;break;case 39:t.prev=39,t.t1=t.catch(8),u=!0,d=t.t1;case 43:t.prev=43,t.prev=44,!l&&m.return&&m.return();case 46:if(t.prev=46,!u){t.next=49;break}throw d;case 49:return t.finish(46);case 50:return t.finish(43);case 51:a("setCompleteWords",{data:o});case 52:case"end":return t.stop()}},t,e,[[8,39,43,51],[18,22,26,34],[27,,29,33],[44,,46,50]])}))()}},mutations:{init:function(t){t.inputQuery=""},setInputQuery:function(t,e){var a=e.data;t.inputQuery=a},setGotoLine:function(t,e){var a=e.line;t.gotoLine=a},setError:function(t,e){var a=e.line,r=e.text;t.errorLine=a,t.errorText=r},resetError:function(t){t.errorLine=-1,t.errorText=""},focusOnEditor:function(t){t.focus++},resetFocusOnEditor:function(t){t.focus=0},setCompleteWords:function(t,e){var a=e.data;t.completeWords=a}}},je=[{id:1,date:"2019-07-02",title:"notification title",text:"notification text"}],Ue={namespaced:!0,state:function(){return{notifications:je,notificationReadId:-1}},getters:{hasUnread:function(t){return t.notifications.length>0&&t.notifications[0].id>t.notificationReadId}},actions:{},mutations:{read:function(t){if(0!==t.notifications.length){var e=t.notifications[0].id;e>t.notificationReadId&&(t.notificationReadId=e,xe("notificationReadId",e))}},loadLocalStorage:function(t){t.notificationReadId=ye("notificationReadId",-1)}}},Ve={id:1,text:"test announce"},We={namespaced:!0,state:function(){return{announce:Ve,announceReadId:-1}},getters:{isUnread:function(t){return t.announce&&t.announce.id>t.announceReadId}},actions:{},mutations:{read:function(t){if(t.announce){var e=t.announce.id;e>t.announceReadId&&(t.announceReadId=e,xe("announceReadId",e))}},loadLocalStorage:function(t){t.announceReadId=ye("announceReadId",-1)}}};h.a.use(v.a);var Ke={isWide:{default:!1,lsKey:"wide",type:"boolean"},isAutoQlist:{default:!1,lsKey:"autoQlist",type:"boolean"},desktopNotification:{default:!1,lsKey:"desktopNotification",type:"boolean"},rememberDatasource:{default:!1,lsKey:"rememberDatasource",type:"boolean"},rememberEngine:{default:!1,lsKey:"rememberEngine",type:"boolean"},minline:{default:4,lsKey:"minline",type:"number"},theme:{default:"chrome",lsKey:"theme",type:"string"},isCsv:{default:!1,lsKey:"isCsv",type:"boolean"},includeHeader:{default:!0,lsKey:"includeHeader",type:"boolean"},isLocalStorage:{default:!0,lsKey:"localstorage",type:"boolean"}};var ze=new v.a.Store({strict:!1,modules:{qlist:Te,history:Le,bookmark:Ae,result:$e,treeview:Ne,timeline:Be,editor:Fe,notification:Ue,announce:We},state:{settings:s()(Ke).reduce(function(t,e){var a=c()(e,2),r=a[0],s=a[1];return _t()(t,P()({},r,s.default))},{}),datasources:[],engines:{},auths:{},metadataServices:{},datetimePartitionHasHyphen:{},hash:{datasource:"",engine:"",tab:"",queryid:"",bookmark_id:"",chart:0,pivot:0,line:0,table:"",where:"",bookmark_params:""},authUser:null,authPass:null,isModal:!1,isSettingOpen:!1,isSideHistoryOpen:!1,isSuperAdminMode:!1,unload:!0},getters:{hashString:function(t){var e=H.e.filter(function(e){return t.hash[e[0]]||e[1]}).reduce(function(e,a){return _t()(e,P()({},a[0],t.hash[a[0]]))},{});return Object.toQueryString(e,{deep:!0})},isPresto:function(t){return"presto"===t.hash.engine},isHive:function(t){return"hive"===t.hash.engine},isSpark:function(t){return"spark"===t.hash.engine},isElasticsearch:function(t){return"elasticsearch"===t.hash.engine},authInfo:function(t){return t.auths[t.hash.datasource]?{user:t.authUser,password:t.authPass}:{}},authUserInfo:function(t){return t.auths[t.hash.datasource]?{user:t.authUser}:{}},datasourceIndex:function(t){var e=t.datasources.indexOf(t.hash.datasource);return-1===e?0:e+1},datasourceEngine:function(t){return t.hash.datasource&&t.hash.engine?t.hash.datasource+"_"+t.hash.engine:""},isBottomPanelOpen:function(t){return t.isSideHistoryOpen&&t.history.panelQueryid},isMetadataService:function(t){return t.metadataServices[t.hash.datasource]},datetimePartitionFormat:function(t){return t.datetimePartitionHasHyphen[t.hash.datasource]?"{yyyy}-{MM}-{dd}":"{yyyy}{MM}{dd}"}},mutations:{init:function(t){t.hash=_t()({},t.hash,{queryid:"",tab:H.i[0].id,line:0,chart:0,pivot:0,bookmark_id:""})},setAuth:function(t,e){var a=e.user,r=e.pass,s=t.hash.datasource;t.authUser=a,t.authPass=r,s&&(xe(s+"_user",a),xe(s+"_pass",r))},setDataSources:function(t,e){var a=[],r={},n={},i={},o={};e.data.forEach(function(t){s()(t).forEach(function(t){var e=c()(t,2),s=e[0],l=e[1];a.push(s),r[s]=l.engines,n[s]=l.auth,i[s]=l.metadataService,o[s]=l.datetimePartitionHasHyphen})}),t.datasources=a,t.engines=r,t.auths=n,t.metadataServices=i,t.datetimePartitionHasHyphen=o,Se("engines",r),Se("auths",n),Se("metadataServices",i)},setHash:function(t){var e=location.hash.remove("#"),a=Object.fromQueryString(e,{deep:!0,auth:!1}),r={datasource:"",engine:"",tab:"",queryid:"",bookmark_id:"",chart:0,pivot:0,line:0,table:"",where:"",bookmark_params:""},s=!0,n=!1,o=void 0;try{for(var l,u=i()(H.e);!(s=(l=u.next()).done);s=!0){var d=l.value,m=c()(d,2),h=m[0],f=m[1];a[h]?r[h]=a[h]:f&&t.hash[h]&&(r[h]=t.hash[h])}}catch(t){n=!0,o=t}finally{try{!s&&u.return&&u.return()}finally{if(n)throw o}}t.hash=r},setHashItem:function(t,e){var a={},r=!0,s=!1,n=void 0;try{for(var o,c=i()(H.e);!(r=(o=c.next()).done);r=!0){var l=o.value[0];void 0!==e[l]&&(a[l]=e[l])}}catch(t){s=!0,n=t}finally{try{!r&&c.return&&c.return()}finally{if(s)throw n}}t.hash=_t()({},t.hash,a),e.datasource&&t.datasources.includes(e.datasource)&&xe("datasource",e.datasource),e.engine&&xe("engine",e.engine)},setIsModal:function(t,e){t.isModal=e},setIsSettingOpen:function(t,e){t.isSettingOpen=e,we("setting",t.isSettingOpen)},setIsSideHistoryOpen:function(t,e){t.isSideHistoryOpen=e,we("panel",t.isSideHistoryOpen)},setSettings:function(t,e){var a={},r=!0,n=!1,o=void 0;try{for(var l,u=i()(s()(e));!(r=(l=u.next()).done);r=!0){var d=l.value,m=c()(d,2),h=m[0],f=m[1];Ke[h]&&(a[h]=f)}}catch(t){n=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(n)throw o}}t.settings=_t()({},t.settings,a);var p=!0,v=!1,b=void 0;try{for(var _,g=i()(s()(a));!(p=(_=g.next()).done);p=!0){var y=_.value,k=c()(y,2),C=k[0],x=k[1];"boolean"===Ke[C].type?we(Ke[C].lsKey,x):xe(Ke[C].lsKey,x)}}catch(t){v=!0,b=t}finally{try{!p&&g.return&&g.return()}finally{if(v)throw b}}},loadLocalStorage:function(t){var e={},a=!0,r=!1,n=void 0;try{for(var o,l=i()(s()(Ke));!(a=(o=l.next()).done);a=!0){var u=o.value,d=c()(u,2),m=d[0],h=d[1];switch(h.type){case"boolean":e[m]=ke(h.lsKey,h.default);break;case"number":e[m]=ye(h.lsKey,h.default);break;default:e[m]=ge(h.lsKey,h.default)}}}catch(t){r=!0,n=t}finally{try{!a&&l.return&&l.return()}finally{if(r)throw n}}if(t.settings=e,t.settings.rememberDatasource){var f=ge("datasource");f&&(t.hash=_t()({},t.hash,{datasource:f}))}if(t.settings.rememberEngine){var p=ge("engine");p&&(t.hash=_t()({},t.hash,{engine:p}))}t.isSettingOpen=ke("setting",!1),t.isSideHistoryOpen=ke("panel",!1)},loadAuth:function(t){var e=t.hash.datasource;e&&(t.authUser=ge(e+"_user"),t.authPass=ge(e+"_pass"))},loadComplete:function(t){t.unload=!1}},actions:{getDataSources:function(t){var e=this,a=t.commit;return ot()(rt.a.mark(function t(){var r;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,de.t();case 2:(r=t.sent).datasources&&r.datasources.length?a("setDataSources",{data:r.datasources}):location.replace("/error/?403");case 4:case"end":return t.stop()}},t,e)}))()},testAuth:function(t,e){var a=this,r=t.state,s=t.getters,n=e.user,i=e.password;return ot()(rt.a.mark(function t(){var e,o,c,l,u,d,h;return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.hash.datasource,o=s.isPresto,c=s.isHive,l=s.isSpark,u={user:n,password:i},d=void 0,!o){t.next=10;break}return t.next=7,de._6(e,u);case 7:d=t.sent,t.next=23;break;case 10:if(!c){t.next=16;break}return t.next=13,de._5(e,u);case 13:d=t.sent,t.next=23;break;case 16:if(!l){t.next=22;break}return t.next=19,de._7(e,u);case 19:d=t.sent,t.next=23;break;case 22:throw new Error("not supported");case 23:if(!d.results||!d.results.length){t.next=27;break}m.a.success("You can access.","Success",{positionClass:"toast-top-right"}),t.next=30;break;case 27:throw h=d.error||"Error",m.a.error(h,"Fail",{positionClass:"toast-top-right"}),h;case 30:case"end":return t.stop()}},t,a)}))()}}}),Ge={formatNumber:function(t,e){return e=e||null,Number(t).format(e)},formatUnit:function(t){if(/^([0-9.]+)([a-z]+)$/i.test(t)){var e=Number(RegExp.$1),a=RegExp.$2;switch(a){case"ms":e/=1e3,a="s";break;case"us":e/=1e6,a="s";break;case"ns":e/=1e9,a="s"}return""+e.ceil(1)+a}if(Object.isNumber(t)){return(t/1e3).ceil(1)+"s"}return t},extractDate:function(t){var e=t.first(19);return Date.create(e).format("{yyyy}/{MM}/{dd} {24hr}:{mm}:{ss}")},relativeDate:function(t){if(t){var e=t.first(19);return Date.create(e).relative()}},humanize:function(t){if(t)return t.replace(/_/g," ").capitalize(!0,!0)}},Ze=a("1f+G"),Je=a("bm7V"),Xe=a.n(Je),Ye=a("mbGJ"),ta=a.n(Ye),ea=a("xjBu"),aa=a.n(ea),ra=(a("mKw/"),a("xIHV"),a("CEOw"),a("Ez1V"),a("RA7A"),a("fbp0"),a("0m/e"),a("ZYDg"),a("S8EN"),a("LCuQ"),a("ldwk"),a("piKR"),a("/dnG"),a("sdY7"),a("BrPq"),a("DjWe"),a("AKo0"),a("YJFa"),a("Z9eC"),a("oS5H"),a("Q/sQ"),a("vHFV"),a("CNDE"),a("7VVp"),a("AQut"),a("4M1D"),a("h0QQ"),a("HyzO"),a("bmEU"),a("Tz8Z"),a("4Xn6"),a("9EOT"),a("tRU4"),a("1Vg1"),a("o4Ko"),a("1EhB"),aa.a.require("ace/lib/oop")),sa=aa.a.require("ace/mode/folding/fold_mode").FoldMode,na=function(){};ra.inherits(na,sa),function(){this.foldingStartMarker=/(\()[^)]*$/,this.foldingStopMarker=/^[^(]*\)/,this.getFoldWidgetRange=function(t,e,a){var r=t.getLine(a).match(this.foldingStartMarker);if(r){var s=r.index;return this.openingBracketBlock(t,r[1],a,s)}}}.call(na.prototype);var ia=aa.a.require("ace/mode/text").Mode,oa=aa.a.require("ace/mode/sql_highlight_rules").SqlHighlightRules,ca=function(){this.HighlightRules=oa,this.$behaviour=this.$defaultBehaviour,this.foldingRules=new na};ra.inherits(ca,ia),function(){this.lineCommentStart="--"}.call(ca.prototype);var la=ca,ua={name:"BaseAce",props:{code:{type:String,required:!0},theme:{type:String,default:"chrome"},readonly:{type:Boolean,default:!1},gotoLine:{type:Number},errorLine:{type:Number},errorText:{type:String},focus:{type:Number},minLines:{type:Number},maxLines:{type:Number},showGutter:{type:Boolean,default:!0},cssClass:{type:String,default:""},completeWords:{type:Array,default:function(){return[]}}},data:function(){return{ace:null,prevCode:""}},watch:{code:function(t){this.ace.getSession().clearAnnotations(),this.prevCode!==t&&this.ace.setValue(t,1)},theme:function(t){this.ace.setTheme("ace/theme/"+t)},readonly:function(t){this.ace.setReadOnly(t)},gotoLine:function(t,e){t&&t!==e&&this.ace.gotoLine(t)},errorLine:function(t){-1!==t&&this.ace.getSession().setAnnotations([{row:t,type:"error",text:this.errorText||"Error"}])},focus:function(t){t&&this.ace.focus()},minLines:function(t){this.ace.setOptions({minLines:t})},maxLines:function(t){this.ace.setOptions({maxLines:t})},completeWords:function(){this.startAutoComplete()}},mounted:function(){var t=this,e=aa.a.edit(this.$el);e.$blockScrolling=1/0,e.setShowPrintMargin(!1),e.setTheme("ace/theme/"+this.theme),e.getSession().setMode(new la),e.getSession().setUseWrapMode(!0),e.setFontSize(13),e.setValue(this.code,1),e.setStyle(this.cssClass,!0),e.commands.bindKey("Ctrl-P","golineup"),e.commands.bindKey("Ctrl-T",""),e.commands.bindKey("Command-L",""),e.commands.removeCommand("find"),e.renderer.setShowGutter(this.showGutter),this.readonly?(e.setReadOnly(!0),e.gotoLine(1,1),e.renderer.setShowGutter(!1),e.setHighlightActiveLine(!1),e.setOptions({minLines:1,maxLines:this.maxLines||8}),e.renderer.$cursorLayer.element.style.display="none"):(e.setOptions({minLines:this.minLines||4,maxLines:this.maxLines||16}),e.on("change",function(){var a=e.getValue();t.prevCode=a,t.$emit("change-code",a)}),e.commands.addCommand({name:"run",bindKey:{win:"Ctrl-Enter",mac:"Ctrl-Enter"},exec:function(){return t.$emit("run-code",e.getValue())}}),e.commands.addCommand({name:"validate",bindKey:{win:"Shift-Enter",mac:"Shift-Enter"},exec:function(){return t.$emit("validate-code",e.getValue())}}),e.commands.addCommand({name:"format",bindKey:{win:"Ctrl-Shift-F",mac:"Ctrl-Shift-F"},exec:function(){return t.$emit("format-code",e.getValue())}})),this.ace=e},methods:{startAutoComplete:function(){var t=aa.a.require("ace/ext/language_tools"),e=this.completeWords,a={getCompletions:function(t,a,r,s,n){n(null,e)}};t.setCompleters([a]),this.ace.setOptions({enableSnippets:!0,enableBasicAutocompletion:!0,enableLiveAutocompletion:!1})}}},da={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticStyle:{width:"100%",height:"100%"}})},staticRenderFns:[]};var ma=a("VU/8")(ua,da,!1,function(t){a("pun7")},"data-v-7734fb89",null).exports,ha={name:"BaseAutoLink",props:{text:{type:String,required:!0}},computed:{result:function(){return this.text.replace(/((http|https|ftp)(:\/\/[-_.!~*'()a-zA-Z0-9;\/?:@&=+$,%#]+))/g,'<a href="$1" target="_blank">$1</a>')}}},fa={render:function(){var t=this.$createElement;return(this._self._c||t)("span",{domProps:{innerHTML:this._s(this.result)}})},staticRenderFns:[]};var pa=a("VU/8")(ha,fa,!1,function(t){a("/qlr")},"data-v-3a8b2824",null).exports,va={name:"BaseHighlight",props:{sentence:{type:String,required:!0},keyword:{type:String,required:!0}},computed:{result:function(){var t=this.sentence,e=this.keyword.trim();return e?e.split(" ").unique().map(function(t){return new RegExp("("+B()(t)+")","ig")}).reduce(function(t,e){return t.replace(e,"<mark>$1</mark>")},t):t}}},ba={render:function(){var t=this.$createElement;return(this._self._c||t)("span",{domProps:{innerHTML:this._s(this.result)}})},staticRenderFns:[]};var _a=a("VU/8")(va,ba,!1,function(t){a("r9SG")},"data-v-3af02588",null).exports;u.a.extend(),m.a.options={escapeHtml:!1,closeButton:!0,debug:!1,newestOnTop:!1,progressBar:!1,positionClass:"toast-bottom-right",preventDuplicates:!1,onclick:null,showDuration:300,hideDuration:1e3,timeOut:3e4,extendedTimeOut:1e3,showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},h.a.config.productionTip=!1,h.a.use(Ze.a),h.a.use(Xe.a),h.a.use(ta.a),h.a.component("BaseAce",ma),h.a.component("BaseAutoLink",pa),h.a.component("BaseHighlight",_a),h.a.directive("focus",{inserted:function(t){t.focus()}});var ga=!0,ya=!1,ka=void 0;try{for(var Ca,xa=i()(s()(Ge));!(ga=(Ca=xa.next()).done);ga=!0){var wa=Ca.value,Sa=c()(wa,2),Ea=Sa[0],Ta=Sa[1];h.a.filter(Ea,Ta)}}catch(t){ya=!0,ka=t}finally{try{!ga&&xa.return&&xa.return()}finally{if(ya)throw ka}}new h.a({el:"#app",router:_e,store:ze,components:{App:g},template:"<App/>"})},NpqG:function(t,e){},P7r5:function(t,e){},PKxU:function(t,e){},PkEV:function(t,e){},"QX/m":function(t,e){},Rk3n:function(t,e){},SsZs:function(t,e){},USZE:function(t,e){},VipE:function(t,e){},YenA:function(t,e){},a30N:function(t,e){},gyMJ:function(t,e,a){"use strict";a.d(e,"_6",function(){return Pt}),a.d(e,"_5",function(){return At}),a.d(e,"_7",function(){return Qt}),a.d(e,"t",function(){return Rt}),a.d(e,"n",function(){return Mt}),a.d(e,"I",function(){return Dt}),a.d(e,"H",function(){return Ht}),a.d(e,"J",function(){return $t}),a.d(e,"L",function(){return qt}),a.d(e,"W",function(){return Ot}),a.d(e,"j",function(){return Nt}),a.d(e,"O",function(){return Bt}),a.d(e,"N",function(){return Ft}),a.d(e,"P",function(){return jt}),a.d(e,"M",function(){return Ut}),a.d(e,"q",function(){return Vt}),a.d(e,"p",function(){return Wt}),a.d(e,"r",function(){return Kt}),a.d(e,"o",function(){return zt}),a.d(e,"x",function(){return Gt}),a.d(e,"w",function(){return Zt}),a.d(e,"y",function(){return Jt}),a.d(e,"_4",function(){return Xt}),a.d(e,"_2",function(){return Yt}),a.d(e,"_1",function(){return te}),a.d(e,"_3",function(){return ee}),a.d(e,"_0",function(){return ae}),a.d(e,"_8",function(){return re}),a.d(e,"F",function(){return se}),a.d(e,"E",function(){return ne}),a.d(e,"G",function(){return ie}),a.d(e,"D",function(){return oe}),a.d(e,"u",function(){return ce}),a.d(e,"C",function(){return le}),a.d(e,"Y",function(){return ue}),a.d(e,"Z",function(){return de}),a.d(e,"S",function(){return me}),a.d(e,"R",function(){return he}),a.d(e,"k",function(){return fe}),a.d(e,"_9",function(){return pe}),a.d(e,"e",function(){return ve}),a.d(e,"f",function(){return be}),a.d(e,"l",function(){return _e}),a.d(e,"m",function(){return ge}),a.d(e,"a",function(){return ye}),a.d(e,"g",function(){return ke}),a.d(e,"s",function(){return Ce}),a.d(e,"T",function(){return xe}),a.d(e,"U",function(){return we}),a.d(e,"h",function(){return Se}),a.d(e,"v",function(){return Ee}),a.d(e,"V",function(){return Te}),a.d(e,"i",function(){return Ie}),a.d(e,"X",function(){return Le}),a.d(e,"Q",function(){return Pe}),a.d(e,"A",function(){return Ae}),a.d(e,"z",function(){return Qe}),a.d(e,"B",function(){return Re}),a.d(e,"K",function(){return Me}),e.c=function(t,e,a,r){var s=a?C.csvdownload:C.download;return _+s.format({datasource:t,queryid:e,includeHeader:r})},e.d=function(t,e,a){var r=e?C.shareCsvDownload:C.shareDownload;return _+r.format({publishId:t,includeHeader:a})},e.b=function(t,e,a,r,s,n){if(t)return _+C.detail.format({datasource:s,queryid:n});if(e)return _+C.hiveQueryDetail.format({datasource:s,id:n});if(a)return _+C.sparkQueryDetail.format({datasource:s});if(r)return _;throw new Error("not supported")};var r=a("Xxa5"),s=a.n(r),n=a("Dd8w"),i=a.n(n),o=a("exGp"),c=a.n(o),l=a("d7EF"),u=a.n(l),d=a("W3Iv"),m=a.n(d),h=a("mtWM"),f=a.n(h),p=a("vQJi"),v=a.n(p),b=a("qI5z"),_="",g={baseURL:_};var y=f.a.create(g);function k(t){return m()(t).reduce(function(t,e){var a=u()(e,2),r=a[0],s=a[1];return t.append(r,s),t},new URLSearchParams)}y.interceptors.request.use(function(t){return t}),y.interceptors.response.use(function(t){return t},function(t){switch(t.response.status){case 403:location.replace("/error/?403");break;case 500:v.a.error("Please inform to admin","500")}return t});var C={datasource:"/datasource",datasourceAuth:"/datasourceAuth",tableList:"/tableList",presto:"/presto",prestoAsync:"/prestoAsync",queryStatus:"/queryStatus",query:"/query",history:"/history",historyStatus:"/historyStatus",queryHistory:"/queryHistory?datasource={datasource}",download:"/download?datasource={datasource}&queryid={queryid}&encode=UTF-8&header={includeHeader}",csvdownload:"/csvdownload?datasource={datasource}&queryid={queryid}&encode=UTF-8&header={includeHeader}",publish:"/publish",bookmark:"/bookmark",format:"/format",convertPresto:"/convertPresto",convertHive:"/convertHive",kill:"/kill",detail:"/queryDetail?datasource={datasource}&queryid={queryid}",shareHistory:"/share/shareHistory",shareDownload:"/share/download?publish_id={publishId}&encode=UTF-8&header={includeHeader}",shareCsvDownload:"/share/csvdownload?publish_id={publishId}&encode=UTF-8&header={includeHeader}",toValuesQuery:"/toValuesQuery",hive:"/hive",hiveAsync:"/hiveAsync",hiveQueryStatus:"/hiveQueryStatus",yarnJobList:"/yarnJobList",killHive:"/killHive",hiveQueryDetail:"/hiveQueryDetail?engine=hive&datasource={datasource}&id={id}",prestoPartition:"/prestoPartition",hivePartition:"/hivePartition",queryHistoryUser:"/queryHistoryUser?datasource={datasource}&engine={engine}",bookmarkUser:"/bookmarkUser",comment:"/comment",elasticsearch:"/elasticsearch",elasticsearchQueryStatus:"/elasticsearchQueryStatus",translate:"/elasticsearch?translate",label:"/label",spark:"/spark",sparkPartition:"/sparkPartition",sparkAsync:"/sparkAsync",sparkQueryStatus:"/sparkQueryStatus",sparkQueryDetail:"/sparkQueryDetail?engine=spark&datasource={datasource}",sparkJobList:"/sparkJobList",starredSchema:"/starredSchema"};function x(t){return b.f+t}var w,S,E,T,I,L,P,A,Q,R,M,D,H,$,q,O,N,B,F,j,U,V,W,K,z,G,Z,J,X,Y,tt,et,at,rt,st,nt,it,ot,ct,lt,ut,dt,mt,ht,ft,pt,vt,bt,_t,gt,yt,kt,Ct,xt,wt,St,Et,Tt,It,Lt,Pt=(w=c()(s.a.mark(function t(e,a){var r,n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=i()({datasource:e,query:"SELECT -1"},a),t.next=3,y.post(C.presto,k(r));case 3:return n=t.sent,t.abrupt("return",n.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e){return w.apply(this,arguments)}),At=(S=c()(s.a.mark(function t(e,a){var r,n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=i()({engine:"hive",datasource:e,query:"SELECT -1"},a),t.next=3,y.post(C.hive,k(r));case 3:return n=t.sent,t.abrupt("return",n.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e){return S.apply(this,arguments)}),Qt=(E=c()(s.a.mark(function t(e,a){var r,n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=i()({engine:"spark",datasource:e,query:"SELECT -1"},a),t.next=3,y.post(C.spark,k(r));case 3:return n=t.sent,t.abrupt("return",n.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e){return E.apply(this,arguments)}),Rt=(T=c()(s.a.mark(function t(){var e;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.get(C.datasourceAuth);case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}},t,this)})),function(){return T.apply(this,arguments)}),Mt=(I=c()(s.a.mark(function t(e,a){var r,n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=i()({datasource:e,query:x("SHOW CATALOGS")},a),t.next=3,y.post(C.presto,k(r));case 3:return n=t.sent,t.abrupt("return",n.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e){return I.apply(this,arguments)}),Dt=(L=c()(s.a.mark(function t(e,a,r){var n,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=i()({datasource:e,query:x("SHOW SCHEMAS FROM "+a)},r),t.next=3,y.post(C.presto,k(n));case 3:return o=t.sent,t.abrupt("return",o.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e,a){return L.apply(this,arguments)}),Ht=(P=c()(s.a.mark(function t(e,a){var r,n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=i()({engine:"hive",datasource:e,query:"SHOW SCHEMAS"},a),t.next=3,y.post(C.hive,k(r));case 3:return n=t.sent,t.abrupt("return",n.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e){return P.apply(this,arguments)}),$t=(A=c()(s.a.mark(function t(e,a){var r,n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=i()({engine:"spark",datasource:e,query:"SHOW SCHEMAS"},a),t.next=3,y.post(C.spark,k(r));case 3:return n=t.sent,t.abrupt("return",n.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e){return A.apply(this,arguments)}),qt=(Q=c()(s.a.mark(function t(e,a,r){var n,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={datasource:e,engine:a,catalog:r},t.next=3,y.get(C.starredSchema,{params:n});case 3:return i=t.sent,t.abrupt("return",i.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e,a){return Q.apply(this,arguments)}),Ot=(R=c()(s.a.mark(function t(e,a,r,n){var i,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={datasource:e,engine:a,catalog:r,schema:n},t.next=3,y.post(C.starredSchema,k(i));case 3:return o=t.sent,t.abrupt("return",o.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e,a,r){return R.apply(this,arguments)}),Nt=(M=c()(s.a.mark(function t(e,a,r,n){var i,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={datasource:e,engine:a,catalog:r,starred_schema_id:n},t.next=3,y.delete(C.starredSchema,{params:i});case 3:return o=t.sent,t.abrupt("return",o.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e,a,r){return M.apply(this,arguments)}),Bt=(D=c()(s.a.mark(function t(e,a,r,n){var o,c;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=i()({datasource:e,query:x("SELECT table_name, table_type FROM "+a+".information_schema.tables\n               WHERE table_schema='"+r+"' ORDER BY table_name")},n),t.next=3,y.post(C.presto,k(o));case 3:return c=t.sent,t.abrupt("return",c.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e,a,r){return D.apply(this,arguments)}),Ft=(H=c()(s.a.mark(function t(e,a,r){var n,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=i()({engine:"hive",datasource:e,query:"SHOW TABLES IN "+a},r),t.next=3,y.post(C.hive,k(n));case 3:return o=t.sent,t.abrupt("return",o.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e,a){return H.apply(this,arguments)}),jt=($=c()(s.a.mark(function t(e,a,r){var n,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=i()({engine:"spark",datasource:e,query:"SHOW TABLES IN "+a},r),t.next=3,y.post(C.spark,k(n));case 3:return o=t.sent,t.abrupt("return",o.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e,a){return $.apply(this,arguments)}),Ut=(q=c()(s.a.mark(function t(e,a){var r,n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=i()({datasource:e,query:"SHOW TABLES"},a),t.next=3,y.post(C.elasticsearch,k(r));case 3:return n=t.sent,t.abrupt("return",n.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e){return q.apply(this,arguments)}),Vt=(O=c()(s.a.mark(function t(e,a,r,n,o){var c,l;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c=i()({datasource:e,query:x("DESCRIBE "+a+"."+r+'."'+n+'"')},o),t.next=3,y.post(C.presto,k(c));case 3:return l=t.sent,t.abrupt("return",l.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e,a,r,s){return O.apply(this,arguments)}),Wt=(N=c()(s.a.mark(function t(e,a,r,n){var o,c;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=i()({engine:"hive",datasource:e,query:"DESCRIBE "+a+".`"+r+"`"},n),t.next=3,y.post(C.hive,k(o));case 3:return c=t.sent,t.abrupt("return",c.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e,a,r){return N.apply(this,arguments)}),Kt=(B=c()(s.a.mark(function t(e,a,r,n){var o,c;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=i()({engine:"spark",datasource:e,query:"DESCRIBE "+a+"."+r},n),t.next=3,y.post(C.spark,k(o));case 3:return c=t.sent,t.abrupt("return",c.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e,a,r){return B.apply(this,arguments)}),zt=(F=c()(s.a.mark(function t(e,a,r){var n,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=i()({datasource:e,query:x('DESCRIBE "'+a+'"')},r),t.next=3,y.post(C.elasticsearch,k(n));case 3:return o=t.sent,t.abrupt("return",o.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e,a){return F.apply(this,arguments)}),Gt=(j=c()(s.a.mark(function t(e,a,r,n,o,c){var l,u;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return l=i()({datasource:e,catalog:a,schema:r,table:n},o,c),t.next=3,y.post(C.prestoPartition,k(l));case 3:return u=t.sent,t.abrupt("return",u.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e,a,r,s,n){return j.apply(this,arguments)}),Zt=(U=c()(s.a.mark(function t(e,a,r,n,o){var c,l;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c=i()({engine:"hive",datasource:e,schema:a,table:r},n,o),t.next=3,y.post(C.hivePartition,k(c));case 3:return l=t.sent,t.abrupt("return",l.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e,a,r,s){return U.apply(this,arguments)}),Jt=(V=c()(s.a.mark(function t(e,a,r,n,o){var c,l;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c=i()({engine:"spark",datasource:e,schema:a,table:r},n,o),t.next=3,y.post(C.sparkPartition,k(c));case 3:return l=t.sent,t.abrupt("return",l.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e,a,r,s){return V.apply(this,arguments)}),Xt=(W=c()(s.a.mark(function t(e,a,r,n){var o,c,l;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o="SELECT table_catalog, table_schema, table_name, table_type FROM "+a+".information_schema.tables WHERE table_name LIKE '%"+r+"%'",c=i()({datasource:e,query:x(o)},n),t.next=4,y.post(C.presto,k(c));case 4:return l=t.sent,t.abrupt("return",l.data);case 6:case"end":return t.stop()}},t,this)})),function(t,e,a,r){return W.apply(this,arguments)}),Yt=(K=c()(s.a.mark(function t(e,a,r){var n,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=i()({datasource:e,catalog:a},r),t.next=3,y.post(C.tableList,k(n));case 3:return o=t.sent,t.abrupt("return",o.data);case 5:case"end":return t.stop()}},t,this)})),z=c()(s.a.mark(function t(e,a,r){var n,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=i()({datasource:e,query:a},r),t.next=3,y.post(C.prestoAsync,k(n));case 3:return o=t.sent,t.abrupt("return",o.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e,a){return z.apply(this,arguments)}),te=(G=c()(s.a.mark(function t(e,a,r){var n,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=i()({engine:"hive",datasource:e,query:a},r),t.next=3,y.post(C.hiveAsync,k(n));case 3:return o=t.sent,t.abrupt("return",o.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e,a){return G.apply(this,arguments)}),ee=(Z=c()(s.a.mark(function t(e,a,r){var n,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=i()({engine:"spark",datasource:e,query:a},r),t.next=3,y.post(C.sparkAsync,k(n));case 3:return o=t.sent,t.abrupt("return",o.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e,a){return Z.apply(this,arguments)}),ae=(J=c()(s.a.mark(function t(e,a,r){var n,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=i()({datasource:e,query:a},r),t.next=3,y.post(C.elasticsearch,k(n));case 3:return o=t.sent,t.abrupt("return",o.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e,a){return J.apply(this,arguments)}),re=(X=c()(s.a.mark(function t(e,a,r){var n,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=i()({datasource:e,query:a},r),t.next=3,y.post(C.translate,k(n));case 3:return o=t.sent,t.abrupt("return",o.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e,a){return X.apply(this,arguments)}),se=(Y=c()(s.a.mark(function t(e,a,r){var n,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=i()({datasource:e,queryid:a},r),t.next=3,y.post(C.queryStatus,k(n));case 3:return o=t.sent,t.abrupt("return",o.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e,a){return Y.apply(this,arguments)}),ne=(tt=c()(s.a.mark(function t(e,a,r){var n,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=i()({engine:"hive",datasource:e,queryid:a},r),t.next=3,y.post(C.hiveQueryStatus,k(n));case 3:return o=t.sent,t.abrupt("return",o.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e,a){return tt.apply(this,arguments)}),ie=(et=c()(s.a.mark(function t(e,a,r){var n,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=i()({engine:"spark",datasource:e,queryid:a},r),t.next=3,y.post(C.sparkQueryStatus,k(n));case 3:return o=t.sent,t.abrupt("return",o.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e,a){return et.apply(this,arguments)}),oe=(at=c()(s.a.mark(function t(e,a,r){var n,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=i()({datasource:e,queryid:a},r),t.next=3,y.post(C.elasticsearchQueryStatus,k(n));case 3:return o=t.sent,t.abrupt("return",o.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e,a){return at.apply(this,arguments)}),ce=(rt=c()(s.a.mark(function t(e,a,r){var n,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={datasource:e,engine:a,queryid:r},t.next=3,y.get(C.historyStatus,{params:n});case 3:return i=t.sent,t.abrupt("return",i.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e,a){return rt.apply(this,arguments)}),le=(st=c()(s.a.mark(function t(e,a,r){var n,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={datasource:e,engine:a,queryid:r},t.next=3,y.get(C.history,{params:n,timeout:3e5});case 3:return i=t.sent,t.abrupt("return",i.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e,a){return st.apply(this,arguments)}),ue=(nt=c()(s.a.mark(function t(e,a,r){var n,i,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=C.queryHistory.format({datasource:e}),i={queryids:a.join(","),label:r},t.next=4,y.post(n,k(i),{timeout:3e5});case 4:return o=t.sent,t.abrupt("return",o.data);case 6:case"end":return t.stop()}},t,this)})),function(t,e,a){return nt.apply(this,arguments)}),de=(it=c()(s.a.mark(function t(e,a,r,n,i,o){var c,l,u;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c=C.queryHistoryUser.format({datasource:e,engine:a}),l={search:r,offset:n,limit:i,label:o},t.next=4,y.get(c,{params:l,timeout:3e5});case 4:return u=t.sent,t.abrupt("return",u.data);case 6:case"end":return t.stop()}},t,this)})),function(t,e,a,r,s,n){return it.apply(this,arguments)}),me=(ot=c()(s.a.mark(function t(e,a,r){var n,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=i()({datasource:e,queryid:a},r),t.next=3,y.post(C.kill,k(n));case 3:return o=t.sent,t.abrupt("return",o.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e,a){return ot.apply(this,arguments)}),he=(ct=c()(s.a.mark(function t(e,a,r){var n,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=i()({datasource:e,id:a},r),t.next=3,y.post(C.killHive,k(n));case 3:return o=t.sent,t.abrupt("return",o.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e,a){return ct.apply(this,arguments)}),fe=(lt=c()(s.a.mark(function t(e){var a,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={query:e},t.next=3,y.post(C.format,k(a));case 3:return r=t.sent,t.abrupt("return",r.data);case 5:case"end":return t.stop()}},t,this)})),function(t){return lt.apply(this,arguments)}),pe=(ut=c()(s.a.mark(function t(e,a){var r,n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={datasource:e,query:"EXPLAIN (TYPE VALIDATE) "+a},t.next=3,y.post(C.presto,k(r));case 3:return n=t.sent,t.abrupt("return",n.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e){return ut.apply(this,arguments)}),ve=(dt=c()(s.a.mark(function t(e){var a,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={query:e},t.next=3,y.post(C.convertHive,k(a));case 3:return r=t.sent,t.abrupt("return",r.data);case 5:case"end":return t.stop()}},t,this)})),function(t){return dt.apply(this,arguments)}),be=(mt=c()(s.a.mark(function t(e){var a,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={query:e},t.next=3,y.post(C.convertPresto,k(a));case 3:return r=t.sent,t.abrupt("return",r.data);case 5:case"end":return t.stop()}},t,this)})),function(t){return mt.apply(this,arguments)}),_e=(ht=c()(s.a.mark(function t(e,a,r){var n,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={datasource:e,engine:a,bookmark_id:r.join(",")},t.next=3,y.get(C.bookmark,{params:n,timeout:3e5});case 3:return i=t.sent,t.abrupt("return",i.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e,a){return ht.apply(this,arguments)}),ge=(ft=c()(s.a.mark(function t(e,a){var r,n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={datasource:e,engine:a},t.next=3,y.get(C.bookmarkUser,{params:r,timeout:3e5});case 3:return n=t.sent,t.abrupt("return",n.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e){return ft.apply(this,arguments)}),ye=(pt=c()(s.a.mark(function t(e,a,r,n){var i,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={datasource:e,engine:a,title:r,query:n},t.next=3,y.post(C.bookmark,k(i),{timeout:3e5});case 3:return o=t.sent,t.abrupt("return",o.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e,a,r){return pt.apply(this,arguments)}),ke=(vt=c()(s.a.mark(function t(e,a,r){var n,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={datasource:e,engine:a,bookmark_id:r},t.next=3,y.delete(C.bookmark,{params:n,timeout:3e5});case 3:return i=t.sent,t.abrupt("return",i.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e,a){return vt.apply(this,arguments)}),Ce=(bt=c()(s.a.mark(function t(e,a,r){var n,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={datasource:e,engine:a,queryid:r},t.next=3,y.get(C.comment,{params:n,timeout:3e5});case 3:return i=t.sent,t.abrupt("return",i.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e,a){return bt.apply(this,arguments)}),xe=(_t=c()(s.a.mark(function t(e,a,r,n){var i,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={datasource:e,engine:a,queryid:r,content:n},t.next=3,y.post(C.comment,k(i),{timeout:3e5});case 3:return o=t.sent,t.abrupt("return",o.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e,a,r){return _t.apply(this,arguments)}),we=(gt=c()(s.a.mark(function t(e,a,r,n){var i,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={datasource:e,engine:a,queryid:r,like:n},t.next=3,y.post(C.comment,k(i),{timeout:3e5});case 3:return o=t.sent,t.abrupt("return",o.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e,a,r){return gt.apply(this,arguments)}),Se=(yt=c()(s.a.mark(function t(e,a,r){var n,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={datasource:e,engine:a,queryid:r},t.next=3,y.delete(C.comment,{params:n,timeout:3e5});case 3:return i=t.sent,t.abrupt("return",i.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e,a){return yt.apply(this,arguments)}),Ee=(kt=c()(s.a.mark(function t(e,a,r){var n,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={datasource:e,engine:a,queryid:r},t.next=3,y.get(C.label,{params:n,timeout:3e5});case 3:return i=t.sent,t.abrupt("return",i.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e,a){return kt.apply(this,arguments)}),Te=(Ct=c()(s.a.mark(function t(e,a,r,n){var i,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={datasource:e,engine:a,queryid:r,labelName:n},t.next=3,y.post(C.label,k(i),{timeout:3e5});case 3:return o=t.sent,t.abrupt("return",o.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e,a,r){return Ct.apply(this,arguments)}),Ie=(xt=c()(s.a.mark(function t(e,a,r){var n,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={datasource:e,engine:a,queryid:r},t.next=3,y.delete(C.label,{params:n,timeout:3e5});case 3:return i=t.sent,t.abrupt("return",i.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e,a){return xt.apply(this,arguments)}),Le=(wt=c()(s.a.mark(function t(e,a,r){var n,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={datasource:e,engine:a,queryid:r},t.next=3,y.post(C.publish,k(n));case 3:return i=t.sent,t.abrupt("return",i.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e,a){return wt.apply(this,arguments)}),Pe=(St=c()(s.a.mark(function t(e,a,r){var n,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={datasource:e,engine:a,search:r},t.next=3,y.get(C.comment,{params:n,timeout:3e5});case 3:return i=t.sent,t.abrupt("return",i.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e,a){return St.apply(this,arguments)}),Ae=(Et=c()(s.a.mark(function t(e,a){var r,n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=i()({datasource:e},a),t.next=3,y.post(C.query,k(r));case 3:return n=t.sent,t.abrupt("return",n.data);case 5:case"end":return t.stop()}},t,this)})),function(t,e){return Et.apply(this,arguments)}),Qe=(Tt=c()(s.a.mark(function t(e){var a,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={datasource:e},t.next=3,y.get(C.yarnJobList,{params:a});case 3:return r=t.sent,t.abrupt("return",r.data);case 5:case"end":return t.stop()}},t,this)})),function(t){return Tt.apply(this,arguments)}),Re=(It=c()(s.a.mark(function t(e){var a,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={datasource:e},t.next=3,y.get(C.sparkJobList,{params:a});case 3:return r=t.sent,t.abrupt("return",r.data);case 5:case"end":return t.stop()}},t,this)})),function(t){return It.apply(this,arguments)}),Me=(Lt=c()(s.a.mark(function t(e){var a,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={publish_id:e},t.next=3,y.get(C.shareHistory,{params:a});case 3:return r=t.sent,t.abrupt("return",r.data);case 5:case"end":return t.stop()}},t,this)})),function(t){return Lt.apply(this,arguments)})},hvmi:function(t,e){},kKpq:function(t,e){},pgcm:function(t,e){},pgpf:function(t,e){},pun7:function(t,e){},qI5z:function(t,e,a){"use strict";a.d(e,"h",function(){return r}),a.d(e,"j",function(){return s}),a.d(e,"g",function(){return n}),a.d(e,"i",function(){return i}),a.d(e,"e",function(){return o}),a.d(e,"f",function(){return c}),a.d(e,"d",function(){return l}),a.d(e,"b",function(){return u}),a.d(e,"a",function(){return d}),a.d(e,"c",function(){return m});var r="yanagishima",s="22.0",n={aboutThis:"https://github.com/yanagishima/yanagishima/blob/master/README.md",bugsFeedback:"https://github.com/yanagishima/yanagishima/issues",mailAdmin:""},i=[{id:"treeview",icon:"sitemap",name:"Treeview"},{id:"qlist",icon:"tasks",name:"Query List"},{id:"history",icon:"history",name:"History"},{id:"bookmark",icon:"star",name:"Bookmark"},{id:"result",icon:"table",name:"Result"},{id:"timeline",icon:"clock",iconStyle:"far",name:"Timeline"}],o=[["datasource",!0],["engine",!0],["tab",!0],["queryid",!1],["bookmark_id",!1],["chart",!1],["pivot",!1],["line",!1],["table",!1],["where",!1],["bookmark_params",!1]],c="/* yanagishima */",l=["dt","yyyymmdd","log_date"],u={1:{name:"Line Chart",type:"LineChart",minRows:2,option:{}},2:{name:"Stacked Area Chart",type:"AreaChart",minRows:3,option:{isStacked:!0}},3:{name:"Full-Stacked Area Chart",type:"AreaChart",minRows:3,option:{isStacked:"relative"}},4:{name:"Column Chart",type:"ColumnChart",minRows:2,option:{isStacked:!1}},5:{name:"Stacked Column Chart",type:"ColumnChart",minRows:3,option:{isStacked:!0}}},d={width:"100%",height:360,fontName:"Droid Sans",fontSize:12,chartArea:{width:"80%"},legend:{position:"bottom",textStyle:{fontName:"Droid Sans",fontSize:12}},tooltip:{textStyle:{fontName:"Droid Sans",fontSize:12}},vAxis:{minValue:0,gridlines:{color:"#eee"},titleTextStyle:{italic:!1}},hAxis:{gridlines:{color:"#eee"},titleTextStyle:{italic:!1}}},m={snippet:["WHERE dt='{yesterday}' LIMIT 100","WHERE yyyymmdd='{yesterday}' LIMIT 100","WHERE log_date='{yesterday}' LIMIT 100"],function:["abs","acos","approx_distinct","approx_percentile","approx_set","arbitrary","arrays_overlap","array_agg","array_distinct","array_except","array_intersect","array_join","array_max","array_min","array_position","array_remove","array_sort","array_union","asin","atan","atan2","avg","bar","bing_tile","bing_tile_at","bing_tile_coordinates","bing_tile_polygon","bing_tile_quadkey","bing_tile_zoom_level","bitwise_and","bitwise_and_agg","bitwise_not","bitwise_or","bitwise_or_agg","bitwise_xor","bit_count","bool_and","bool_or","cardinality","cbrt","ceil","ceiling","char2hexint","checksum","chr","classify","coalesce","codepoint","color","concat","contains","corr","cos","cosh","cosine_similarity","count","count_if","covar_pop","covar_samp","crc32","cume_dist","current_date","current_time","current_timestamp","current_timezone","date","date_add","date_diff","date_format","date_parse","date_trunc","day","day_of_month","day_of_week","day_of_year","degrees","dense_rank","dow","doy","e","element_at","empty_approx_set","evaluate_classifier_predictions","every","exp","features","filter","first_value","flatten","floor","format_datetime","from_base","from_base64","from_base64url","from_big_endian_64","from_hex","from_iso8601_date","from_iso8601_timestamp","from_unixtime","from_utf8","Function","geometric_mean","geometry_to_bing_tiles","greatest","hamming_distance","hash_counts","histogram","hour","index","infinity","intersection_cardinality","inverse_normal_cdf","is_appliance","is_crawler","is_finite","is_infinite","is_json_scalar","is_misc","is_mobilephone","is_nan","is_pc","is_smartphone","is_unknown","jaccard_index","json_array_contains","json_array_get","json_array_length","json_extract","json_extract_scalar","json_format","json_parse","json_size","kurtosis","lag","last_value","lead","learn_classifier","learn_libsvm_classifier","learn_libsvm_regressor","learn_regressor","least","length","levenshtein_distance","like_pattern","ln","localtime","localtimestamp","log","log10","log2","lower","lpad","ltrim","make_set_digest","map","map_agg","map_concat","map_entries","map_filter","map_from_entries","map_keys","map_union","map_values","map_zip_with","max","max_by","md5","merge","merge_set_digest","min","minute","min_by","mod","month","multimap_agg","nan","normalize","normal_cdf","now","nth_value","ntile","numeric_histogram","objectid","parse_agent","parse_datetime","parse_duration","percent_rank","pi","pow","power","quarter","radians","rand","random","rank","reduce","regexp_extract","regexp_extract_all","regexp_like","regexp_replace","regexp_split","regress","regr_intercept","regr_slope","render","repeat","replace","reverse","rgb","round","row_number","rpad","rtrim","second","sequence","sha1","sha256","sha512","shuffle","sign","sin","skewness","slice","split","split_part","split_to_map","sqrt","stddev","stddev_pop","stddev_samp","strpos","ST_Area","ST_AsText","ST_Boundary","ST_Buffer","ST_Centroid","ST_Contains","ST_CoordDim","ST_Crosses","ST_Difference","ST_Dimension","ST_Disjoint","ST_Distance","ST_EndPoint","ST_Envelope","ST_Equals","ST_ExteriorRing","ST_GeometryFromText","ST_Intersection","ST_Intersects","ST_IsClosed","ST_IsEmpty","ST_IsRing","ST_Length","ST_LineFromText","ST_NumInteriorRing","ST_NumPoints","ST_Overlaps","ST_Point","ST_Polygon","ST_Relate","ST_StartPoint","ST_SymDifference","ST_Touches","ST_Within","ST_X","ST_XMax","ST_XMin","ST_Y","ST_YMax","ST_YMin","substr","substring","sum","tan","tanh","timezone_hour","timezone_minute","to_base","to_base64","to_base64url","to_big_endian_64","to_char","to_date","to_hex","to_ieee754_32","to_ieee754_64","to_iso8601","to_milliseconds","to_timestamp","to_unixtime","to_utf8","transform","transform_keys","transform_values","trim","truncate","typeof","upper","url_decode","url_encode","url_extract_fragment","url_extract_host","url_extract_parameter","url_extract_path","url_extract_port","url_extract_protocol","url_extract_query","uuid","variance","var_pop","var_samp","week","week_of_year","width_bucket","word_stem","xxhash64","year","year_of_week","yow","zip","zip_with"]}},qLB9:function(t,e){},qvIj:function(t,e){},r9SG:function(t,e){},t5qh:function(t,e){},wrbE:function(t,e){},xkN1:function(t,e){},zNzv:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.559c424d429cb650bc24.js.map